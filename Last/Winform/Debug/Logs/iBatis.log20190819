--------------------------------------------------------------------------------
2019-08-19 09:14:03,862 [1] DEBUG - Statement Id: [DAO00001_DBList] PreparedStatement : [select *              from TM_SYS_SERVER              where HOSPITAL_ID = '_SYSTEM_' and TYPE = 'D']
2019-08-19 09:14:04,608 [1] DEBUG - Statement Id: [DAO00001_DaoList] PreparedStatement : [select              TM_SYS_SERVICEMAP.ID,              TM_SYS_SERVICEMAP.HOSPITAL_ID,              TM_SYS_SERVICEMAP.DB_NAME,              TM_SYS_SERVICEMAP.TYPE,              TM_SYS_SERVICEMAP.NAME,              TM_SYS_SERVICEMAP.CLASS,              (TM_SYS_DIC.VALUE + '.' + TM_SYS_SERVICEMAP.CLASS) as CLASSFULL,              TM_SYS_SERVICEMAP.ASSEMBLY              from TM_SYS_SERVICEMAP              inner join TM_SYS_DIC              on TM_SYS_SERVICEMAP.NAMESPACE = TM_SYS_DIC.ID              where HOSPITAL_ID = '_SYSTEM_' AND TYPE = 'D' AND ACTIVE = '1'              order by DB_NAME]
2019-08-19 09:14:04,699 [1] DEBUG - Statement Id: [DAO00001_ServiceList] PreparedStatement : [select              TM_SYS_SERVICEMAP.ID,              TM_SYS_SERVICEMAP.HOSPITAL_ID,              TM_SYS_SERVICEMAP.DB_NAME,              TM_SYS_SERVICEMAP.TYPE,              TM_SYS_SERVICEMAP.NAME,              TM_SYS_SERVICEMAP.CLASS,              (TM_SYS_DIC.VALUE + '.' + TM_SYS_SERVICEMAP.CLASS) as CLASSFULL,              TM_SYS_SERVICEMAP.ASSEMBLY,              TM_SYS_SERVER.URL              from TM_SYS_SERVICEMAP              inner join TM_SYS_DIC on TM_SYS_SERVICEMAP.NAMESPACE = TM_SYS_DIC.ID              inner join TM_SYS_SERVER on (TM_SYS_SERVICEMAP.DB_NAME = TM_SYS_SERVER.NAME) and (TM_SYS_SERVER.HOSPITAL_ID = '_SYSTEM_')              where TM_SYS_SERVICEMAP.HOSPITAL_ID = '_SYSTEM_' AND TM_SYS_SERVICEMAP.TYPE = 'S'  AND ACTIVE = '1'              order by URL]
2019-08-19 09:14:05,528 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = '_SYSTEM_'               AND                   TM_SYS_SCREEN.PAGE = 'LOGIN'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:14:05,848 [1] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = '_SYSTEM_'               AND                   TM_SYS_CACHE.ACTIVE = '1']
2019-08-19 09:14:14,817 [1] DEBUG - Statement Id: [DAO00001_DBList] PreparedStatement : [select *              from TM_SYS_SERVER              where HOSPITAL_ID = 'HLU01' and TYPE = 'D']
2019-08-19 09:14:14,847 [1] DEBUG - Statement Id: [DAO00001_DaoList] PreparedStatement : [select              TM_SYS_SERVICEMAP.ID,              TM_SYS_SERVICEMAP.HOSPITAL_ID,              TM_SYS_SERVICEMAP.DB_NAME,              TM_SYS_SERVICEMAP.TYPE,              TM_SYS_SERVICEMAP.NAME,              TM_SYS_SERVICEMAP.CLASS,              (TM_SYS_DIC.VALUE + '.' + TM_SYS_SERVICEMAP.CLASS) as CLASSFULL,              TM_SYS_SERVICEMAP.ASSEMBLY              from TM_SYS_SERVICEMAP              inner join TM_SYS_DIC              on TM_SYS_SERVICEMAP.NAMESPACE = TM_SYS_DIC.ID              where HOSPITAL_ID = 'HLU01' AND TYPE = 'D' AND ACTIVE = '1'              order by DB_NAME]
2019-08-19 09:14:18,933 [1] DEBUG - Statement Id: [DAO00001_ServiceList] PreparedStatement : [select              TM_SYS_SERVICEMAP.ID,              TM_SYS_SERVICEMAP.HOSPITAL_ID,              TM_SYS_SERVICEMAP.DB_NAME,              TM_SYS_SERVICEMAP.TYPE,              TM_SYS_SERVICEMAP.NAME,              TM_SYS_SERVICEMAP.CLASS,              (TM_SYS_DIC.VALUE + '.' + TM_SYS_SERVICEMAP.CLASS) as CLASSFULL,              TM_SYS_SERVICEMAP.ASSEMBLY,              TM_SYS_SERVER.URL              from TM_SYS_SERVICEMAP              inner join TM_SYS_DIC on TM_SYS_SERVICEMAP.NAMESPACE = TM_SYS_DIC.ID              inner join TM_SYS_SERVER on (TM_SYS_SERVICEMAP.DB_NAME = TM_SYS_SERVER.NAME) and (TM_SYS_SERVER.HOSPITAL_ID = 'HLU01')              where TM_SYS_SERVICEMAP.HOSPITAL_ID = 'HLU01' AND TM_SYS_SERVICEMAP.TYPE = 'S'  AND ACTIVE = '1'              order by URL]
2019-08-19 09:14:19,089 [6] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1']
2019-08-19 09:14:20,153 [6] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM005']
2019-08-19 09:14:20,416 [6] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM015']
2019-08-19 09:14:20,490 [6] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM067']
2019-08-19 09:14:20,573 [6] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM008']
2019-08-19 09:14:20,658 [6] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM068']
2019-08-19 09:14:20,742 [6] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM006']
2019-08-19 09:14:20,828 [6] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM030']
2019-08-19 09:14:20,906 [6] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM025']
2019-08-19 09:14:20,984 [6] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM024']
2019-08-19 09:14:21,496 [6] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM033']
2019-08-19 09:14:21,537 [6] DEBUG - Statement Id: [DAO00027_GetListDuocKyGuiTonKho] PreparedStatement : [select  distinct TT_TONKHO.DUOC_KEY, LTRIM(TT_TONKHO.KHODUOC_ID) as KHODUOC_ID, TM_DUOC.DUOC_ID, TM_LOAIDUOC.MALOAIDUOC,TM_DUOC.SOVISA,TM_DUOC.TYLE_VAT,TM_DUOC.COTOA,        TM_DUOC.MADUOC, TM_DUOC.TENHANG, TM_DUOC.TENDUOCDAYDU, dvt.TENDONVITINH as DONVITINH,  TM_DUOC.DONVITINH_ID,TM_DUOC.BHYT,TM_DUOC.PHAMVI,        TM_DUOC.TENHOATCHAT, TM_DUOC.HAMLUONG, TM_DUOC.HANGSANXUAT, TM_DUOC.QUOCGIA, TM_DUOC.LOAIDUOC_ID, TM_DUOC.DUONGDUNG_ID,        TM_TENDUOC.TENDUOC, TM_TENDUOC.TENDUOC_EN, TM_TENDUOC.MAQUOCTE, TM_TENDUOC.MAQUOCTEBT,        TM_LOAIDUOC.LOAIVATTU_ID, TM_DUOC.BENHVIEN_ID,TT_TONKHO.SOLUONG, TT_TONKHO.NGUONDUOC_ID, NH.TENNGUONDUOC        , TAMNGUNG = CASE WHEN TM_DUOC.TAMNGUNG = '1' OR nh.TAMNGUNG = '1' OR KD.TAMNGUNG = '1' THEN '1' ELSE '0' END        , TM_DUOC.DANGTRINHBAY        from TM_DUOC        left join TM_DONVITINH dvt on dvt.DONVITINH_ID = TM_DUOC.DONVITINH_ID        left join TM_TENDUOC on TM_DUOC.TENDUOC_ID = TM_TENDUOC.TENDUOC_ID and TM_DUOC.BENHVIEN_ID = 'HLU01' and TM_DUOC.TAMNGUNG = '0'        left join TM_LOAIDUOC on TM_LOAIDUOC.LOAIDUOC_ID = TM_DUOC.LOAIDUOC_ID and TM_LOAIDUOC.BENHVIEN_ID = 'HLU01'        left join TM_DUOC_HANDUNG on (TM_LOAIDUOC.LOAIVATTU_ID = TM_DUOC_HANDUNG.LOAIDUOC and TM_DUOC_HANDUNG.BENHVIEN_ID = 'HLU01')        inner join        (select LTRIM(A.KHODUOC_ID) + '_' + LTRIM(A.DUOC_ID) + '_' + LTRIM(ISNULL(A.NGUONDUOC_ID,'')) as DUOC_KEY, A.KHODUOC_ID, A.DUOC_ID,A.NGUONDUOC_ID,        SUM(isnull(A.SOLUONG,0)) as SOLUONG        from        (select SUM(SOLUONG) as SOLUONG, KHODUOC_ID, DUOC_ID, NGUONDUOC_ID from TT_DUOC_KYGUI_TONKHO        where BENHVIEN_ID = 'HLU01' group by KHODUOC_ID, DUOC_ID, NGUONDUOC_ID) A        group by LTRIM(A.KHODUOC_ID) + '_' + LTRIM(A.DUOC_ID) + '_' + LTRIM(A.NGUONDUOC_ID), A.KHODUOC_ID, A.DUOC_ID, A.NGUONDUOC_ID)        TT_TONKHO on TT_TONKHO.DUOC_ID = TM_DUOC.DUOC_ID        left join TM_NGUONHANG nh on nh.NGUONDUOC_ID = TT_TONKHO.NGUONDUOC_ID and nh.BENHVIEN_ID = 'HLU01'        LEFT JOIN TM_KHODUOC KD ON KD.KHODUOC_ID = TT_TONKHO.KHODUOC_ID        where TM_DUOC.BENHVIEN_ID = 'HLU01' AND TT_TONKHO.SOLUONG >= 0]
2019-08-19 09:14:21,621 [6] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM018']
2019-08-19 09:14:21,667 [6] DEBUG - Statement Id: [DAO00027_GetListDuocTonKho] PreparedStatement : [select distinct TT_TONKHO.DUOC_KEY, LTRIM(TT_TONKHO.KHODUOC_ID) as KHODUOC_ID, TM_DUOC.DUOC_ID, TM_LOAIDUOC.MALOAIDUOC,TM_DUOC.SOVISA,TM_DUOC.TYLE_VAT,TM_DUOC.COTOA,        TM_DUOC.MADUOC, TM_DUOC.TENHANG, TM_DUOC.TENDUOCDAYDU, dvt.TENDONVITINH as DONVITINH,  TM_DUOC.DONVITINH_ID,TM_DUOC.BHYT,                TM_DUOC.TENHOATCHAT,          TM_DUOC.HAMLUONG, TM_DUOC.HANGSANXUAT, TM_DUOC.QUOCGIA, TM_DUOC.LOAIDUOC_ID, TM_DUOC.DUONGDUNG_ID,        TM_TENDUOC.TENDUOC, TM_TENDUOC.TENDUOC_EN, TM_TENDUOC.MAQUOCTE, TM_TENDUOC.MAQUOCTEBT,        TM_LOAIDUOC.LOAIVATTU_ID, TM_DUOC.BENHVIEN_ID,        TT_TONKHO.SOLUONG, TM_DUOC.VTYT_PHANLOAI, TM_DUOC.PHAMVI, TT_TONKHO.NGUONDUOC_ID, NG.TENNGUONDUOC AS TENNGUONDUOC        , TAMNGUNG = CASE WHEN TM_DUOC.TAMNGUNG = '1' OR NG.TAMNGUNG = '1' OR KD.TAMNGUNG = '1' THEN '1' ELSE '0' END        , TM_DUOC.DANGTRINHBAY        from TM_DUOC        left join TM_DONVITINH dvt on dvt.DONVITINH_ID = TM_DUOC.DONVITINH_ID        left join TM_TENDUOC on TM_DUOC.TENDUOC_ID = TM_TENDUOC.TENDUOC_ID and TM_DUOC.BENHVIEN_ID = 'HLU01' and TM_DUOC.TAMNGUNG = '0'        left join TM_LOAIDUOC on TM_LOAIDUOC.LOAIDUOC_ID = TM_DUOC.LOAIDUOC_ID and TM_LOAIDUOC.BENHVIEN_ID = 'HLU01'        left join TM_DUOC_HANDUNG on (TM_LOAIDUOC.LOAIVATTU_ID = TM_DUOC_HANDUNG.LOAIDUOC and TM_DUOC_HANDUNG.BENHVIEN_ID = 'HLU01')        inner join        (select LTRIM(A.KHODUOC_ID) + '_' + LTRIM(A.DUOC_ID) + '_' + LTRIM(ISNULL(A.NGUONDUOC_ID,'')) as DUOC_KEY, A.KHODUOC_ID, A.DUOC_ID, A.NGUONDUOC_ID,        SUM(isnull(A.SOLUONG,0)) as SOLUONG        from        (select SUM(SOLUONG) as SOLUONG, KHODUOC_ID, DUOC_ID, NGUONDUOC_ID from TT_DUOC_TONKHO        where BENHVIEN_ID = 'HLU01' group by KHODUOC_ID, DUOC_ID, NGUONDUOC_ID) A        group by LTRIM(A.KHODUOC_ID) + '_' + LTRIM(A.DUOC_ID) + '_' + LTRIM(ISNULL(A.NGUONDUOC_ID,'')), A.KHODUOC_ID, A.DUOC_ID, NGUONDUOC_ID        ) TT_TONKHO on TT_TONKHO.DUOC_ID = TM_DUOC.DUOC_ID        LEFT JOIN TM_NGUONHANG NG ON NG.NGUONDUOC_ID = TT_TONKHO.NGUONDUOC_ID        LEFT JOIN TM_KHODUOC KD ON KD.KHODUOC_ID = TT_TONKHO.KHODUOC_ID        where TM_DUOC.BENHVIEN_ID = 'HLU01' and TT_TONKHO.SOLUONG >= 0]
2019-08-19 09:14:24,652 [6] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM023']
2019-08-19 09:14:24,684 [6] DEBUG - Statement Id: [DAO00027_GetListDuocTonKhoVaBooking] PreparedStatement : [declare @TOAMUANGOAI int = 0;        select @TOAMUANGOAI = isnull(VALUE,0) from TM_SYS_APPSETTINGS where CODE = 'OPD_TOAMUANGOAI_DUNGDANHMUC_DUOC'                if @TOAMUANGOAI = 1        begin        select  distinct '0' + '_' + LTRIM(d.DUOC_ID) + '_' + '0' as DUOC_KEY, 0 as PHAMVI_ID, 0 as NGUONDUOC_ID, null as TENNGUONDUOC, null as TINHTIEN, d.DUOC_ID, ld.MALOAIDUOC,        d.SOVISA,d.TYLE_VAT,d.COTOA, d.MADUOC, d.TENHANG, d.TENDUOCDAYDU, d.DONVITINH as DONVITINH, d.BHYT,        d.TENHOATCHAT, d.HAMLUONG, d.HANGSANXUAT, d.QUOCGIA, d.LOAIDUOC_ID, d.DUONGDUNG_ID, d.TINHTIEN_PTTT,        ten.TENDUOC, ten.TENDUOC_EN, ten.MAQUOCTE, ten.MAQUOCTEBT,        '' as BHYT_TEXT        , ld.LOAIVATTU_ID        , d.BENHVIEN_ID,        999999999 as SOLUONG, d.VTYT_PHANLOAI, d.PHAMVI, d.SUASOLUONGTONGHOP, d.MADUOCBV, d.DANGTRINHBAY        , TAMNGUNG = CASE WHEN d.TAMNGUNG = '1' THEN '1' ELSE '0' END        from TM_DUOC d        left join TM_DONVITINH dvt on dvt.DONVITINH_ID = d.DONVITINH_ID        left join TM_TENDUOC ten on d.TENDUOC_ID = ten.TENDUOC_ID        left join TM_LOAIDUOC ld on ld.LOAIDUOC_ID = d.LOAIDUOC_ID and ld.BENHVIEN_ID = 'HLU01'        left join TM_DUOC_HANDUNG hd on (ld.LOAIVATTU_ID = hd.LOAIDUOC  and hd.BENHVIEN_ID = 'HLU01')        union all        select  distinct tk.DUOC_KEY, LTRIM(tk.PHAMVI_ID) as PHAMVI_ID, tk.NGUONDUOC_ID, nh.TENNGUONDUOC, nh.TINHTIEN, d.DUOC_ID, ld.MALOAIDUOC,        d.SOVISA,d.TYLE_VAT,d.COTOA, d.MADUOC, d.TENHANG, d.TENDUOCDAYDU, dvt.TENDONVITINH as DONVITINH, d.BHYT,        d.TENHOATCHAT, d.HAMLUONG, d.HANGSANXUAT, d.QUOCGIA, d.LOAIDUOC_ID, d.DUONGDUNG_ID, d.TINHTIEN_PTTT,        ten.TENDUOC, ten.TENDUOC_EN, ten.MAQUOCTE, ten.MAQUOCTEBT,        CASE WHEN d.BHYT = '1' THEN 'BHYT' ELSE '' END as BHYT_TEXT        , ld.LOAIVATTU_ID        , d.BENHVIEN_ID,        tk.SOLUONG, d.VTYT_PHANLOAI, d.PHAMVI, d.SUASOLUONGTONGHOP, d.MADUOCBV, d.DANGTRINHBAY        , TAMNGUNG = CASE WHEN d.TAMNGUNG = '1' OR nh.TAMNGUNG = '1' OR kd.TAMNGUNG = '1' THEN '1' ELSE '0' END        from TM_DUOC d        left join TM_DONVITINH dvt on dvt.DONVITINH_ID = d.DONVITINH_ID        left join TM_TENDUOC ten on d.TENDUOC_ID = ten.TENDUOC_ID        left join TM_LOAIDUOC ld on ld.LOAIDUOC_ID = d.LOAIDUOC_ID and ld.BENHVIEN_ID = 'HLU01'        left join TM_DUOC_HANDUNG hd on (ld.LOAIVATTU_ID = hd.LOAIDUOC  and hd.BENHVIEN_ID = 'HLU01')        inner join        (        select  LTRIM(pvsd.PHAMVI_ID)  + '_' + LTRIM(dtk.DUOC_ID) + '_' + LTRIM(ISNULL(dtk.NGUONDUOC_ID,'')) DUOC_KEY, (SUM(dtk.SOLUONG) - isnull(sum(A.SOLUONG),0) - isnull(sum(B.SOLUONG),0)) SOLUONG, pvsd.PHAMVI_ID, dtk.NGUONDUOC_ID, dtk.DUOC_ID        from (select sum(soluong) soluong,duoc_id,nguonduoc_id,khoduoc_id,benhvien_id from TT_DUOC_TONKHO  group by duoc_id,nguonduoc_id,khoduoc_id,benhvien_id) dtk        inner join TM_DUOC_PHAMVISD_MAPPING pvsd on dtk.KHODUOC_ID = pvsd.KHODUOC_ID        left join (select sum(SOLUONG) SOLUONG, PHAMVI_ID, DUOC_ID, NGUONHANG_ID from  TT_DUOC_TONKHO_BOOK_NOITRU where TRANGTHAI != 'HUY'        group by  PHAMVI_ID, DUOC_ID, NGUONHANG_ID) B on B.DUOC_ID = dtk.DUOC_ID and B.SOLUONG > 0 and B.PHAMVI_ID = pvsd.PHAMVI_ID and B.NGUONHANG_ID = dtk.NGUONDUOC_ID        left join (select sum(SOLUONG) SOLUONG, PHAMVI_ID, DUOC_ID, NGUONHANG_ID from  TT_DUOC_TONKHO_BOOK_NGOAITRU where TRANGTHAI != 'HUY'        group by  PHAMVI_ID, DUOC_ID, NGUONHANG_ID) A on A.DUOC_ID = dtk.DUOC_ID and A.SOLUONG > 0 and A.PHAMVI_ID = pvsd.PHAMVI_ID and A.NGUONHANG_ID = dtk.NGUONDUOC_ID        where dtk.SOLUONG > 0 and dtk.BENHVIEN_ID = 'HLU01'        group by LTRIM(pvsd.PHAMVI_ID)  + '_' + LTRIM(dtk.DUOC_ID) + '_' + LTRIM(ISNULL(dtk.NGUONDUOC_ID,'')), pvsd.PHAMVI_ID, dtk.NGUONDUOC_ID, dtk.DUOC_ID        ) tk on tk.DUOC_ID = d.DUOC_ID        left join TM_DUOC_PHAMVISUDUNG kd on kd.PHAMVI_ID = tk.PHAMVI_ID and kd.BENHVIEN_ID = 'HLU01'        left join TM_NGUONHANG nh on nh.NGUONDUOC_ID = tk.NGUONDUOC_ID and nh.BENHVIEN_ID = 'HLU01'        where d.BENHVIEN_ID = 'HLU01'  and tk.SOLUONG >= 0         end                else        begin        select  distinct tk.DUOC_KEY, LTRIM(tk.PHAMVI_ID) as PHAMVI_ID, tk.NGUONDUOC_ID, nh.TENNGUONDUOC, nh.TINHTIEN, d.DUOC_ID, ld.MALOAIDUOC,        d.SOVISA,d.TYLE_VAT,d.COTOA, d.MADUOC, d.TENHANG, d.TENDUOCDAYDU, d.DONVITINH as DONVITINH, d.BHYT,        d.TENHOATCHAT, d.HAMLUONG, d.HANGSANXUAT, d.QUOCGIA, d.LOAIDUOC_ID, d.DUONGDUNG_ID, d.TINHTIEN_PTTT,        ten.TENDUOC, ten.TENDUOC_EN, ten.MAQUOCTE, ten.MAQUOCTEBT,        CASE WHEN d.BHYT = '1' THEN 'BHYT' ELSE '' END as BHYT_TEXT        , ld.LOAIVATTU_ID        , d.BENHVIEN_ID,        tk.SOLUONG, d.VTYT_PHANLOAI, d.PHAMVI, d.SUASOLUONGTONGHOP, d.MADUOCBV, d.DANGTRINHBAY        , TAMNGUNG = CASE WHEN d.TAMNGUNG = '1' OR nh.TAMNGUNG = '1' OR kd.TAMNGUNG = '1' THEN '1' ELSE '0' END        from TM_DUOC d        left join TM_DONVITINH dvt on dvt.DONVITINH_ID = d.DONVITINH_ID        left join TM_TENDUOC ten on d.TENDUOC_ID = ten.TENDUOC_ID        left join TM_LOAIDUOC ld on ld.LOAIDUOC_ID = d.LOAIDUOC_ID and ld.BENHVIEN_ID = 'HLU01'        left join TM_DUOC_HANDUNG hd on (ld.LOAIVATTU_ID = hd.LOAIDUOC  and hd.BENHVIEN_ID = 'HLU01')        inner join        (        select  LTRIM(pvsd.PHAMVI_ID)  + '_' + LTRIM(dtk.DUOC_ID) + '_' + LTRIM(ISNULL(dtk.NGUONDUOC_ID,'')) DUOC_KEY, (SUM(dtk.SOLUONG) - isnull(sum(A.SOLUONG),0) - isnull(sum(B.SOLUONG),0)) SOLUONG, pvsd.PHAMVI_ID, dtk.NGUONDUOC_ID, dtk.DUOC_ID        from (select sum(soluong) soluong,duoc_id,nguonduoc_id,khoduoc_id,benhvien_id from TT_DUOC_TONKHO  group by duoc_id,nguonduoc_id,khoduoc_id,benhvien_id) dtk        inner join TM_DUOC_PHAMVISD_MAPPING pvsd on dtk.KHODUOC_ID = pvsd.KHODUOC_ID        left join (select sum(SOLUONG) SOLUONG, PHAMVI_ID, DUOC_ID, NGUONHANG_ID from  TT_DUOC_TONKHO_BOOK_NOITRU where TRANGTHAI != 'HUY'        group by  PHAMVI_ID, DUOC_ID, NGUONHANG_ID) B on B.DUOC_ID = dtk.DUOC_ID and B.SOLUONG > 0 and B.PHAMVI_ID = pvsd.PHAMVI_ID and B.NGUONHANG_ID = dtk.NGUONDUOC_ID        left join (select sum(SOLUONG) SOLUONG, PHAMVI_ID, DUOC_ID, NGUONHANG_ID from  TT_DUOC_TONKHO_BOOK_NGOAITRU where TRANGTHAI != 'HUY'        group by  PHAMVI_ID, DUOC_ID, NGUONHANG_ID) A on A.DUOC_ID = dtk.DUOC_ID and A.SOLUONG > 0 and A.PHAMVI_ID = pvsd.PHAMVI_ID and A.NGUONHANG_ID = dtk.NGUONDUOC_ID        where dtk.SOLUONG > 0 and dtk.BENHVIEN_ID = 'HLU01'        group by LTRIM(pvsd.PHAMVI_ID)  + '_' + LTRIM(dtk.DUOC_ID) + '_' + LTRIM(ISNULL(dtk.NGUONDUOC_ID,'')), pvsd.PHAMVI_ID, dtk.NGUONDUOC_ID, dtk.DUOC_ID        ) tk on tk.DUOC_ID = d.DUOC_ID        left join TM_DUOC_PHAMVISUDUNG kd on kd.PHAMVI_ID = tk.PHAMVI_ID and kd.BENHVIEN_ID = 'HLU01'        left join TM_NGUONHANG nh on nh.NGUONDUOC_ID = tk.NGUONDUOC_ID and nh.BENHVIEN_ID = 'HLU01'        where d.BENHVIEN_ID = 'HLU01'  and tk.SOLUONG >= 0        end]
2019-08-19 09:14:28,587 [6] DEBUG - Statement Id: [DAO00320_GetList] PreparedStatement : [select M.*            from TM_MAU M            LEFT JOIN TM_MAU_DONVITINH DVT on M.DONVITINH_ID=DVT.DONVITINH_ID            where            M.TAMNGUNG = '0'            and M.BENHVIEN_ID = 'HLU01'            order by M.TENMAU]
2019-08-19 09:14:28,656 [6] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM071']
2019-08-19 09:14:28,690 [6] DEBUG - Statement Id: [DAO00322_GetListMauTonKhoForCreateCached] PreparedStatement : [SELECT DISTINCT          TK.MAU_KEY, TK.KHOMAU_ID, M.MAU_ID, M.MAMAU, M.TENMAU, M.NHOM_ABO, M.NHOM_RH, M.LOAIMAU_ID,          TK.SOLONHAP_ID, SLN.SOLONHAP, SLN.SOKIEMSOAT, TK.NGUONHANG_ID, NG.TENNGUONMAU, M.BENHVIEN_ID, M.DONVITINH_ID,          SUM(tk.SOLUONG) AS SOLUONG,K.TENKHO,DVT.TENDONVITINH          FROM TT_MAU_TONKHO TK          JOIN TM_KHO K ON TK.KHOMAU_ID = K.KHO_ID          JOIN TT_MAU_CHUNGTU_SOLONHAP SLN ON TK.SOLONHAP_ID = SLN.SOLONHAP_ID          JOIN TM_MAU M on TK.MAU_ID = M.MAU_ID and M.TAMNGUNG = '0'          LEFT JOIN TM_MAU_DONVITINH DVT on M.DONVITINH_ID=DVT.DONVITINH_ID          LEFT JOIN TM_NGUONMAU NG ON NG.NGUONMAU_ID = TK.NGUONHANG_ID          WHERE TK.SOLUONG > 0          GROUP BY TK.MAU_KEY, TK.KHOMAU_ID, M.MAU_ID, M.MAMAU, M.TENMAU, M.NHOM_ABO, M.NHOM_RH, M.LOAIMAU_ID,          TK.SOLONHAP_ID, SLN.SOLONHAP, SLN.SOKIEMSOAT,TK.NGUONHANG_ID, NG.TENNGUONMAU, M.BENHVIEN_ID, M.DONVITINH_ID,K.TENKHO,DVT.TENDONVITINH]
2019-08-19 09:14:28,764 [6] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM073']
2019-08-19 09:14:28,797 [6] DEBUG - Statement Id: [DAO00322_GetListMauTonKhoTruBooking] PreparedStatement : [select distinct          TK.MAU_KEY, TK.KHOMAU_ID, M.MAU_ID, M.MAMAU, M.TENMAU, M.NHOM_ABO, M.NHOM_RH, M.LOAIMAU_ID, M.DONVITINH_ID,          TK.SOLONHAP_ID, TK.SOLONHAP, TK.SOKIEMSOAT,M.PHAMVI, TK.NGUONHANG_ID, NG.TENNGUONMAU, M.BENHVIEN_ID,          TK.SOLUONG,TK.TENKHO,DVT.TENDONVITINH          from TM_MAU M          JOIN          (          select          A.MAU_KEY, A.KHOMAU_ID, A.MAU_ID ,a.NGUONHANG_ID, A.SOLONHAP_ID, A.SOLONHAP, A.SOKIEMSOAT, A.SOLUONG,A.TENKHO          from          (          select KHOMAU_ID, TK.MAU_ID, TK.NGUONHANG_ID, TK.MAU_KEY, SLN.SOLONHAP_ID, SLN.SOLONHAP, SLN.SOKIEMSOAT, ISNULL(TK.SOLUONG,0) - ISNULL(book.SOLUONG,0) as SOLUONG,K.TENKHO          from TT_MAU_TONKHO TK          JOIN TM_KHO K ON TK.KHOMAU_ID = K.KHO_ID          inner join TT_MAU_CHUNGTU_SOLONHAP SLN ON TK.SOLONHAP_ID = SLN.SOLONHAP_ID          left join dbo.TT_MAU_TONKHO_BOOK book ON book.MAU_KEY = TK.MAU_KEY AND book.TRANGTHAI = 'HIEULUC'          where ISNULL(TK.SOLUONG,0) - ISNULL(book.SOLUONG,0) > 0          ) A          )TK on TK.MAU_ID = M.MAU_ID and M.TAMNGUNG = '0'          LEFT JOIN TM_MAU_DONVITINH DVT on M.DONVITINH_ID=DVT.DONVITINH_ID          LEFT JOIN TM_NGUONMAU NG ON NG.NGUONMAU_ID = TK.NGUONHANG_ID]
2019-08-19 09:14:28,879 [6] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM072']
2019-08-19 09:14:29,884 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'MAIN'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:14:32,443 [1] DEBUG - Statement Id: [DAO00002_FormList] PreparedStatement : [select              TM_SYS_FORM.HOSPITAL_ID,              TM_SYS_FORM.NAME,              TM_SYS_FORM.CLASS,              TM_SYS_FORM.ASSEMBLY,              TM_SYS_FORM.TITLE_VI as TITLE              from TM_SYS_FORM              where HOSPITAL_ID = 'HLU01']
2019-08-19 09:14:43,179 [1] DEBUG - Statement Id: [DAO00300_GetShortcutListByUserID] PreparedStatement : [SELECT S.SHORTCUT_CODE, S.SHORTCUT_VALUE              FROM TM_SHORTCUT AS S              WHERE S.BENHVIEN_ID = 'HLU01' AND S.USER_ID = '1' AND TAMNGUNG = '0']
2019-08-19 09:14:43,209 [1] DEBUG - Statement Id: [DAO00087_GetList] PreparedStatement : [select CODE, VALUE, BENHVIEN_ID              from TM_SYS_APPSETTINGS              where LOCKED = '0' and BENHVIEN_ID = 'HLU01'              order by SETTING_ID]
2019-08-19 09:14:43,312 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'MSG01'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:14:43,471 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'MSG02'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:14:43,744 [1] DEBUG - Statement Id: [DAO00008_GetUserSettings] PreparedStatement : [select A.*, B.TENKHO , C.TENPHONGBAN, B.MAKHO, C.MAPHONGBAN          from TM_SYS_USERS A          left join TM_KHODUOC B on B.KHODUOC_ID = A.INVENTORY_ID          left join TM_PHONGBAN C on (C.PHONGBAN_ID = A.WORKING_DEPT_ID and C.BENHVIEN_ID =  @param0 )          left join TM_SYS_USERKHO D on (D.ACCOUNT_ID = A.ACCOUNT_ID and D.HOSPITAL_ID =  @param0 )          where          A.HOSPITAL_ID =  @param0            and                 A.ACCOUNT_ID =  @param1]
2019-08-19 09:14:43,746 [1] DEBUG - Statement Id: [DAO00008_GetUserSettings] Parameters: [@param0=[HOSPITAL_ID,HLU01], @param1=[ACCOUNT_ID,113]]
2019-08-19 09:14:43,746 [1] DEBUG - Statement Id: [DAO00008_GetUserSettings] Types: [@param0=[String, System.String], @param1=[String, System.String]]
2019-08-19 09:14:43,777 [1] DEBUG - Statement Id: [DAO00008_GetUserInvSettings] PreparedStatement : [select A.*, B.TENKHO, B.MAKHO, B.LOAIKHO_ID, B.KHOQUANLY_ID          from TM_SYS_USERKHO A          left join TM_KHO B on B.MODULE_ID = A.MODULE_ID and B.KHO_ID = A.KHO_ID          where A.HOSPITAL_ID =  @param0  and A.ACCOUNT_ID =  @param1           order by B.TENKHO]
2019-08-19 09:14:43,777 [1] DEBUG - Statement Id: [DAO00008_GetUserInvSettings] Parameters: [@param0=[HOSPITAL_ID,HLU01], @param1=[ACCOUNT_ID,113]]
2019-08-19 09:14:43,777 [1] DEBUG - Statement Id: [DAO00008_GetUserInvSettings] Types: [@param0=[String, System.String], @param1=[String, System.String]]
2019-08-19 09:14:43,957 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'COM30'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:14:44,267 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'RIS04'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:15:00,438 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'MENU1'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:15:00,563 [1] DEBUG - Statement Id: [DAO00011_GetList] PreparedStatement : [select              TM_SYS_MENU.ID,              TM_SYS_MENU.PARENTID,              TM_SYS_MENU.SCREEN,              TM_SYS_MENU.SMALLIMAGE,              TM_SYS_MENU.LARGEIMAGE,              TM_SYS_MENU.DESCRIPTION,              TM_SYS_MENU.TYPE,              TM_SYS_MENU.TITLE_VI as TITLE              from TM_SYS_MENU              where TM_SYS_MENU.HOSPITAL_ID = 'HLU01' and TM_SYS_MENU.ACTIVE = '1'               AND                   (TM_SYS_MENU.TYPE & '8' = '8')                             order by TM_SYS_MENU.ORDERNUM]
2019-08-19 09:15:01,107 [1] DEBUG - Statement Id: [DAO00011_usermenu_list] PreparedStatement : [select              TM_SYS_HOMEMENU.MENUID as ID,              TM_SYS_MENU.TITLE_VI as TITLE,              TM_SYS_MENU.SCREEN,              TM_SYS_MENU.SMALLIMAGE,              TM_SYS_MENU.LARGEIMAGE,              TM_SYS_MENU.TYPE              from TM_SYS_HOMEMENU              left join TM_SYS_MENU on TM_SYS_MENU.ID = TM_SYS_HOMEMENU.MENUID and TM_SYS_MENU.HOSPITAL_ID = TM_SYS_HOMEMENU.HOSPITAL_ID              where TM_SYS_HOMEMENU.HOSPITAL_ID = 'HLU01' and TM_SYS_HOMEMENU.USERID = '113' and TM_SYS_MENU.ACTIVE = '1'               AND                   (TM_SYS_MENU.TYPE & '8' = '8')                             ORDER BY TM_SYS_HOMEMENU.ORDERNUM]
--------------------------------------------------------------------------------
2019-08-19 09:28:43,484 [1] DEBUG - Statement Id: [DAO00001_DBList] PreparedStatement : [select *              from TM_SYS_SERVER              where HOSPITAL_ID = '_SYSTEM_' and TYPE = 'D']
2019-08-19 09:28:43,755 [1] DEBUG - Statement Id: [DAO00001_DaoList] PreparedStatement : [select              TM_SYS_SERVICEMAP.ID,              TM_SYS_SERVICEMAP.HOSPITAL_ID,              TM_SYS_SERVICEMAP.DB_NAME,              TM_SYS_SERVICEMAP.TYPE,              TM_SYS_SERVICEMAP.NAME,              TM_SYS_SERVICEMAP.CLASS,              (TM_SYS_DIC.VALUE + '.' + TM_SYS_SERVICEMAP.CLASS) as CLASSFULL,              TM_SYS_SERVICEMAP.ASSEMBLY              from TM_SYS_SERVICEMAP              inner join TM_SYS_DIC              on TM_SYS_SERVICEMAP.NAMESPACE = TM_SYS_DIC.ID              where HOSPITAL_ID = '_SYSTEM_' AND TYPE = 'D' AND ACTIVE = '1'              order by DB_NAME]
2019-08-19 09:28:43,796 [1] DEBUG - Statement Id: [DAO00001_ServiceList] PreparedStatement : [select              TM_SYS_SERVICEMAP.ID,              TM_SYS_SERVICEMAP.HOSPITAL_ID,              TM_SYS_SERVICEMAP.DB_NAME,              TM_SYS_SERVICEMAP.TYPE,              TM_SYS_SERVICEMAP.NAME,              TM_SYS_SERVICEMAP.CLASS,              (TM_SYS_DIC.VALUE + '.' + TM_SYS_SERVICEMAP.CLASS) as CLASSFULL,              TM_SYS_SERVICEMAP.ASSEMBLY,              TM_SYS_SERVER.URL              from TM_SYS_SERVICEMAP              inner join TM_SYS_DIC on TM_SYS_SERVICEMAP.NAMESPACE = TM_SYS_DIC.ID              inner join TM_SYS_SERVER on (TM_SYS_SERVICEMAP.DB_NAME = TM_SYS_SERVER.NAME) and (TM_SYS_SERVER.HOSPITAL_ID = '_SYSTEM_')              where TM_SYS_SERVICEMAP.HOSPITAL_ID = '_SYSTEM_' AND TM_SYS_SERVICEMAP.TYPE = 'S'  AND ACTIVE = '1'              order by URL]
2019-08-19 09:28:44,321 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = '_SYSTEM_'               AND                   TM_SYS_SCREEN.PAGE = 'LOGIN'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:28:44,662 [1] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = '_SYSTEM_'               AND                   TM_SYS_CACHE.ACTIVE = '1']
2019-08-19 09:28:50,893 [1] DEBUG - Statement Id: [DAO00001_DBList] PreparedStatement : [select *              from TM_SYS_SERVER              where HOSPITAL_ID = 'HLU01' and TYPE = 'D']
2019-08-19 09:28:50,922 [1] DEBUG - Statement Id: [DAO00001_DaoList] PreparedStatement : [select              TM_SYS_SERVICEMAP.ID,              TM_SYS_SERVICEMAP.HOSPITAL_ID,              TM_SYS_SERVICEMAP.DB_NAME,              TM_SYS_SERVICEMAP.TYPE,              TM_SYS_SERVICEMAP.NAME,              TM_SYS_SERVICEMAP.CLASS,              (TM_SYS_DIC.VALUE + '.' + TM_SYS_SERVICEMAP.CLASS) as CLASSFULL,              TM_SYS_SERVICEMAP.ASSEMBLY              from TM_SYS_SERVICEMAP              inner join TM_SYS_DIC              on TM_SYS_SERVICEMAP.NAMESPACE = TM_SYS_DIC.ID              where HOSPITAL_ID = 'HLU01' AND TYPE = 'D' AND ACTIVE = '1'              order by DB_NAME]
2019-08-19 09:28:52,660 [1] DEBUG - Statement Id: [DAO00001_ServiceList] PreparedStatement : [select              TM_SYS_SERVICEMAP.ID,              TM_SYS_SERVICEMAP.HOSPITAL_ID,              TM_SYS_SERVICEMAP.DB_NAME,              TM_SYS_SERVICEMAP.TYPE,              TM_SYS_SERVICEMAP.NAME,              TM_SYS_SERVICEMAP.CLASS,              (TM_SYS_DIC.VALUE + '.' + TM_SYS_SERVICEMAP.CLASS) as CLASSFULL,              TM_SYS_SERVICEMAP.ASSEMBLY,              TM_SYS_SERVER.URL              from TM_SYS_SERVICEMAP              inner join TM_SYS_DIC on TM_SYS_SERVICEMAP.NAMESPACE = TM_SYS_DIC.ID              inner join TM_SYS_SERVER on (TM_SYS_SERVICEMAP.DB_NAME = TM_SYS_SERVER.NAME) and (TM_SYS_SERVER.HOSPITAL_ID = 'HLU01')              where TM_SYS_SERVICEMAP.HOSPITAL_ID = 'HLU01' AND TM_SYS_SERVICEMAP.TYPE = 'S'  AND ACTIVE = '1'              order by URL]
2019-08-19 09:28:52,801 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1']
2019-08-19 09:28:53,809 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM005']
2019-08-19 09:28:53,969 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM015']
2019-08-19 09:28:54,048 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM067']
2019-08-19 09:28:54,142 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM008']
2019-08-19 09:28:54,220 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM068']
2019-08-19 09:28:54,297 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM006']
2019-08-19 09:28:54,383 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM030']
2019-08-19 09:28:54,470 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM025']
2019-08-19 09:28:54,553 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM024']
2019-08-19 09:28:55,079 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM033']
2019-08-19 09:28:55,118 [5] DEBUG - Statement Id: [DAO00027_GetListDuocKyGuiTonKho] PreparedStatement : [select  distinct TT_TONKHO.DUOC_KEY, LTRIM(TT_TONKHO.KHODUOC_ID) as KHODUOC_ID, TM_DUOC.DUOC_ID, TM_LOAIDUOC.MALOAIDUOC,TM_DUOC.SOVISA,TM_DUOC.TYLE_VAT,TM_DUOC.COTOA,        TM_DUOC.MADUOC, TM_DUOC.TENHANG, TM_DUOC.TENDUOCDAYDU, dvt.TENDONVITINH as DONVITINH,  TM_DUOC.DONVITINH_ID,TM_DUOC.BHYT,TM_DUOC.PHAMVI,        TM_DUOC.TENHOATCHAT, TM_DUOC.HAMLUONG, TM_DUOC.HANGSANXUAT, TM_DUOC.QUOCGIA, TM_DUOC.LOAIDUOC_ID, TM_DUOC.DUONGDUNG_ID,        TM_TENDUOC.TENDUOC, TM_TENDUOC.TENDUOC_EN, TM_TENDUOC.MAQUOCTE, TM_TENDUOC.MAQUOCTEBT,        TM_LOAIDUOC.LOAIVATTU_ID, TM_DUOC.BENHVIEN_ID,TT_TONKHO.SOLUONG, TT_TONKHO.NGUONDUOC_ID, NH.TENNGUONDUOC        , TAMNGUNG = CASE WHEN TM_DUOC.TAMNGUNG = '1' OR nh.TAMNGUNG = '1' OR KD.TAMNGUNG = '1' THEN '1' ELSE '0' END        , TM_DUOC.DANGTRINHBAY        from TM_DUOC        left join TM_DONVITINH dvt on dvt.DONVITINH_ID = TM_DUOC.DONVITINH_ID        left join TM_TENDUOC on TM_DUOC.TENDUOC_ID = TM_TENDUOC.TENDUOC_ID and TM_DUOC.BENHVIEN_ID = 'HLU01' and TM_DUOC.TAMNGUNG = '0'        left join TM_LOAIDUOC on TM_LOAIDUOC.LOAIDUOC_ID = TM_DUOC.LOAIDUOC_ID and TM_LOAIDUOC.BENHVIEN_ID = 'HLU01'        left join TM_DUOC_HANDUNG on (TM_LOAIDUOC.LOAIVATTU_ID = TM_DUOC_HANDUNG.LOAIDUOC and TM_DUOC_HANDUNG.BENHVIEN_ID = 'HLU01')        inner join        (select LTRIM(A.KHODUOC_ID) + '_' + LTRIM(A.DUOC_ID) + '_' + LTRIM(ISNULL(A.NGUONDUOC_ID,'')) as DUOC_KEY, A.KHODUOC_ID, A.DUOC_ID,A.NGUONDUOC_ID,        SUM(isnull(A.SOLUONG,0)) as SOLUONG        from        (select SUM(SOLUONG) as SOLUONG, KHODUOC_ID, DUOC_ID, NGUONDUOC_ID from TT_DUOC_KYGUI_TONKHO        where BENHVIEN_ID = 'HLU01' group by KHODUOC_ID, DUOC_ID, NGUONDUOC_ID) A        group by LTRIM(A.KHODUOC_ID) + '_' + LTRIM(A.DUOC_ID) + '_' + LTRIM(A.NGUONDUOC_ID), A.KHODUOC_ID, A.DUOC_ID, A.NGUONDUOC_ID)        TT_TONKHO on TT_TONKHO.DUOC_ID = TM_DUOC.DUOC_ID        left join TM_NGUONHANG nh on nh.NGUONDUOC_ID = TT_TONKHO.NGUONDUOC_ID and nh.BENHVIEN_ID = 'HLU01'        LEFT JOIN TM_KHODUOC KD ON KD.KHODUOC_ID = TT_TONKHO.KHODUOC_ID        where TM_DUOC.BENHVIEN_ID = 'HLU01' AND TT_TONKHO.SOLUONG >= 0]
2019-08-19 09:28:55,219 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM018']
2019-08-19 09:28:55,256 [5] DEBUG - Statement Id: [DAO00027_GetListDuocTonKho] PreparedStatement : [select distinct TT_TONKHO.DUOC_KEY, LTRIM(TT_TONKHO.KHODUOC_ID) as KHODUOC_ID, TM_DUOC.DUOC_ID, TM_LOAIDUOC.MALOAIDUOC,TM_DUOC.SOVISA,TM_DUOC.TYLE_VAT,TM_DUOC.COTOA,        TM_DUOC.MADUOC, TM_DUOC.TENHANG, TM_DUOC.TENDUOCDAYDU, dvt.TENDONVITINH as DONVITINH,  TM_DUOC.DONVITINH_ID,TM_DUOC.BHYT,                TM_DUOC.TENHOATCHAT,          TM_DUOC.HAMLUONG, TM_DUOC.HANGSANXUAT, TM_DUOC.QUOCGIA, TM_DUOC.LOAIDUOC_ID, TM_DUOC.DUONGDUNG_ID,        TM_TENDUOC.TENDUOC, TM_TENDUOC.TENDUOC_EN, TM_TENDUOC.MAQUOCTE, TM_TENDUOC.MAQUOCTEBT,        TM_LOAIDUOC.LOAIVATTU_ID, TM_DUOC.BENHVIEN_ID,        TT_TONKHO.SOLUONG, TM_DUOC.VTYT_PHANLOAI, TM_DUOC.PHAMVI, TT_TONKHO.NGUONDUOC_ID, NG.TENNGUONDUOC AS TENNGUONDUOC        , TAMNGUNG = CASE WHEN TM_DUOC.TAMNGUNG = '1' OR NG.TAMNGUNG = '1' OR KD.TAMNGUNG = '1' THEN '1' ELSE '0' END        , TM_DUOC.DANGTRINHBAY        from TM_DUOC        left join TM_DONVITINH dvt on dvt.DONVITINH_ID = TM_DUOC.DONVITINH_ID        left join TM_TENDUOC on TM_DUOC.TENDUOC_ID = TM_TENDUOC.TENDUOC_ID and TM_DUOC.BENHVIEN_ID = 'HLU01' and TM_DUOC.TAMNGUNG = '0'        left join TM_LOAIDUOC on TM_LOAIDUOC.LOAIDUOC_ID = TM_DUOC.LOAIDUOC_ID and TM_LOAIDUOC.BENHVIEN_ID = 'HLU01'        left join TM_DUOC_HANDUNG on (TM_LOAIDUOC.LOAIVATTU_ID = TM_DUOC_HANDUNG.LOAIDUOC and TM_DUOC_HANDUNG.BENHVIEN_ID = 'HLU01')        inner join        (select LTRIM(A.KHODUOC_ID) + '_' + LTRIM(A.DUOC_ID) + '_' + LTRIM(ISNULL(A.NGUONDUOC_ID,'')) as DUOC_KEY, A.KHODUOC_ID, A.DUOC_ID, A.NGUONDUOC_ID,        SUM(isnull(A.SOLUONG,0)) as SOLUONG        from        (select SUM(SOLUONG) as SOLUONG, KHODUOC_ID, DUOC_ID, NGUONDUOC_ID from TT_DUOC_TONKHO        where BENHVIEN_ID = 'HLU01' group by KHODUOC_ID, DUOC_ID, NGUONDUOC_ID) A        group by LTRIM(A.KHODUOC_ID) + '_' + LTRIM(A.DUOC_ID) + '_' + LTRIM(ISNULL(A.NGUONDUOC_ID,'')), A.KHODUOC_ID, A.DUOC_ID, NGUONDUOC_ID        ) TT_TONKHO on TT_TONKHO.DUOC_ID = TM_DUOC.DUOC_ID        LEFT JOIN TM_NGUONHANG NG ON NG.NGUONDUOC_ID = TT_TONKHO.NGUONDUOC_ID        LEFT JOIN TM_KHODUOC KD ON KD.KHODUOC_ID = TT_TONKHO.KHODUOC_ID        where TM_DUOC.BENHVIEN_ID = 'HLU01' and TT_TONKHO.SOLUONG >= 0]
2019-08-19 09:28:56,624 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM023']
2019-08-19 09:28:56,663 [5] DEBUG - Statement Id: [DAO00027_GetListDuocTonKhoVaBooking] PreparedStatement : [declare @TOAMUANGOAI int = 0;        select @TOAMUANGOAI = isnull(VALUE,0) from TM_SYS_APPSETTINGS where CODE = 'OPD_TOAMUANGOAI_DUNGDANHMUC_DUOC'                if @TOAMUANGOAI = 1        begin        select  distinct '0' + '_' + LTRIM(d.DUOC_ID) + '_' + '0' as DUOC_KEY, 0 as PHAMVI_ID, 0 as NGUONDUOC_ID, null as TENNGUONDUOC, null as TINHTIEN, d.DUOC_ID, ld.MALOAIDUOC,        d.SOVISA,d.TYLE_VAT,d.COTOA, d.MADUOC, d.TENHANG, d.TENDUOCDAYDU, d.DONVITINH as DONVITINH, d.BHYT,        d.TENHOATCHAT, d.HAMLUONG, d.HANGSANXUAT, d.QUOCGIA, d.LOAIDUOC_ID, d.DUONGDUNG_ID, d.TINHTIEN_PTTT,        ten.TENDUOC, ten.TENDUOC_EN, ten.MAQUOCTE, ten.MAQUOCTEBT,        '' as BHYT_TEXT        , ld.LOAIVATTU_ID        , d.BENHVIEN_ID,        999999999 as SOLUONG, d.VTYT_PHANLOAI, d.PHAMVI, d.SUASOLUONGTONGHOP, d.MADUOCBV, d.DANGTRINHBAY        , TAMNGUNG = CASE WHEN d.TAMNGUNG = '1' THEN '1' ELSE '0' END        from TM_DUOC d        left join TM_DONVITINH dvt on dvt.DONVITINH_ID = d.DONVITINH_ID        left join TM_TENDUOC ten on d.TENDUOC_ID = ten.TENDUOC_ID        left join TM_LOAIDUOC ld on ld.LOAIDUOC_ID = d.LOAIDUOC_ID and ld.BENHVIEN_ID = 'HLU01'        left join TM_DUOC_HANDUNG hd on (ld.LOAIVATTU_ID = hd.LOAIDUOC  and hd.BENHVIEN_ID = 'HLU01')        union all        select  distinct tk.DUOC_KEY, LTRIM(tk.PHAMVI_ID) as PHAMVI_ID, tk.NGUONDUOC_ID, nh.TENNGUONDUOC, nh.TINHTIEN, d.DUOC_ID, ld.MALOAIDUOC,        d.SOVISA,d.TYLE_VAT,d.COTOA, d.MADUOC, d.TENHANG, d.TENDUOCDAYDU, dvt.TENDONVITINH as DONVITINH, d.BHYT,        d.TENHOATCHAT, d.HAMLUONG, d.HANGSANXUAT, d.QUOCGIA, d.LOAIDUOC_ID, d.DUONGDUNG_ID, d.TINHTIEN_PTTT,        ten.TENDUOC, ten.TENDUOC_EN, ten.MAQUOCTE, ten.MAQUOCTEBT,        CASE WHEN d.BHYT = '1' THEN 'BHYT' ELSE '' END as BHYT_TEXT        , ld.LOAIVATTU_ID        , d.BENHVIEN_ID,        tk.SOLUONG, d.VTYT_PHANLOAI, d.PHAMVI, d.SUASOLUONGTONGHOP, d.MADUOCBV, d.DANGTRINHBAY        , TAMNGUNG = CASE WHEN d.TAMNGUNG = '1' OR nh.TAMNGUNG = '1' OR kd.TAMNGUNG = '1' THEN '1' ELSE '0' END        from TM_DUOC d        left join TM_DONVITINH dvt on dvt.DONVITINH_ID = d.DONVITINH_ID        left join TM_TENDUOC ten on d.TENDUOC_ID = ten.TENDUOC_ID        left join TM_LOAIDUOC ld on ld.LOAIDUOC_ID = d.LOAIDUOC_ID and ld.BENHVIEN_ID = 'HLU01'        left join TM_DUOC_HANDUNG hd on (ld.LOAIVATTU_ID = hd.LOAIDUOC  and hd.BENHVIEN_ID = 'HLU01')        inner join        (        select  LTRIM(pvsd.PHAMVI_ID)  + '_' + LTRIM(dtk.DUOC_ID) + '_' + LTRIM(ISNULL(dtk.NGUONDUOC_ID,'')) DUOC_KEY, (SUM(dtk.SOLUONG) - isnull(sum(A.SOLUONG),0) - isnull(sum(B.SOLUONG),0)) SOLUONG, pvsd.PHAMVI_ID, dtk.NGUONDUOC_ID, dtk.DUOC_ID        from (select sum(soluong) soluong,duoc_id,nguonduoc_id,khoduoc_id,benhvien_id from TT_DUOC_TONKHO  group by duoc_id,nguonduoc_id,khoduoc_id,benhvien_id) dtk        inner join TM_DUOC_PHAMVISD_MAPPING pvsd on dtk.KHODUOC_ID = pvsd.KHODUOC_ID        left join (select sum(SOLUONG) SOLUONG, PHAMVI_ID, DUOC_ID, NGUONHANG_ID from  TT_DUOC_TONKHO_BOOK_NOITRU where TRANGTHAI != 'HUY'        group by  PHAMVI_ID, DUOC_ID, NGUONHANG_ID) B on B.DUOC_ID = dtk.DUOC_ID and B.SOLUONG > 0 and B.PHAMVI_ID = pvsd.PHAMVI_ID and B.NGUONHANG_ID = dtk.NGUONDUOC_ID        left join (select sum(SOLUONG) SOLUONG, PHAMVI_ID, DUOC_ID, NGUONHANG_ID from  TT_DUOC_TONKHO_BOOK_NGOAITRU where TRANGTHAI != 'HUY'        group by  PHAMVI_ID, DUOC_ID, NGUONHANG_ID) A on A.DUOC_ID = dtk.DUOC_ID and A.SOLUONG > 0 and A.PHAMVI_ID = pvsd.PHAMVI_ID and A.NGUONHANG_ID = dtk.NGUONDUOC_ID        where dtk.SOLUONG > 0 and dtk.BENHVIEN_ID = 'HLU01'        group by LTRIM(pvsd.PHAMVI_ID)  + '_' + LTRIM(dtk.DUOC_ID) + '_' + LTRIM(ISNULL(dtk.NGUONDUOC_ID,'')), pvsd.PHAMVI_ID, dtk.NGUONDUOC_ID, dtk.DUOC_ID        ) tk on tk.DUOC_ID = d.DUOC_ID        left join TM_DUOC_PHAMVISUDUNG kd on kd.PHAMVI_ID = tk.PHAMVI_ID and kd.BENHVIEN_ID = 'HLU01'        left join TM_NGUONHANG nh on nh.NGUONDUOC_ID = tk.NGUONDUOC_ID and nh.BENHVIEN_ID = 'HLU01'        where d.BENHVIEN_ID = 'HLU01'  and tk.SOLUONG >= 0         end                else        begin        select  distinct tk.DUOC_KEY, LTRIM(tk.PHAMVI_ID) as PHAMVI_ID, tk.NGUONDUOC_ID, nh.TENNGUONDUOC, nh.TINHTIEN, d.DUOC_ID, ld.MALOAIDUOC,        d.SOVISA,d.TYLE_VAT,d.COTOA, d.MADUOC, d.TENHANG, d.TENDUOCDAYDU, d.DONVITINH as DONVITINH, d.BHYT,        d.TENHOATCHAT, d.HAMLUONG, d.HANGSANXUAT, d.QUOCGIA, d.LOAIDUOC_ID, d.DUONGDUNG_ID, d.TINHTIEN_PTTT,        ten.TENDUOC, ten.TENDUOC_EN, ten.MAQUOCTE, ten.MAQUOCTEBT,        CASE WHEN d.BHYT = '1' THEN 'BHYT' ELSE '' END as BHYT_TEXT        , ld.LOAIVATTU_ID        , d.BENHVIEN_ID,        tk.SOLUONG, d.VTYT_PHANLOAI, d.PHAMVI, d.SUASOLUONGTONGHOP, d.MADUOCBV, d.DANGTRINHBAY        , TAMNGUNG = CASE WHEN d.TAMNGUNG = '1' OR nh.TAMNGUNG = '1' OR kd.TAMNGUNG = '1' THEN '1' ELSE '0' END        from TM_DUOC d        left join TM_DONVITINH dvt on dvt.DONVITINH_ID = d.DONVITINH_ID        left join TM_TENDUOC ten on d.TENDUOC_ID = ten.TENDUOC_ID        left join TM_LOAIDUOC ld on ld.LOAIDUOC_ID = d.LOAIDUOC_ID and ld.BENHVIEN_ID = 'HLU01'        left join TM_DUOC_HANDUNG hd on (ld.LOAIVATTU_ID = hd.LOAIDUOC  and hd.BENHVIEN_ID = 'HLU01')        inner join        (        select  LTRIM(pvsd.PHAMVI_ID)  + '_' + LTRIM(dtk.DUOC_ID) + '_' + LTRIM(ISNULL(dtk.NGUONDUOC_ID,'')) DUOC_KEY, (SUM(dtk.SOLUONG) - isnull(sum(A.SOLUONG),0) - isnull(sum(B.SOLUONG),0)) SOLUONG, pvsd.PHAMVI_ID, dtk.NGUONDUOC_ID, dtk.DUOC_ID        from (select sum(soluong) soluong,duoc_id,nguonduoc_id,khoduoc_id,benhvien_id from TT_DUOC_TONKHO  group by duoc_id,nguonduoc_id,khoduoc_id,benhvien_id) dtk        inner join TM_DUOC_PHAMVISD_MAPPING pvsd on dtk.KHODUOC_ID = pvsd.KHODUOC_ID        left join (select sum(SOLUONG) SOLUONG, PHAMVI_ID, DUOC_ID, NGUONHANG_ID from  TT_DUOC_TONKHO_BOOK_NOITRU where TRANGTHAI != 'HUY'        group by  PHAMVI_ID, DUOC_ID, NGUONHANG_ID) B on B.DUOC_ID = dtk.DUOC_ID and B.SOLUONG > 0 and B.PHAMVI_ID = pvsd.PHAMVI_ID and B.NGUONHANG_ID = dtk.NGUONDUOC_ID        left join (select sum(SOLUONG) SOLUONG, PHAMVI_ID, DUOC_ID, NGUONHANG_ID from  TT_DUOC_TONKHO_BOOK_NGOAITRU where TRANGTHAI != 'HUY'        group by  PHAMVI_ID, DUOC_ID, NGUONHANG_ID) A on A.DUOC_ID = dtk.DUOC_ID and A.SOLUONG > 0 and A.PHAMVI_ID = pvsd.PHAMVI_ID and A.NGUONHANG_ID = dtk.NGUONDUOC_ID        where dtk.SOLUONG > 0 and dtk.BENHVIEN_ID = 'HLU01'        group by LTRIM(pvsd.PHAMVI_ID)  + '_' + LTRIM(dtk.DUOC_ID) + '_' + LTRIM(ISNULL(dtk.NGUONDUOC_ID,'')), pvsd.PHAMVI_ID, dtk.NGUONDUOC_ID, dtk.DUOC_ID        ) tk on tk.DUOC_ID = d.DUOC_ID        left join TM_DUOC_PHAMVISUDUNG kd on kd.PHAMVI_ID = tk.PHAMVI_ID and kd.BENHVIEN_ID = 'HLU01'        left join TM_NGUONHANG nh on nh.NGUONDUOC_ID = tk.NGUONDUOC_ID and nh.BENHVIEN_ID = 'HLU01'        where d.BENHVIEN_ID = 'HLU01'  and tk.SOLUONG >= 0        end]
2019-08-19 09:28:59,409 [5] DEBUG - Statement Id: [DAO00320_GetList] PreparedStatement : [select M.*            from TM_MAU M            LEFT JOIN TM_MAU_DONVITINH DVT on M.DONVITINH_ID=DVT.DONVITINH_ID            where            M.TAMNGUNG = '0'            and M.BENHVIEN_ID = 'HLU01'            order by M.TENMAU]
2019-08-19 09:28:59,490 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM071']
2019-08-19 09:28:59,555 [5] DEBUG - Statement Id: [DAO00322_GetListMauTonKhoForCreateCached] PreparedStatement : [SELECT DISTINCT          TK.MAU_KEY, TK.KHOMAU_ID, M.MAU_ID, M.MAMAU, M.TENMAU, M.NHOM_ABO, M.NHOM_RH, M.LOAIMAU_ID,          TK.SOLONHAP_ID, SLN.SOLONHAP, SLN.SOKIEMSOAT, TK.NGUONHANG_ID, NG.TENNGUONMAU, M.BENHVIEN_ID, M.DONVITINH_ID,          SUM(tk.SOLUONG) AS SOLUONG,K.TENKHO,DVT.TENDONVITINH          FROM TT_MAU_TONKHO TK          JOIN TM_KHO K ON TK.KHOMAU_ID = K.KHO_ID          JOIN TT_MAU_CHUNGTU_SOLONHAP SLN ON TK.SOLONHAP_ID = SLN.SOLONHAP_ID          JOIN TM_MAU M on TK.MAU_ID = M.MAU_ID and M.TAMNGUNG = '0'          LEFT JOIN TM_MAU_DONVITINH DVT on M.DONVITINH_ID=DVT.DONVITINH_ID          LEFT JOIN TM_NGUONMAU NG ON NG.NGUONMAU_ID = TK.NGUONHANG_ID          WHERE TK.SOLUONG > 0          GROUP BY TK.MAU_KEY, TK.KHOMAU_ID, M.MAU_ID, M.MAMAU, M.TENMAU, M.NHOM_ABO, M.NHOM_RH, M.LOAIMAU_ID,          TK.SOLONHAP_ID, SLN.SOLONHAP, SLN.SOKIEMSOAT,TK.NGUONHANG_ID, NG.TENNGUONMAU, M.BENHVIEN_ID, M.DONVITINH_ID,K.TENKHO,DVT.TENDONVITINH]
2019-08-19 09:28:59,698 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM073']
2019-08-19 09:28:59,745 [5] DEBUG - Statement Id: [DAO00322_GetListMauTonKhoTruBooking] PreparedStatement : [select distinct          TK.MAU_KEY, TK.KHOMAU_ID, M.MAU_ID, M.MAMAU, M.TENMAU, M.NHOM_ABO, M.NHOM_RH, M.LOAIMAU_ID, M.DONVITINH_ID,          TK.SOLONHAP_ID, TK.SOLONHAP, TK.SOKIEMSOAT,M.PHAMVI, TK.NGUONHANG_ID, NG.TENNGUONMAU, M.BENHVIEN_ID,          TK.SOLUONG,TK.TENKHO,DVT.TENDONVITINH          from TM_MAU M          JOIN          (          select          A.MAU_KEY, A.KHOMAU_ID, A.MAU_ID ,a.NGUONHANG_ID, A.SOLONHAP_ID, A.SOLONHAP, A.SOKIEMSOAT, A.SOLUONG,A.TENKHO          from          (          select KHOMAU_ID, TK.MAU_ID, TK.NGUONHANG_ID, TK.MAU_KEY, SLN.SOLONHAP_ID, SLN.SOLONHAP, SLN.SOKIEMSOAT, ISNULL(TK.SOLUONG,0) - ISNULL(book.SOLUONG,0) as SOLUONG,K.TENKHO          from TT_MAU_TONKHO TK          JOIN TM_KHO K ON TK.KHOMAU_ID = K.KHO_ID          inner join TT_MAU_CHUNGTU_SOLONHAP SLN ON TK.SOLONHAP_ID = SLN.SOLONHAP_ID          left join dbo.TT_MAU_TONKHO_BOOK book ON book.MAU_KEY = TK.MAU_KEY AND book.TRANGTHAI = 'HIEULUC'          where ISNULL(TK.SOLUONG,0) - ISNULL(book.SOLUONG,0) > 0          ) A          )TK on TK.MAU_ID = M.MAU_ID and M.TAMNGUNG = '0'          LEFT JOIN TM_MAU_DONVITINH DVT on M.DONVITINH_ID=DVT.DONVITINH_ID          LEFT JOIN TM_NGUONMAU NG ON NG.NGUONMAU_ID = TK.NGUONHANG_ID]
2019-08-19 09:28:59,823 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM072']
2019-08-19 09:29:00,784 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'MAIN'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:29:01,722 [1] DEBUG - Statement Id: [DAO00002_FormList] PreparedStatement : [select              TM_SYS_FORM.HOSPITAL_ID,              TM_SYS_FORM.NAME,              TM_SYS_FORM.CLASS,              TM_SYS_FORM.ASSEMBLY,              TM_SYS_FORM.TITLE_VI as TITLE              from TM_SYS_FORM              where HOSPITAL_ID = 'HLU01']
2019-08-19 09:29:09,348 [1] DEBUG - Statement Id: [DAO00300_GetShortcutListByUserID] PreparedStatement : [SELECT S.SHORTCUT_CODE, S.SHORTCUT_VALUE              FROM TM_SHORTCUT AS S              WHERE S.BENHVIEN_ID = 'HLU01' AND S.USER_ID = '1' AND TAMNGUNG = '0']
2019-08-19 09:29:09,377 [1] DEBUG - Statement Id: [DAO00087_GetList] PreparedStatement : [select CODE, VALUE, BENHVIEN_ID              from TM_SYS_APPSETTINGS              where LOCKED = '0' and BENHVIEN_ID = 'HLU01'              order by SETTING_ID]
2019-08-19 09:29:09,489 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'MSG01'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:29:09,646 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'MSG02'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:29:09,788 [1] DEBUG - Statement Id: [DAO00008_GetUserSettings] PreparedStatement : [select A.*, B.TENKHO , C.TENPHONGBAN, B.MAKHO, C.MAPHONGBAN          from TM_SYS_USERS A          left join TM_KHODUOC B on B.KHODUOC_ID = A.INVENTORY_ID          left join TM_PHONGBAN C on (C.PHONGBAN_ID = A.WORKING_DEPT_ID and C.BENHVIEN_ID =  @param0 )          left join TM_SYS_USERKHO D on (D.ACCOUNT_ID = A.ACCOUNT_ID and D.HOSPITAL_ID =  @param0 )          where          A.HOSPITAL_ID =  @param0            and                 A.ACCOUNT_ID =  @param1]
2019-08-19 09:29:09,791 [1] DEBUG - Statement Id: [DAO00008_GetUserSettings] Parameters: [@param0=[HOSPITAL_ID,HLU01], @param1=[ACCOUNT_ID,113]]
2019-08-19 09:29:09,791 [1] DEBUG - Statement Id: [DAO00008_GetUserSettings] Types: [@param0=[String, System.String], @param1=[String, System.String]]
2019-08-19 09:29:09,819 [1] DEBUG - Statement Id: [DAO00008_GetUserInvSettings] PreparedStatement : [select A.*, B.TENKHO, B.MAKHO, B.LOAIKHO_ID, B.KHOQUANLY_ID          from TM_SYS_USERKHO A          left join TM_KHO B on B.MODULE_ID = A.MODULE_ID and B.KHO_ID = A.KHO_ID          where A.HOSPITAL_ID =  @param0  and A.ACCOUNT_ID =  @param1           order by B.TENKHO]
2019-08-19 09:29:09,820 [1] DEBUG - Statement Id: [DAO00008_GetUserInvSettings] Parameters: [@param0=[HOSPITAL_ID,HLU01], @param1=[ACCOUNT_ID,113]]
2019-08-19 09:29:09,820 [1] DEBUG - Statement Id: [DAO00008_GetUserInvSettings] Types: [@param0=[String, System.String], @param1=[String, System.String]]
2019-08-19 09:29:09,993 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'COM30'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:29:10,177 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'RIS04'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:29:21,484 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'MENU1'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:29:21,971 [1] DEBUG - Statement Id: [DAO00011_GetList] PreparedStatement : [select              TM_SYS_MENU.ID,              TM_SYS_MENU.PARENTID,              TM_SYS_MENU.SCREEN,              TM_SYS_MENU.SMALLIMAGE,              TM_SYS_MENU.LARGEIMAGE,              TM_SYS_MENU.DESCRIPTION,              TM_SYS_MENU.TYPE,              TM_SYS_MENU.TITLE_VI as TITLE              from TM_SYS_MENU              where TM_SYS_MENU.HOSPITAL_ID = 'HLU01' and TM_SYS_MENU.ACTIVE = '1'               AND                   (TM_SYS_MENU.TYPE & '8' = '8')                             order by TM_SYS_MENU.ORDERNUM]
2019-08-19 09:29:22,391 [1] DEBUG - Statement Id: [DAO00011_usermenu_list] PreparedStatement : [select              TM_SYS_HOMEMENU.MENUID as ID,              TM_SYS_MENU.TITLE_VI as TITLE,              TM_SYS_MENU.SCREEN,              TM_SYS_MENU.SMALLIMAGE,              TM_SYS_MENU.LARGEIMAGE,              TM_SYS_MENU.TYPE              from TM_SYS_HOMEMENU              left join TM_SYS_MENU on TM_SYS_MENU.ID = TM_SYS_HOMEMENU.MENUID and TM_SYS_MENU.HOSPITAL_ID = TM_SYS_HOMEMENU.HOSPITAL_ID              where TM_SYS_HOMEMENU.HOSPITAL_ID = 'HLU01' and TM_SYS_HOMEMENU.USERID = '113' and TM_SYS_MENU.ACTIVE = '1'               AND                   (TM_SYS_MENU.TYPE & '8' = '8')                             ORDER BY TM_SYS_HOMEMENU.ORDERNUM]
2019-08-19 09:30:16,132 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'PUR04'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:30:16,757 [1] DEBUG - Statement Id: [DAO00400_PUR001_GetDanhMucHangHoaAll] PreparedStatement : [select HH.*,CAST(ROW_NUMBER() OVER (ORDER BY HH.TEN) AS INT) as STT ,HH.ID AS HANGHOA_ID, HH.MA AS MAHANGHOA, HH.TEN AS TENHANGHOA , N.TEN as TENNHOMVPP, L.TEN as TENLOAIVPP        from TM_PUR_HANGHOA as HH        Inner Join TM_PUR_NHOM as N ON N.ID = HH.NHOM_ID        Inner Join TM_PUR_LOAI as L ON L.ID = HH.LOAI_ID        where HH.BENHVIEN_ID = 'HLU01'        order by TEN]
2019-08-19 09:30:18,271 [1] DEBUG - Statement Id: [DAO00400_PUR001_GetDanhMucNhom] PreparedStatement : [select *,ID AS NHOM_ID, TEN AS TENNHOM from TM_PUR_NHOM where BENHVIEN_ID = 'HLU01'        order by TEN]
2019-08-19 09:30:18,534 [1] DEBUG - Statement Id: [DAO00400_PUR001_GetDMDonViTinh] PreparedStatement : [select * from TM_DONVITINH where LOAIVATTU_ID = 'O' AND  BENHVIEN_ID = 'HLU01' ORDER BY TENDONVITINH]
2019-08-19 09:30:18,730 [1] DEBUG - Statement Id: [DAO00400_PUR001_GetDanhMucLoai] PreparedStatement : [select A.ID,A.MA,A.TEN,A.ACTIVE,isnull(B.NHANVIEN_ID,-1) AS NHANVIEN_ID,B.TENNHANVIEN, isnull(C.NHANVIEN_ID,-1) AS NHANVIENPHANCONG_ID,C.TENNHANVIEN AS TENNHANVIEN_PHANCONG, A.ID AS LOAI_ID, A.TEN AS TENLOAI from TM_PUR_LOAI A LEFT JOIN TM_NHANVIEN B ON A.NHANVIEN_ID=B.NHANVIEN_ID         LEFT JOIN TM_NHANVIEN C ON A.NHANVIENPHANCONG_ID = C.NHANVIEN_ID        where A.BENHVIEN_ID = 'HLU01' AND A.ACTIVE='1'        order by A.TEN]
2019-08-19 09:30:19,009 [1] DEBUG - Statement Id: [DAO00400_PUR001_GetDMNhaCungCap] PreparedStatement : [select * from TM_NHACUNGCAP where BENHVIEN_ID = 'HLU01' ORDER BY TENNHACUNGCAP]
2019-08-19 09:30:19,485 [1] DEBUG - Statement Id: [DAO00400_PUR001_GetDanhMucHangHoaAll] PreparedStatement : [select HH.*,CAST(ROW_NUMBER() OVER (ORDER BY HH.TEN) AS INT) as STT ,HH.ID AS HANGHOA_ID, HH.MA AS MAHANGHOA, HH.TEN AS TENHANGHOA , N.TEN as TENNHOMVPP, L.TEN as TENLOAIVPP        from TM_PUR_HANGHOA as HH        Inner Join TM_PUR_NHOM as N ON N.ID = HH.NHOM_ID        Inner Join TM_PUR_LOAI as L ON L.ID = HH.LOAI_ID        where HH.BENHVIEN_ID = 'HLU01'        order by TEN]
2019-08-19 09:31:19,739 [1] DEBUG - Statement Id: [DAO00400_PUR001_CheckMaHangHoa] PreparedStatement : [select * From TM_PUR_HANGHOA Where MA = 'ga001']
2019-08-19 09:31:28,619 [1] DEBUG - Statement Id: [DAO00400_PUR001_AddHangHoa] PreparedStatement : [INSERT INTO TM_PUR_HANGHOA (MA,TEN,DONVITINH_ID,TENDONVITINH,SOLUONGTOITHIEU,NHOM_ID,TENNHOM,LOAI_ID,TENLOAI,THUONGHIEU,KICHTHUOC,VATLIEU,MOTA,NHACUNGCAP_ID,TENNHACUNGCAP,GIAHOPDONG,TUNGAY,DENNGAY,FILE_NAME,FULLPATHSERVER,FULLPATHLOCAL,ACTIVE,BENHVIEN_ID)        VALUES ( @param0 , @param1 , @param2 , @param3 , @param4 , @param5 , @param6 , @param7 , @param8 , @param9 , @param10 , @param11 , @param12 , @param13 , @param14 , @param15 , @param16 , @param17 , @param18 , @param19 , @param20 , @param21 , @param22 )        SELECT SCOPE_IDENTITY() as value]
2019-08-19 09:31:28,619 [1] DEBUG - Statement Id: [DAO00400_PUR001_AddHangHoa] Parameters: [@param0=[MAHANGHOA,ga001], @param1=[TENHANGHOA,giày vải], @param2=[DONVITINH_ID,72], @param3=[TENDONVITINH,Đôi], @param4=[SOLUONGTOITHIEU,1], @param5=[NHOM_ID,1], @param6=[TENNHOM,Văn Phòng Phẩm], @param7=[LOAI_ID,1], @param8=[TENLOAI,VPP], @param9=[THUONGHIEU,null], @param10=[KICHTHUOC,null], @param11=[VATLIEU,null], @param12=[MOTA,null], @param13=[NHACUNGCAP_ID,null], @param14=[TENNHACUNGCAP,null], @param15=[GIAHOPDONG,null], @param16=[TUNGAY,null], @param17=[DENNGAY,null], @param18=[FILE_NAME,null], @param19=[FULLPATHSERVER,null], @param20=[FULLPATHLOCAL,null], @param21=[ACTIVE,True], @param22=[BENHVIEN_ID,HLU01]]
2019-08-19 09:31:28,619 [1] DEBUG - Statement Id: [DAO00400_PUR001_AddHangHoa] Types: [@param0=[String, System.String], @param1=[String, System.String], @param2=[Int64, System.Int64], @param3=[String, System.String], @param4=[Double, System.Double], @param5=[Int64, System.Int64], @param6=[String, System.String], @param7=[Int64, System.Int64], @param8=[String, System.String], @param9=[System.DBNull, null], @param10=[System.DBNull, null], @param11=[System.DBNull, null], @param12=[System.DBNull, null], @param13=[System.DBNull, null], @param14=[System.DBNull, null], @param15=[System.DBNull, null], @param16=[System.DBNull, null], @param17=[System.DBNull, null], @param18=[System.DBNull, null], @param19=[System.DBNull, null], @param20=[System.DBNull, null], @param21=[Boolean, System.Boolean], @param22=[String, System.String]]
2019-08-19 09:31:29,143 [1] DEBUG - Statement Id: [DAO00400_PUR001_GetDanhMucHangHoaAll] PreparedStatement : [select HH.*,CAST(ROW_NUMBER() OVER (ORDER BY HH.TEN) AS INT) as STT ,HH.ID AS HANGHOA_ID, HH.MA AS MAHANGHOA, HH.TEN AS TENHANGHOA , N.TEN as TENNHOMVPP, L.TEN as TENLOAIVPP        from TM_PUR_HANGHOA as HH        Inner Join TM_PUR_NHOM as N ON N.ID = HH.NHOM_ID        Inner Join TM_PUR_LOAI as L ON L.ID = HH.LOAI_ID        where HH.BENHVIEN_ID = 'HLU01'        order by TEN]
2019-08-19 09:35:36,225 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'STA01'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:35:39,124 [1] DEBUG - Statement Id: [DAO00400_PUR001_GetDanhMucHangHoa] PreparedStatement : [select *,ID AS HANGHOA_ID, MA AS MAHANGHOA, TEN AS TENHANGHOA from TM_PUR_HANGHOA where BENHVIEN_ID = 'HLU01' AND ACTIVE='1'        order by TEN]
2019-08-19 09:35:39,688 [1] DEBUG - Statement Id: [DAO00400_PUR001_GetDMDonViTinh] PreparedStatement : [select * from TM_DONVITINH where LOAIVATTU_ID = 'O' AND  BENHVIEN_ID = 'HLU01' ORDER BY TENDONVITINH]
2019-08-19 09:35:39,854 [1] DEBUG - Statement Id: [DAO00032_GetList] PreparedStatement : [select *              from TM_NHACUNGCAP              where              TAMNGUNG = '0'              and BENHVIEN_ID = 'HLU01'                             order by TENNHACUNGCAP]
2019-08-19 09:35:40,544 [1] DEBUG - Statement Id: [DAO00401_INV001_GetDMKHOVPP] PreparedStatement : [Select K.*,BB.SODU,BB.SODUDENNGAY,BB.KHOASO,BB.NGAYKHOA  From TM_KHO K        LEFT JOIN TM_INV_KHO BB ON K.MAKHO = BB.MAKHO        LEFT JOIN LST_DICTIONARY AA ON AA.DICTIONARY_ID = K.MODULE_ID        WHERE AA.DICTIONARY_CODE = 'KhoVPP']
2019-08-19 09:35:40,817 [1] DEBUG - Statement Id: [DAO00401_INV001_GetTrangThaiNhapKhoVPP] PreparedStatement : [SELECT DICTIONARY_CODE AS MATRANGTHAI,DICTIONARY_NAME AS TENTRANGTHAI FROM LST_DICTIONARY WHERE DICTIONARY_TYPE_CODE = 'TrangThaiVPP']
2019-08-19 09:35:41,221 [1] DEBUG - Statement Id: [DAO00401_INV001_KiemTraKhoaSoMMYY] PreparedStatement : [select KHOASO FROM TT_INV_KHOASO WHERE MMYY = '0819' AND MAKHO = 'KCVPP' AND BENHVIEN_ID = 'HLU01']
2019-08-19 09:40:33,322 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'COM98'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:40:34,406 [1] DEBUG - Statement Id: [DAO00020_ListKhoDuocOfPhongBan] PreparedStatement : [select B.* from TM_PHONGBAN_KHODUOC A        inner join TM_KHODUOC B on B.KHODUOC_ID = A.KHODUOC_ID        where        A.PHONGBAN_ID = '61'        and A.BENHVIEN_ID = 'HLU01']
2019-08-19 09:40:47,530 [1] DEBUG - Statement Id: [DAO00020_ListKhoDuocOfPhongBan] PreparedStatement : [select B.* from TM_PHONGBAN_KHODUOC A        inner join TM_KHODUOC B on B.KHODUOC_ID = A.KHODUOC_ID        where        A.PHONGBAN_ID = '91'        and A.BENHVIEN_ID = 'HLU01']
2019-08-19 09:40:47,826 [1] DEBUG - Statement Id: [DAO00008_UpdateUserIdPhongBanKhoDuoc] PreparedStatement : [IF EXISTS            (SELECT ACCOUNT_ID FROM TM_SYS_USERS WHERE ACCOUNT_ID =  @param0  and HOSPITAL_ID =  @param1 )            BEGIN            update TM_SYS_USERS set INVENTORY_ID =  @param2 , WORKING_DEPT_ID =  @param3             WHERE ACCOUNT_ID =  @param0  and HOSPITAL_ID =  @param1             END            ELSE            BEGIN            insert into TM_SYS_USERS ([ACCOUNT_ID], [ACCOUNT_NAME], [INVENTORY_ID], [WORKING_DEPT_ID], [HOSPITAL_ID])            values ( @param0 ,  @param4 ,  @param2 ,  @param3 ,  @param1 )            END]
2019-08-19 09:40:47,826 [1] DEBUG - Statement Id: [DAO00008_UpdateUserIdPhongBanKhoDuoc] Parameters: [@param0=[ACCOUNT_ID,113], @param1=[HOSPITAL_ID,HLU01], @param2=[INVENTORY_ID,11], @param3=[WORKING_DEPT_ID,91], @param4=[ACCOUNT_NAME,admin]]
2019-08-19 09:40:47,826 [1] DEBUG - Statement Id: [DAO00008_UpdateUserIdPhongBanKhoDuoc] Types: [@param0=[String, System.String], @param1=[String, System.String], @param2=[String, System.String], @param3=[String, System.String], @param4=[String, System.String]]
2019-08-19 09:41:00,773 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'RIS03'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:41:04,492 [1] DEBUG - Statement Id: [DAO00006_GetDSNhomDichVu] PreparedStatement : [select * from TM_NHOMDICHVU              where captren_id =              (select top (1) NHOMDICHVU_ID from TM_NHOMDICHVU where MANHOMDICHVU = '02')              and BENHVIEN_ID = 'HLU01']
2019-08-19 09:41:04,522 [1] DEBUG - Statement Id: [DAO00006_GetDSNhomDichVu] PreparedStatement : [select * from TM_NHOMDICHVU              where captren_id =              (select top (1) NHOMDICHVU_ID from TM_NHOMDICHVU where MANHOMDICHVU = '03')              and BENHVIEN_ID = 'HLU01']
2019-08-19 09:41:04,933 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'RIS30'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:41:10,672 [1] DEBUG - Statement Id: [DAO00019_DanhSachCDHA] PreparedStatement : [declare @TenBenhVien nvarchar(500)        set @TenBenhVien = (select VALUE from TM_SYS_APPSETTINGS where CODE = 'APP_BENHVIEN_TEN')        select * from(        select ROW_NUMBER() OVER(order by NGAYGIOYEUCAU) as ROWNUMBER, *        from        (SELECT distinct        COUNT(*) OVER() as TOTALROWS,        N'Mã người bệnh: ' + bn.MAYTE + ' - ' + N'Tên người bệnh: ' + bn.TENBENHNHAN + ' - ' + N'Số bệnh án: ' + ISNULL(BA.SOBENHAN,'') + ' - ' + N'Sinh ngày: ' + isnull(Convert(varchar(10),bn.NGAYSINH,103),bn.NAMSINH) + ' - ' + N'Giới tính: ' + GD.DESCRIPTION as GROUPNAME,        bn.MAYTE, bn.TENBENHNHAN, bn.NAMSINH, bn.NGAYSINH as TUOI, ISNULL(CONVERT(VARCHAR(10), bn.NGAYSINH, 103),CAST(bn.NAMSINH AS varchar)) as NGAYSINH, bn.DIACHILIENLAC as DIACHI, bn.GIOITINH, GD.DESCRIPTION as TENGIOITINH,        tn.DOITUONG_ID, tn.THOIGIANTIEPNHAN, tn.BENHNHAN_ID, tn.TIEPNHAN_ID, tn.TRAITUYEN, tn.SOTIEPNHAN,        dv.DICHVU_ID, dv.NOITHUCHIEN_ID, isnull(dv.NGAYTAO, dv.NGAYCAPNHAT) as THOIGIANDKDICHVU,        dv.KHAN, dv.NOIYEUCAU_ID, dv.NGAYGIOYEUCAU, dv.BACSICHIDINH_ID, dv.DONVIGIOITHIEU_ID, dv.NGUOIGIOITHIEU_ID, dv.TRANGTHAI_WFL,        tn.NOIGIOITHIEU_ID, kbnt.HUONGGIAIQUYET_ID,        dv.DVYEUCAU_ID, dv.MARIS, dv.TRANGTHAI as TRANGTHAICODE, B.TENNHOMDICHVU, dv.SOPHIEUYEUCAU, dv.KHAMBENH_NGOAITRU_ID, dv.NGUOICAPNHAT_ID, dv.NGAYCAPNHAT,        CASE WHEN Left(B.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(B.MANHOMDICHVU,2) END AS MANHOMDICHVU, B.MANHOMDICHVU as MANHOMDICHVUCHITIET, tn.TRANGTHAI as TRANGTHAI_TIEPNHAN,        'False' as DAKHAM,        vp.DATHANHTOAN, vp.DONGIA_DOANHTHU, BA.SOBENHAN, dv.CHANDOAN        , a.TENDICHVU, nth.TENPHONGBAN as TENPHONGKHAM, nyc.TENPHONGBAN as TENKHOACHIDINH        , case when (dv.DONVIGIOITHIEU_ID is not null and dv.DONVIGIOITHIEU_ID != '') then ngt.TENBENHVIEN else @TenBenhVien end as TENBENHVIENCHIDINH        , case when (dv.BACSICHIDINH_ID is not null and dv.BACSICHIDINH_ID != '') then bscd.TENNHANVIEN else ngtt.TENNHANVIEN end as TENBACSICHIDINH          ,             0 as GUINGOAI, 0 as VTYT, 0 as CLSKETQUA_ID                   FROM TT_DVYEUCAU (NOLOCK) dv        inner join TT_TIEPNHAN (NOLOCK) tn on dv.TIEPNHAN_ID = tn.TIEPNHAN_ID        inner join TT_BENHNHAN (NOLOCK) bn on tn.BENHNHAN_ID = bn.BENHNHAN_ID        inner join TM_DICHVU A on A.DICHVU_ID = dv.DICHVU_ID        inner join TM_PHONGBAN nth on nth.PHONGBAN_ID = dv.NOITHUCHIEN_ID        left join TM_BENHVIEN ngt on ngt.BENHVIEN_STT_ID = dv.DONVIGIOITHIEU_ID        left join TM_NHANVIEN bscd on bscd.NHANVIEN_ID = dv.BACSICHIDINH_ID        left join TM_NHANVIEN ngtt on ngtt.NHANVIEN_ID = dv.NGUOIGIOITHIEU_ID        inner join TM_PHONGBAN nyc on nyc.PHONGBAN_ID = dv.NOIYEUCAU_ID        inner join TM_NHOMDICHVU B on B.NHOMDICHVU_ID = A.NHOMDICHVU_ID        inner join TT_VIENPHI (NOLOCK) VP on VP.TIEPNHAN_ID = tn.TIEPNHAN_ID and VP.DICHVU_ID = dv.DICHVU_ID and VP.REF_ID = dv.DVYEUCAU_ID        left join TT_NOITRU_BENHAN (NOLOCK) BA on BA.TIEPNHAN_ID = tn.TIEPNHAN_ID AND dv.BENHAN_ID = BA.BENHAN_ID        inner join TM_GENDER GD on GD.ID = bn.GIOITINH        left join TT_NGOAITRU_KHAMBENH (NOLOCK) kbnt on kbnt.KHAMBENH_ID = dv.KHAMBENH_NGOAITRU_ID                 where        dv.DICHVU_ID IS NOT NULL        and tn.BENHVIEN_ID = 'HLU01'        and HUYYEUCAU = 0        and dv.NGAYHENCLS is NULL                       and dv.TRANGTHAI = 'CHUAKETQUA'           and           dv.NGAYYEUCAU >= '8/19/2019 12:00:00 AM'         and           dv.NGAYYEUCAU <= '8/19/2019 12:00:00 AM'         and           dv.NOITHUCHIEN_ID = 91         and           (vp.DATHANHTOAN = '1'  or vp.DONGIA_DOANHTHU = '0' OR TN.SUDUNG_BHTN='1' OR TN.BAOLANH_VIENPHI='1'  OR tn.TRANGTHAI IN ('NOITRU','CAPCUU','NGOAITRU') or dv.HOPDONG_BENHNHAN_ID is not null or vp.BENHNHAN_PHAITHANHTOAN >= 0)         and           (CASE WHEN Left(B.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(B.MANHOMDICHVU,2) END) = '02'         and           tn.TRANGTHAI IN ('DATIEPNHAN','NOITRU','CAPCUU','NGOAITRU', 'HOANTHANH')                 ) data1) lst                    where          lst.ROWNUMBER between 1 and 20                 order by NGAYGIOYEUCAU asc]
2019-08-19 09:41:13,914 [1] DEBUG - Statement Id: [DAO00019_DanhSachCDHA] PreparedStatement : [declare @TenBenhVien nvarchar(500)        set @TenBenhVien = (select VALUE from TM_SYS_APPSETTINGS where CODE = 'APP_BENHVIEN_TEN')        select * from(        select ROW_NUMBER() OVER(order by NGAYGIOYEUCAU) as ROWNUMBER, *        from        (SELECT distinct        COUNT(*) OVER() as TOTALROWS,        N'Mã người bệnh: ' + bn.MAYTE + ' - ' + N'Tên người bệnh: ' + bn.TENBENHNHAN + ' - ' + N'Số bệnh án: ' + ISNULL(BA.SOBENHAN,'') + ' - ' + N'Sinh ngày: ' + isnull(Convert(varchar(10),bn.NGAYSINH,103),bn.NAMSINH) + ' - ' + N'Giới tính: ' + GD.DESCRIPTION as GROUPNAME,        bn.MAYTE, bn.TENBENHNHAN, bn.NAMSINH, bn.NGAYSINH as TUOI, ISNULL(CONVERT(VARCHAR(10), bn.NGAYSINH, 103),CAST(bn.NAMSINH AS varchar)) as NGAYSINH, bn.DIACHILIENLAC as DIACHI, bn.GIOITINH, GD.DESCRIPTION as TENGIOITINH,        tn.DOITUONG_ID, tn.THOIGIANTIEPNHAN, tn.BENHNHAN_ID, tn.TIEPNHAN_ID, tn.TRAITUYEN, tn.SOTIEPNHAN,        dv.DICHVU_ID, dv.NOITHUCHIEN_ID, isnull(dv.NGAYTAO, dv.NGAYCAPNHAT) as THOIGIANDKDICHVU,        dv.KHAN, dv.NOIYEUCAU_ID, dv.NGAYGIOYEUCAU, dv.BACSICHIDINH_ID, dv.DONVIGIOITHIEU_ID, dv.NGUOIGIOITHIEU_ID, dv.TRANGTHAI_WFL,        tn.NOIGIOITHIEU_ID, kbnt.HUONGGIAIQUYET_ID,        dv.DVYEUCAU_ID, dv.MARIS, dv.TRANGTHAI as TRANGTHAICODE, B.TENNHOMDICHVU, dv.SOPHIEUYEUCAU, dv.KHAMBENH_NGOAITRU_ID, dv.NGUOICAPNHAT_ID, dv.NGAYCAPNHAT,        CASE WHEN Left(B.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(B.MANHOMDICHVU,2) END AS MANHOMDICHVU, B.MANHOMDICHVU as MANHOMDICHVUCHITIET, tn.TRANGTHAI as TRANGTHAI_TIEPNHAN,        'False' as DAKHAM,        vp.DATHANHTOAN, vp.DONGIA_DOANHTHU, BA.SOBENHAN, dv.CHANDOAN        , a.TENDICHVU, nth.TENPHONGBAN as TENPHONGKHAM, nyc.TENPHONGBAN as TENKHOACHIDINH        , case when (dv.DONVIGIOITHIEU_ID is not null and dv.DONVIGIOITHIEU_ID != '') then ngt.TENBENHVIEN else @TenBenhVien end as TENBENHVIENCHIDINH        , case when (dv.BACSICHIDINH_ID is not null and dv.BACSICHIDINH_ID != '') then bscd.TENNHANVIEN else ngtt.TENNHANVIEN end as TENBACSICHIDINH          ,             0 as GUINGOAI, 0 as VTYT, 0 as CLSKETQUA_ID                   FROM TT_DVYEUCAU (NOLOCK) dv        inner join TT_TIEPNHAN (NOLOCK) tn on dv.TIEPNHAN_ID = tn.TIEPNHAN_ID        inner join TT_BENHNHAN (NOLOCK) bn on tn.BENHNHAN_ID = bn.BENHNHAN_ID        inner join TM_DICHVU A on A.DICHVU_ID = dv.DICHVU_ID        inner join TM_PHONGBAN nth on nth.PHONGBAN_ID = dv.NOITHUCHIEN_ID        left join TM_BENHVIEN ngt on ngt.BENHVIEN_STT_ID = dv.DONVIGIOITHIEU_ID        left join TM_NHANVIEN bscd on bscd.NHANVIEN_ID = dv.BACSICHIDINH_ID        left join TM_NHANVIEN ngtt on ngtt.NHANVIEN_ID = dv.NGUOIGIOITHIEU_ID        inner join TM_PHONGBAN nyc on nyc.PHONGBAN_ID = dv.NOIYEUCAU_ID        inner join TM_NHOMDICHVU B on B.NHOMDICHVU_ID = A.NHOMDICHVU_ID        inner join TT_VIENPHI (NOLOCK) VP on VP.TIEPNHAN_ID = tn.TIEPNHAN_ID and VP.DICHVU_ID = dv.DICHVU_ID and VP.REF_ID = dv.DVYEUCAU_ID        left join TT_NOITRU_BENHAN (NOLOCK) BA on BA.TIEPNHAN_ID = tn.TIEPNHAN_ID AND dv.BENHAN_ID = BA.BENHAN_ID        inner join TM_GENDER GD on GD.ID = bn.GIOITINH        left join TT_NGOAITRU_KHAMBENH (NOLOCK) kbnt on kbnt.KHAMBENH_ID = dv.KHAMBENH_NGOAITRU_ID                 where        dv.DICHVU_ID IS NOT NULL        and tn.BENHVIEN_ID = 'HLU01'        and HUYYEUCAU = 0        and dv.NGAYHENCLS is NULL                       and dv.TRANGTHAI = 'CHUAKETQUA'           and           dv.NGAYYEUCAU >= '8/19/2019 12:00:00 AM'         and           dv.NGAYYEUCAU <= '8/19/2019 12:00:00 AM'         and           dv.NOITHUCHIEN_ID = 91         and           (vp.DATHANHTOAN = '1'  or vp.DONGIA_DOANHTHU = '0' OR TN.SUDUNG_BHTN='1' OR TN.BAOLANH_VIENPHI='1'  OR tn.TRANGTHAI IN ('NOITRU','CAPCUU','NGOAITRU') or dv.HOPDONG_BENHNHAN_ID is not null or vp.BENHNHAN_PHAITHANHTOAN >= 0)         and           (CASE WHEN Left(B.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(B.MANHOMDICHVU,2) END) = '02'         and           tn.TRANGTHAI IN ('DATIEPNHAN','NOITRU','CAPCUU','NGOAITRU', 'HOANTHANH')                 ) data1) lst                    where          lst.ROWNUMBER between 1 and 20                 order by NGAYGIOYEUCAU asc]
2019-08-19 09:41:16,758 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'RIS31'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:41:17,979 [1] DEBUG - Statement Id: [DAO00019_DanhSachCDHA] PreparedStatement : [declare @TenBenhVien nvarchar(500)        set @TenBenhVien = (select VALUE from TM_SYS_APPSETTINGS where CODE = 'APP_BENHVIEN_TEN')        select * from(        select ROW_NUMBER() OVER(order by NGAYGIOYEUCAU) as ROWNUMBER, *        from        (SELECT distinct        COUNT(*) OVER() as TOTALROWS,        N'Mã người bệnh: ' + bn.MAYTE + ' - ' + N'Tên người bệnh: ' + bn.TENBENHNHAN + ' - ' + N'Số bệnh án: ' + ISNULL(BA.SOBENHAN,'') + ' - ' + N'Sinh ngày: ' + isnull(Convert(varchar(10),bn.NGAYSINH,103),bn.NAMSINH) + ' - ' + N'Giới tính: ' + GD.DESCRIPTION as GROUPNAME,        bn.MAYTE, bn.TENBENHNHAN, bn.NAMSINH, bn.NGAYSINH as TUOI, ISNULL(CONVERT(VARCHAR(10), bn.NGAYSINH, 103),CAST(bn.NAMSINH AS varchar)) as NGAYSINH, bn.DIACHILIENLAC as DIACHI, bn.GIOITINH, GD.DESCRIPTION as TENGIOITINH,        tn.DOITUONG_ID, tn.THOIGIANTIEPNHAN, tn.BENHNHAN_ID, tn.TIEPNHAN_ID, tn.TRAITUYEN, tn.SOTIEPNHAN,        dv.DICHVU_ID, dv.NOITHUCHIEN_ID, isnull(dv.NGAYTAO, dv.NGAYCAPNHAT) as THOIGIANDKDICHVU,        dv.KHAN, dv.NOIYEUCAU_ID, dv.NGAYGIOYEUCAU, dv.BACSICHIDINH_ID, dv.DONVIGIOITHIEU_ID, dv.NGUOIGIOITHIEU_ID, dv.TRANGTHAI_WFL,        tn.NOIGIOITHIEU_ID, kbnt.HUONGGIAIQUYET_ID,        dv.DVYEUCAU_ID, dv.MARIS, dv.TRANGTHAI as TRANGTHAICODE, B.TENNHOMDICHVU, dv.SOPHIEUYEUCAU, dv.KHAMBENH_NGOAITRU_ID, dv.NGUOICAPNHAT_ID, dv.NGAYCAPNHAT,        CASE WHEN Left(B.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(B.MANHOMDICHVU,2) END AS MANHOMDICHVU, B.MANHOMDICHVU as MANHOMDICHVUCHITIET, tn.TRANGTHAI as TRANGTHAI_TIEPNHAN,        'True' as DAKHAM,        vp.DATHANHTOAN, vp.DONGIA_DOANHTHU, BA.SOBENHAN, dv.CHANDOAN        , a.TENDICHVU, nth.TENPHONGBAN as TENPHONGKHAM, nyc.TENPHONGBAN as TENKHOACHIDINH        , case when (dv.DONVIGIOITHIEU_ID is not null and dv.DONVIGIOITHIEU_ID != '') then ngt.TENBENHVIEN else @TenBenhVien end as TENBENHVIENCHIDINH        , case when (dv.BACSICHIDINH_ID is not null and dv.BACSICHIDINH_ID != '') then bscd.TENNHANVIEN else ngtt.TENNHANVIEN end as TENBACSICHIDINH          ,             cls.CLSKETQUA_ID, cls.NGAYGIOTHUCHIEN , cls.THOIGIANKHOADULIEU, cls.NGUOIKHOA_ID, cls_vtyt.CLSKETQUA_ID as VTYT            , cls.GUINGOAI, cls.NOIGUIDEN_ID, dv.TENNGUOIKHOA                   FROM TT_DVYEUCAU (NOLOCK) dv        inner join TT_TIEPNHAN (NOLOCK) tn on dv.TIEPNHAN_ID = tn.TIEPNHAN_ID        inner join TT_BENHNHAN (NOLOCK) bn on tn.BENHNHAN_ID = bn.BENHNHAN_ID        inner join TM_DICHVU A on A.DICHVU_ID = dv.DICHVU_ID        inner join TM_PHONGBAN nth on nth.PHONGBAN_ID = dv.NOITHUCHIEN_ID        left join TM_BENHVIEN ngt on ngt.BENHVIEN_STT_ID = dv.DONVIGIOITHIEU_ID        left join TM_NHANVIEN bscd on bscd.NHANVIEN_ID = dv.BACSICHIDINH_ID        left join TM_NHANVIEN ngtt on ngtt.NHANVIEN_ID = dv.NGUOIGIOITHIEU_ID        inner join TM_PHONGBAN nyc on nyc.PHONGBAN_ID = dv.NOIYEUCAU_ID        inner join TM_NHOMDICHVU B on B.NHOMDICHVU_ID = A.NHOMDICHVU_ID        inner join TT_VIENPHI (NOLOCK) VP on VP.TIEPNHAN_ID = tn.TIEPNHAN_ID and VP.DICHVU_ID = dv.DICHVU_ID and VP.REF_ID = dv.DVYEUCAU_ID        left join TT_NOITRU_BENHAN (NOLOCK) BA on BA.TIEPNHAN_ID = tn.TIEPNHAN_ID AND dv.BENHAN_ID = BA.BENHAN_ID        inner join TM_GENDER GD on GD.ID = bn.GIOITINH        left join TT_NGOAITRU_KHAMBENH (NOLOCK) kbnt on kbnt.KHAMBENH_ID = dv.KHAMBENH_NGOAITRU_ID                       left join TT_CLSKETQUA (NOLOCK) cls on dv.DVYEUCAU_ID = cls.DVYEUCAU_ID            left join TT_CLSKETQUA_VTYT (NOLOCK) cls_vtyt on cls_vtyt.DVYEUCAU_ID = dv.DVYEUCAU_ID                   where        dv.DICHVU_ID IS NOT NULL        and tn.BENHVIEN_ID = 'HLU01'        and HUYYEUCAU = 0        and dv.NGAYHENCLS is NULL                       and dv.TRANGTHAI IN ('CHOXACNHAN','HOANTAT')           and           dv.NGAYYEUCAU >= '8/19/2019 12:00:00 AM'         and           dv.NGAYYEUCAU <= '8/19/2019 12:00:00 AM'         and           dv.NOITHUCHIEN_ID = 91         and           (vp.DATHANHTOAN = '1'  or vp.DONGIA_DOANHTHU = '0' OR TN.SUDUNG_BHTN='1' OR TN.BAOLANH_VIENPHI='1'  OR tn.TRANGTHAI IN ('NOITRU','CAPCUU','NGOAITRU') or dv.HOPDONG_BENHNHAN_ID is not null or vp.BENHNHAN_PHAITHANHTOAN >= 0)         and           (CASE WHEN Left(B.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(B.MANHOMDICHVU,2) END) = '02'                 ) data1) lst                    where          lst.ROWNUMBER between 1 and 20                 order by NGAYGIOYEUCAU asc]
2019-08-19 09:41:25,788 [1] DEBUG - Statement Id: [DAO00019_DanhSachCDHA] PreparedStatement : [declare @TenBenhVien nvarchar(500)        set @TenBenhVien = (select VALUE from TM_SYS_APPSETTINGS where CODE = 'APP_BENHVIEN_TEN')        select * from(        select ROW_NUMBER() OVER(order by NGAYGIOYEUCAU) as ROWNUMBER, *        from        (SELECT distinct        COUNT(*) OVER() as TOTALROWS,        N'Mã người bệnh: ' + bn.MAYTE + ' - ' + N'Tên người bệnh: ' + bn.TENBENHNHAN + ' - ' + N'Số bệnh án: ' + ISNULL(BA.SOBENHAN,'') + ' - ' + N'Sinh ngày: ' + isnull(Convert(varchar(10),bn.NGAYSINH,103),bn.NAMSINH) + ' - ' + N'Giới tính: ' + GD.DESCRIPTION as GROUPNAME,        bn.MAYTE, bn.TENBENHNHAN, bn.NAMSINH, bn.NGAYSINH as TUOI, ISNULL(CONVERT(VARCHAR(10), bn.NGAYSINH, 103),CAST(bn.NAMSINH AS varchar)) as NGAYSINH, bn.DIACHILIENLAC as DIACHI, bn.GIOITINH, GD.DESCRIPTION as TENGIOITINH,        tn.DOITUONG_ID, tn.THOIGIANTIEPNHAN, tn.BENHNHAN_ID, tn.TIEPNHAN_ID, tn.TRAITUYEN, tn.SOTIEPNHAN,        dv.DICHVU_ID, dv.NOITHUCHIEN_ID, isnull(dv.NGAYTAO, dv.NGAYCAPNHAT) as THOIGIANDKDICHVU,        dv.KHAN, dv.NOIYEUCAU_ID, dv.NGAYGIOYEUCAU, dv.BACSICHIDINH_ID, dv.DONVIGIOITHIEU_ID, dv.NGUOIGIOITHIEU_ID, dv.TRANGTHAI_WFL,        tn.NOIGIOITHIEU_ID, kbnt.HUONGGIAIQUYET_ID,        dv.DVYEUCAU_ID, dv.MARIS, dv.TRANGTHAI as TRANGTHAICODE, B.TENNHOMDICHVU, dv.SOPHIEUYEUCAU, dv.KHAMBENH_NGOAITRU_ID, dv.NGUOICAPNHAT_ID, dv.NGAYCAPNHAT,        CASE WHEN Left(B.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(B.MANHOMDICHVU,2) END AS MANHOMDICHVU, B.MANHOMDICHVU as MANHOMDICHVUCHITIET, tn.TRANGTHAI as TRANGTHAI_TIEPNHAN,        'True' as DAKHAM,        vp.DATHANHTOAN, vp.DONGIA_DOANHTHU, BA.SOBENHAN, dv.CHANDOAN        , a.TENDICHVU, nth.TENPHONGBAN as TENPHONGKHAM, nyc.TENPHONGBAN as TENKHOACHIDINH        , case when (dv.DONVIGIOITHIEU_ID is not null and dv.DONVIGIOITHIEU_ID != '') then ngt.TENBENHVIEN else @TenBenhVien end as TENBENHVIENCHIDINH        , case when (dv.BACSICHIDINH_ID is not null and dv.BACSICHIDINH_ID != '') then bscd.TENNHANVIEN else ngtt.TENNHANVIEN end as TENBACSICHIDINH          ,             cls.CLSKETQUA_ID, cls.NGAYGIOTHUCHIEN , cls.THOIGIANKHOADULIEU, cls.NGUOIKHOA_ID, cls_vtyt.CLSKETQUA_ID as VTYT            , cls.GUINGOAI, cls.NOIGUIDEN_ID, dv.TENNGUOIKHOA                   FROM TT_DVYEUCAU (NOLOCK) dv        inner join TT_TIEPNHAN (NOLOCK) tn on dv.TIEPNHAN_ID = tn.TIEPNHAN_ID        inner join TT_BENHNHAN (NOLOCK) bn on tn.BENHNHAN_ID = bn.BENHNHAN_ID        inner join TM_DICHVU A on A.DICHVU_ID = dv.DICHVU_ID        inner join TM_PHONGBAN nth on nth.PHONGBAN_ID = dv.NOITHUCHIEN_ID        left join TM_BENHVIEN ngt on ngt.BENHVIEN_STT_ID = dv.DONVIGIOITHIEU_ID        left join TM_NHANVIEN bscd on bscd.NHANVIEN_ID = dv.BACSICHIDINH_ID        left join TM_NHANVIEN ngtt on ngtt.NHANVIEN_ID = dv.NGUOIGIOITHIEU_ID        inner join TM_PHONGBAN nyc on nyc.PHONGBAN_ID = dv.NOIYEUCAU_ID        inner join TM_NHOMDICHVU B on B.NHOMDICHVU_ID = A.NHOMDICHVU_ID        inner join TT_VIENPHI (NOLOCK) VP on VP.TIEPNHAN_ID = tn.TIEPNHAN_ID and VP.DICHVU_ID = dv.DICHVU_ID and VP.REF_ID = dv.DVYEUCAU_ID        left join TT_NOITRU_BENHAN (NOLOCK) BA on BA.TIEPNHAN_ID = tn.TIEPNHAN_ID AND dv.BENHAN_ID = BA.BENHAN_ID        inner join TM_GENDER GD on GD.ID = bn.GIOITINH        left join TT_NGOAITRU_KHAMBENH (NOLOCK) kbnt on kbnt.KHAMBENH_ID = dv.KHAMBENH_NGOAITRU_ID                       left join TT_CLSKETQUA (NOLOCK) cls on dv.DVYEUCAU_ID = cls.DVYEUCAU_ID            left join TT_CLSKETQUA_VTYT (NOLOCK) cls_vtyt on cls_vtyt.DVYEUCAU_ID = dv.DVYEUCAU_ID                   where        dv.DICHVU_ID IS NOT NULL        and tn.BENHVIEN_ID = 'HLU01'        and HUYYEUCAU = 0        and dv.NGAYHENCLS is NULL                       and dv.TRANGTHAI IN ('CHOXACNHAN','HOANTAT')           and           dv.NGAYYEUCAU >= '5/1/2019 12:00:00 AM'         and           dv.NGAYYEUCAU <= '8/19/2019 12:00:00 AM'         and           dv.NOITHUCHIEN_ID = 91         and           (vp.DATHANHTOAN = '1'  or vp.DONGIA_DOANHTHU = '0' OR TN.SUDUNG_BHTN='1' OR TN.BAOLANH_VIENPHI='1'  OR tn.TRANGTHAI IN ('NOITRU','CAPCUU','NGOAITRU') or dv.HOPDONG_BENHNHAN_ID is not null or vp.BENHNHAN_PHAITHANHTOAN >= 0)         and           (CASE WHEN Left(B.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(B.MANHOMDICHVU,2) END) = '02'                 ) data1) lst                    where          lst.ROWNUMBER between 1 and 20                 order by NGAYGIOYEUCAU asc]
2019-08-19 09:42:26,278 [1] DEBUG - Statement Id: [DAO00000_GetNhomDoiTuong] PreparedStatement : [SELECT DOITUONG_ID              ,[TENDOITUONG]              ,[NHOMDICHVU]              ,[TYLE_VUOT_LCB]              ,[GIOIHAN_VUOT_LCB]              ,[GIOIHAN_VUOT_DVKTC]              ,[TYLE_THUOC_UT]              ,[CPVC]              ,[CHIPHINGOAI_BHYT]              ,[NGANSACH_TL]              ,[MIENGIAM_TL]              ,[TAITRO_TL]              ,[BHTN_TL]              FROM [dbo].[TM_DOITUONG]]
2019-08-19 09:42:42,937 [1] DEBUG - Statement Id: [DAO00019_ThongTinBenhNhanDvYeuCau] PreparedStatement : [select distinct A.SOTIEPNHAN, A.TIEPNHAN_ID, A.DOITUONG_ID, A.TRANGTHAI,        A.LOAITHANHVIEN_ID, A.SUDUNG_BHTN, A.THE_ID, A.THANHVIEN_ID, A.VIP, A.NGUON_BENHNHAN_ID, A.BAOLANH_VIENPHI, A.NGAYMIENDONGCHITRA,        B.*,  C.DICHVU_ID, C.DVYEUCAU_ID, C.NOITHUCHIEN_ID, A.SOBHYT        from TT_TIEPNHAN A        inner join TT_DVYEUCAU C on C.TIEPNHAN_ID = A.TIEPNHAN_ID        inner join TT_BENHNHAN B on B.BENHNHAN_ID = A.BENHNHAN_ID and B.ACTIVE = '1'        where                    C.DVYEUCAU_ID = '99902'                 and A.BENHVIEN_ID = 'HLU01']
2019-08-19 09:42:43,678 [1] DEBUG - Statement Id: [DAO00066_GetBENHAN_TIEPNHAN] PreparedStatement : [select top 1 *        from TT_NOITRU_BENHAN        where TIEPNHAN_ID = '13844'  and BENHVIEN_ID = 'HLU01'        order by NGAYTAO desc]
2019-08-19 09:42:54,494 [1] DEBUG - Statement Id: [DAO00046_GETLISTDVYEUCAUINLISTDVID] PreparedStatement : [SELECT dvyc.*, clskqct.CLSKETQUA_ID, clskqct.DICHVU_ID as KETQUA_DICHVU_ID,        clskqct.CLSKETQUACHITIET_ID, clskqct.DONVITINH, clskqct.KETQUA, clskqct.KETQUA2,        clskqct.MUCBINHTHUONG, clskqct.MUCBINHTHUONGMIN, clskqct.MUCBINHTHUONGMAX, clskqct.BATTHUONG        FROM dbo.TT_CLSKETQUACHITIET as clskqct RIGHT OUTER JOIN        dbo.TT_DVYEUCAU as dvyc ON                 clskqct.DVYEUCAU_ID = dvyc.DVYEUCAU_ID        where dvyc.BENHVIEN_ID = 'HLU01'          and             exists (select DICHVU_ID from TM_DICHVU a join TM_NHOMDICHVU b on a.NHOMDICHVU_ID = b.NHOMDICHVU_ID            where dvyc.DICHVU_ID = DICHVU_ID and (left(MANHOMDICHVU,2) in ('02', '03') OR MANHOMDICHVU in ('02', '03')))           and             dvyc.TIEPNHAN_ID =  @param0                    order by DVYEUCAU_ID]
2019-08-19 09:42:54,494 [1] DEBUG - Statement Id: [DAO00046_GETLISTDVYEUCAUINLISTDVID] Parameters: [@param0=[TIEPNHAN_ID,13844]]
2019-08-19 09:42:54,494 [1] DEBUG - Statement Id: [DAO00046_GETLISTDVYEUCAUINLISTDVID] Types: [@param0=[Int64, System.Int64]]
2019-08-19 09:42:54,614 [1] DEBUG - Statement Id: [DAO00045_GetListDVYeuCau] PreparedStatement : [select *              from VIEW_DICHVU_NHOMDV              where BENHVIEN_ID = 'HLU01']
2019-08-19 09:42:54,939 [1] DEBUG - Statement Id: [DAO00018_GetList] PreparedStatement : [select A.*, B.DICTIONARY_NAME, B.DICTIONARY_CODE, B.DICTIONARY_NAME_EN CHUCDANH, (B.DICTIONARY_NAME_EN + '. ' + A.TENNHANVIEN) TENHOCVIHOCHAM            from TM_NHANVIEN A            left join (select * from LST_DICTIONARY where DICTIONARY_TYPE_CODE = 'chucdanh' and DICTIONARY_NAME_EN is not null) B on A.CHUCDANH_ID = B.DICTIONARY_ID            where A.BENHVIEN_ID = '' and A.TAMNGUNG = '0']
2019-08-19 09:42:57,264 [1] DEBUG - Statement Id: [DAO00066_GetBENHAN_TIEPNHAN] PreparedStatement : [select top 1 *        from TT_NOITRU_BENHAN        where TIEPNHAN_ID = '13844'  and BENHVIEN_ID = 'HLU01'        order by NGAYTAO desc]
2019-08-19 09:42:57,505 [1] DEBUG - Statement Id: [DAO00009_TT_TIEPNHAN_GetProcess] PreparedStatement : [select PROCESS_ID from TT_TIEPNHAN where SOTIEPNHAN = 'TN190501.0000027']
2019-08-19 09:42:57,748 [1] DEBUG - Statement Id: [DAOWF004_laytrangthaiDV] PreparedStatement : [select top 1 A.CURR_STATE_CODE as STATE_CODE, isNull(C.SHORT_NAME,C.NAME) as TRANGTHAI, C.NAME as TRANGTHAI_CHITIET, C.STATUS_CODE, D.ISACTIVE as ACTIVE, E.STATUS_CODE  as OLD_STATUSCODE        from TT_REQUEST_SERVICE_DETAIL A                left join (select * from TT_REQUEST_SERVICE where PARA = '{"DICHVU_ID":"4022","DVYEUCAU_ID":"99902"}') D on D.ID = A.REQUEST_SERVICE_ID        left join TM_STATE C on A.CURR_STATE_CODE = C.STATE_CODE and C.PROCESS_CODE = D.PROCESS_CODE        left join TM_STATE E on A.OLD_STATE_CODE = E.STATE_CODE and E.PROCESS_CODE = D.PROCESS_CODE        where        A.REQUEST_SERVICE_ID = (select top 1 ID from TT_REQUEST_SERVICE where PARA = '{"DICHVU_ID":"4022","DVYEUCAU_ID":"99902"}' order by ID desc)        order by A.ID desc]
2019-08-19 09:42:58,008 [1] DEBUG - Statement Id: [DAO00116_GetListThietBiCLS] PreparedStatement : [SELECT THIETBI_ID, MATHIETBI, TENTHIETBI, NHOMTHIETBI_ID          FROM TM_THIETBI MP          where          TAMNGUNG = '0'          and BENHVIEN_ID = 'HLU01'           AND             PHONGBAN_ID = 91                     order by TENTHIETBI]
2019-08-19 09:42:58,196 [1] DEBUG - Statement Id: [DAO00037_GetCLSKetQua] PreparedStatement : [select *              from TT_CLSKETQUA               where                             TT_CLSKETQUA.DVYEUCAU_ID = '99902'                       and                           TT_CLSKETQUA.BENHVIEN_ID = 'HLU01'                                     order by CLSKETQUA_ID]
2019-08-19 09:42:58,356 [1] DEBUG - Statement Id: [DAO00020_GetDetailP] PreparedStatement : [select *        from TT_DVYEUCAU        where TT_DVYEUCAU.DVYEUCAU_ID  = 99902        order by DVYEUCAU_ID]
2019-08-19 09:42:58,438 [1] DEBUG - Statement Id: [DAO00017_GetNameByID] PreparedStatement : [select TENPHONGBAN              from [TM_PHONGBAN]              where PHONGBAN_ID = '65' and BENHVIEN_ID = 'HLU01']
2019-08-19 09:42:58,519 [1] DEBUG - Statement Id: [DAO00041_GetNameByID] PreparedStatement : [select TENDICHVU              from TM_DICHVU              where DICHVU_ID = '4022']
2019-08-19 09:42:59,855 [1] DEBUG - Statement Id: [DAO00038_GetList] PreparedStatement : [select *              from TT_CLSKETQUA_IMAGES               where                             TT_CLSKETQUA_IMAGES.CLSKETQUA_ID = '46398'                       and                           TT_CLSKETQUA_IMAGES.BENHVIEN_ID = 'HLU01'                                     order by IDX]
2019-08-19 09:43:01,844 [1] DEBUG - Statement Id: [DAO00222_GetList] PreparedStatement : [select *        from TT_CLSKETQUA_DOCUMENTS         where                 CLSKETQUA_ID = '46398'                     order by CLSKETQUA_DOCUMENTS_ID]
2019-08-19 09:43:01,870 [1] DEBUG - Statement Id: [DAO00116_File_GetList] PreparedStatement : [select *              from TT_FILE_DINHKEM               where                             TT_FILE_DINHKEM.REF_TABLE = 'TT_CLSKETQUA'                       and                           TT_FILE_DINHKEM.REF_ID = '46398'                       and                           TT_FILE_DINHKEM.BENHVIEN_ID = 'HLU01'                                     order by FILE_ID]
2019-08-19 09:43:02,065 [1] DEBUG - Statement Id: [DAO00087_GetServiceParams] PreparedStatement : [select CODE, VALUE              from TM_SYS_APPSETTINGS              where LOCKED = '0' and BENHVIEN_ID = 'HLU01']
2019-08-19 09:43:02,254 [1] DEBUG - Statement Id: [DAO00042_GetList] PreparedStatement : [select *              from TM_TUDIENKETQUA              where BENHVIEN_ID = 'HLU01'                and                       TM_TUDIENKETQUA.DICHVU_ID = '4022'                    and                       (TM_TUDIENKETQUA.NGUOITAO_ID = '1' OR TM_TUDIENKETQUA.SUDUNGCHUNG = '1')                                 order by TM_TUDIENKETQUA.TENNOIDUNG]
2019-08-19 09:43:03,149 [1] DEBUG - Statement Id: [DAO00066_GetBENHAN_TIEPNHAN] PreparedStatement : [select top 1 *        from TT_NOITRU_BENHAN        where TIEPNHAN_ID = '13844'  and BENHVIEN_ID = 'HLU01'        order by NGAYTAO desc]
2019-08-19 09:43:03,398 [1] DEBUG - Statement Id: [DAO00037_GetCLSKetQua] PreparedStatement : [select *              from TT_CLSKETQUA               where                             TT_CLSKETQUA.DVYEUCAU_ID = '99902'                       and                           TT_CLSKETQUA.BENHVIEN_ID = 'HLU01'                                     order by CLSKETQUA_ID]
2019-08-19 09:43:03,480 [1] DEBUG - Statement Id: [DAO00020_GetDetailP] PreparedStatement : [select *        from TT_DVYEUCAU        where TT_DVYEUCAU.DVYEUCAU_ID  = 99902        order by DVYEUCAU_ID]
2019-08-19 09:43:03,558 [1] DEBUG - Statement Id: [DAO00017_GetNameByID] PreparedStatement : [select TENPHONGBAN              from [TM_PHONGBAN]              where PHONGBAN_ID = '65' and BENHVIEN_ID = 'HLU01']
2019-08-19 09:43:03,659 [1] DEBUG - Statement Id: [DAO00041_GetNameByID] PreparedStatement : [select TENDICHVU              from TM_DICHVU              where DICHVU_ID = '4022']
2019-08-19 09:43:03,772 [1] DEBUG - Statement Id: [DAO00038_GetList] PreparedStatement : [select *              from TT_CLSKETQUA_IMAGES               where                             TT_CLSKETQUA_IMAGES.CLSKETQUA_ID = '46398'                       and                           TT_CLSKETQUA_IMAGES.BENHVIEN_ID = 'HLU01'                                     order by IDX]
2019-08-19 09:43:03,827 [1] DEBUG - Statement Id: [DAO00222_GetList] PreparedStatement : [select *        from TT_CLSKETQUA_DOCUMENTS         where                 CLSKETQUA_ID = '46398'                     order by CLSKETQUA_DOCUMENTS_ID]
2019-08-19 09:43:03,866 [1] DEBUG - Statement Id: [DAO00116_File_GetList] PreparedStatement : [select *              from TT_FILE_DINHKEM               where                             TT_FILE_DINHKEM.REF_TABLE = 'TT_CLSKETQUA'                       and                           TT_FILE_DINHKEM.REF_ID = '46398'                       and                           TT_FILE_DINHKEM.BENHVIEN_ID = 'HLU01'                                     order by FILE_ID]
2019-08-19 09:43:03,922 [1] DEBUG - Statement Id: [DAO00042_GetList] PreparedStatement : [select *              from TM_TUDIENKETQUA              where BENHVIEN_ID = 'HLU01'                and                       TM_TUDIENKETQUA.DICHVU_ID = '4022'                    and                       (TM_TUDIENKETQUA.NGUOITAO_ID = '1' OR TM_TUDIENKETQUA.SUDUNGCHUNG = '1')                                 order by TM_TUDIENKETQUA.TENNOIDUNG]
2019-08-19 09:43:04,285 [1] DEBUG - Statement Id: [DAO00066_GetBENHAN_TIEPNHAN] PreparedStatement : [select top 1 *        from TT_NOITRU_BENHAN        where TIEPNHAN_ID = '13844'  and BENHVIEN_ID = 'HLU01'        order by NGAYTAO desc]
2019-08-19 09:43:18,907 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'RPT02'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:43:20,465 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'RPT01'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:43:21,894 [1] DEBUG - Statement Id: [DAO00200_GetDetail] PreparedStatement : [select *              from TM_REPORT              where TM_REPORT.REPORT_CODE  = 'RIS01P00601' AND TM_REPORT.BENHVIEN_ID = 'HLU01']
2019-08-19 09:43:21,949 [1] DEBUG - Statement Id: [DAO00201_GetList] PreparedStatement : [select *              from TM_REPORT_DETAIL               where                             TM_REPORT_DETAIL.REPORT_CODE = 'RIS01P00601'                       and                           TM_REPORT_DETAIL.BENHVIEN_ID = 'HLU01'                                     order by PARAMETER_INDEX]
2019-08-19 09:43:21,985 [1] DEBUG - Statement Id: [DAO00203_GetList] PreparedStatement : [select *              from TM_REPORT_SUB_DEFINITION               where                             TM_REPORT_SUB_DEFINITION.REPORT_CODE = 'RIS01P00601'                       and                           TM_REPORT_SUB_DEFINITION.BENHVIEN_ID = 'HLU01'                                     order by REPORT_SUB_DEFINITION_ID]
2019-08-19 09:43:22,082 [1] DEBUG - Statement Id: [DAO00201_GetListByParentReportID] PreparedStatement : [select RD.*              from TM_REPORT AS R              INNER JOIN TM_REPORT_SUB_DEFINITION AS RS ON R.REPORT_CODE = RS.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              INNER JOIN TM_REPORT_DETAIL AS RD ON RD.REPORT_CODE = RS.SUB_REPORT_CODE AND RD.BENHVIEN_ID = RS.BENHVIEN_ID              where R.REPORT_CODE  = 'RIS01P00601' AND R.BENHVIEN_ID = 'HLU01']
2019-08-19 09:43:22,218 [1] DEBUG - Statement Id: [DAO00203_GetListReportSubFileByReportID] PreparedStatement : [select R.*              from TM_REPORT_SUB_DEFINITION AS RS              inner join TM_REPORT AS R ON RS.SUB_REPORT_CODE = R.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              where RS.REPORT_CODE = 'RIS01P00601' AND RS.BENHVIEN_ID = 'HLU01']
2019-08-19 09:43:22,280 [1] DEBUG - Statement Id: [DAO00204_GetListParameter] PreparedStatement : [SELECT SUBSTRING(p.name, 2, LEN(p.name) - 1) AS PARAMETER, p.parameter_id AS Idx, CONVERT(varchar(1),p.is_nullable) as Allow_Null              FROM sys.procedures sp              INNER JOIN sys.parameters p ON sp.object_id = p.object_id              WHERE sp.name = 'RIS01P00601_PTLKQCDHA'              ORDER BY p.parameter_id]
2019-08-19 09:43:22,348 [1] DEBUG - Statement Id: [DAO00204_GetReportData] PreparedStatement : [RIS01P00601_PTLKQCDHA]
2019-08-19 09:43:22,348 [1] DEBUG - Statement Id: [DAO00204_GetReportData] Parameters: [@SOPHIEU=[PARAMETERS.SOPHIEU,46398], @IMAGES=[PARAMETERS.IMAGES,null], @MABENHVIEN=[PARAMETERS.MABENHVIEN,HLU01]]
2019-08-19 09:43:22,349 [1] DEBUG - Statement Id: [DAO00204_GetReportData] Types: [@SOPHIEU=[Int64, System.Int64], @IMAGES=[System.DBNull, null], @MABENHVIEN=[String, System.String]]
2019-08-19 09:43:25,178 [1] DEBUG - Statement Id: [DAO00200_GetSettingReportPrinting] PreparedStatement : [SELECT DICTIONARY_CODE AS REPORT_CODE, DICTIONARY_NAME AS COMPUTER_NAME, DICTIONARY_NAME_EN AS NAME_PRINTER          FROM LST_DICTIONARY          WHERE BENHVIEN_ID = 'HLU01' AND ENABLED = '1' AND DICTIONARY_TYPE_CODE = 'Report_Printer_Setting'          AND DICTIONARY_CODE = 'RIS01P00601' AND DICTIONARY_NAME = 'GMC-HAIPN6']
2019-08-19 09:44:29,261 [1] DEBUG - Statement Id: [DAO00019_DanhSachCDHA] PreparedStatement : [declare @TenBenhVien nvarchar(500)        set @TenBenhVien = (select VALUE from TM_SYS_APPSETTINGS where CODE = 'APP_BENHVIEN_TEN')        select * from(        select ROW_NUMBER() OVER(order by NGAYGIOYEUCAU) as ROWNUMBER, *        from        (SELECT distinct        COUNT(*) OVER() as TOTALROWS,        N'Mã người bệnh: ' + bn.MAYTE + ' - ' + N'Tên người bệnh: ' + bn.TENBENHNHAN + ' - ' + N'Số bệnh án: ' + ISNULL(BA.SOBENHAN,'') + ' - ' + N'Sinh ngày: ' + isnull(Convert(varchar(10),bn.NGAYSINH,103),bn.NAMSINH) + ' - ' + N'Giới tính: ' + GD.DESCRIPTION as GROUPNAME,        bn.MAYTE, bn.TENBENHNHAN, bn.NAMSINH, bn.NGAYSINH as TUOI, ISNULL(CONVERT(VARCHAR(10), bn.NGAYSINH, 103),CAST(bn.NAMSINH AS varchar)) as NGAYSINH, bn.DIACHILIENLAC as DIACHI, bn.GIOITINH, GD.DESCRIPTION as TENGIOITINH,        tn.DOITUONG_ID, tn.THOIGIANTIEPNHAN, tn.BENHNHAN_ID, tn.TIEPNHAN_ID, tn.TRAITUYEN, tn.SOTIEPNHAN,        dv.DICHVU_ID, dv.NOITHUCHIEN_ID, isnull(dv.NGAYTAO, dv.NGAYCAPNHAT) as THOIGIANDKDICHVU,        dv.KHAN, dv.NOIYEUCAU_ID, dv.NGAYGIOYEUCAU, dv.BACSICHIDINH_ID, dv.DONVIGIOITHIEU_ID, dv.NGUOIGIOITHIEU_ID, dv.TRANGTHAI_WFL,        tn.NOIGIOITHIEU_ID, kbnt.HUONGGIAIQUYET_ID,        dv.DVYEUCAU_ID, dv.MARIS, dv.TRANGTHAI as TRANGTHAICODE, B.TENNHOMDICHVU, dv.SOPHIEUYEUCAU, dv.KHAMBENH_NGOAITRU_ID, dv.NGUOICAPNHAT_ID, dv.NGAYCAPNHAT,        CASE WHEN Left(B.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(B.MANHOMDICHVU,2) END AS MANHOMDICHVU, B.MANHOMDICHVU as MANHOMDICHVUCHITIET, tn.TRANGTHAI as TRANGTHAI_TIEPNHAN,        'True' as DAKHAM,        vp.DATHANHTOAN, vp.DONGIA_DOANHTHU, BA.SOBENHAN, dv.CHANDOAN        , a.TENDICHVU, nth.TENPHONGBAN as TENPHONGKHAM, nyc.TENPHONGBAN as TENKHOACHIDINH        , case when (dv.DONVIGIOITHIEU_ID is not null and dv.DONVIGIOITHIEU_ID != '') then ngt.TENBENHVIEN else @TenBenhVien end as TENBENHVIENCHIDINH        , case when (dv.BACSICHIDINH_ID is not null and dv.BACSICHIDINH_ID != '') then bscd.TENNHANVIEN else ngtt.TENNHANVIEN end as TENBACSICHIDINH          ,             cls.CLSKETQUA_ID, cls.NGAYGIOTHUCHIEN , cls.THOIGIANKHOADULIEU, cls.NGUOIKHOA_ID, cls_vtyt.CLSKETQUA_ID as VTYT            , cls.GUINGOAI, cls.NOIGUIDEN_ID, dv.TENNGUOIKHOA                   FROM TT_DVYEUCAU (NOLOCK) dv        inner join TT_TIEPNHAN (NOLOCK) tn on dv.TIEPNHAN_ID = tn.TIEPNHAN_ID        inner join TT_BENHNHAN (NOLOCK) bn on tn.BENHNHAN_ID = bn.BENHNHAN_ID        inner join TM_DICHVU A on A.DICHVU_ID = dv.DICHVU_ID        inner join TM_PHONGBAN nth on nth.PHONGBAN_ID = dv.NOITHUCHIEN_ID        left join TM_BENHVIEN ngt on ngt.BENHVIEN_STT_ID = dv.DONVIGIOITHIEU_ID        left join TM_NHANVIEN bscd on bscd.NHANVIEN_ID = dv.BACSICHIDINH_ID        left join TM_NHANVIEN ngtt on ngtt.NHANVIEN_ID = dv.NGUOIGIOITHIEU_ID        inner join TM_PHONGBAN nyc on nyc.PHONGBAN_ID = dv.NOIYEUCAU_ID        inner join TM_NHOMDICHVU B on B.NHOMDICHVU_ID = A.NHOMDICHVU_ID        inner join TT_VIENPHI (NOLOCK) VP on VP.TIEPNHAN_ID = tn.TIEPNHAN_ID and VP.DICHVU_ID = dv.DICHVU_ID and VP.REF_ID = dv.DVYEUCAU_ID        left join TT_NOITRU_BENHAN (NOLOCK) BA on BA.TIEPNHAN_ID = tn.TIEPNHAN_ID AND dv.BENHAN_ID = BA.BENHAN_ID        inner join TM_GENDER GD on GD.ID = bn.GIOITINH        left join TT_NGOAITRU_KHAMBENH (NOLOCK) kbnt on kbnt.KHAMBENH_ID = dv.KHAMBENH_NGOAITRU_ID                       left join TT_CLSKETQUA (NOLOCK) cls on dv.DVYEUCAU_ID = cls.DVYEUCAU_ID            left join TT_CLSKETQUA_VTYT (NOLOCK) cls_vtyt on cls_vtyt.DVYEUCAU_ID = dv.DVYEUCAU_ID                   where        dv.DICHVU_ID IS NOT NULL        and tn.BENHVIEN_ID = 'HLU01'        and HUYYEUCAU = 0        and dv.NGAYHENCLS is NULL                       and dv.TRANGTHAI IN ('CHOXACNHAN','HOANTAT')           and           dv.NGAYYEUCAU >= '5/1/2019 12:00:00 AM'         and           dv.NGAYYEUCAU <= '8/19/2019 12:00:00 AM'         and           dv.NOITHUCHIEN_ID = 91         and           (vp.DATHANHTOAN = '1'  or vp.DONGIA_DOANHTHU = '0' OR TN.SUDUNG_BHTN='1' OR TN.BAOLANH_VIENPHI='1'  OR tn.TRANGTHAI IN ('NOITRU','CAPCUU','NGOAITRU') or dv.HOPDONG_BENHNHAN_ID is not null or vp.BENHNHAN_PHAITHANHTOAN >= 0)         and           (CASE WHEN Left(B.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(B.MANHOMDICHVU,2) END) = '02'                 ) data1) lst                    where          lst.ROWNUMBER between 21 and 40                 order by NGAYGIOYEUCAU asc]
2019-08-19 09:44:40,870 [1] DEBUG - Statement Id: [DAO00019_DanhSachCDHA] PreparedStatement : [declare @TenBenhVien nvarchar(500)        set @TenBenhVien = (select VALUE from TM_SYS_APPSETTINGS where CODE = 'APP_BENHVIEN_TEN')        select * from(        select ROW_NUMBER() OVER(order by NGAYGIOYEUCAU) as ROWNUMBER, *        from        (SELECT distinct        COUNT(*) OVER() as TOTALROWS,        N'Mã người bệnh: ' + bn.MAYTE + ' - ' + N'Tên người bệnh: ' + bn.TENBENHNHAN + ' - ' + N'Số bệnh án: ' + ISNULL(BA.SOBENHAN,'') + ' - ' + N'Sinh ngày: ' + isnull(Convert(varchar(10),bn.NGAYSINH,103),bn.NAMSINH) + ' - ' + N'Giới tính: ' + GD.DESCRIPTION as GROUPNAME,        bn.MAYTE, bn.TENBENHNHAN, bn.NAMSINH, bn.NGAYSINH as TUOI, ISNULL(CONVERT(VARCHAR(10), bn.NGAYSINH, 103),CAST(bn.NAMSINH AS varchar)) as NGAYSINH, bn.DIACHILIENLAC as DIACHI, bn.GIOITINH, GD.DESCRIPTION as TENGIOITINH,        tn.DOITUONG_ID, tn.THOIGIANTIEPNHAN, tn.BENHNHAN_ID, tn.TIEPNHAN_ID, tn.TRAITUYEN, tn.SOTIEPNHAN,        dv.DICHVU_ID, dv.NOITHUCHIEN_ID, isnull(dv.NGAYTAO, dv.NGAYCAPNHAT) as THOIGIANDKDICHVU,        dv.KHAN, dv.NOIYEUCAU_ID, dv.NGAYGIOYEUCAU, dv.BACSICHIDINH_ID, dv.DONVIGIOITHIEU_ID, dv.NGUOIGIOITHIEU_ID, dv.TRANGTHAI_WFL,        tn.NOIGIOITHIEU_ID, kbnt.HUONGGIAIQUYET_ID,        dv.DVYEUCAU_ID, dv.MARIS, dv.TRANGTHAI as TRANGTHAICODE, B.TENNHOMDICHVU, dv.SOPHIEUYEUCAU, dv.KHAMBENH_NGOAITRU_ID, dv.NGUOICAPNHAT_ID, dv.NGAYCAPNHAT,        CASE WHEN Left(B.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(B.MANHOMDICHVU,2) END AS MANHOMDICHVU, B.MANHOMDICHVU as MANHOMDICHVUCHITIET, tn.TRANGTHAI as TRANGTHAI_TIEPNHAN,        'True' as DAKHAM,        vp.DATHANHTOAN, vp.DONGIA_DOANHTHU, BA.SOBENHAN, dv.CHANDOAN        , a.TENDICHVU, nth.TENPHONGBAN as TENPHONGKHAM, nyc.TENPHONGBAN as TENKHOACHIDINH        , case when (dv.DONVIGIOITHIEU_ID is not null and dv.DONVIGIOITHIEU_ID != '') then ngt.TENBENHVIEN else @TenBenhVien end as TENBENHVIENCHIDINH        , case when (dv.BACSICHIDINH_ID is not null and dv.BACSICHIDINH_ID != '') then bscd.TENNHANVIEN else ngtt.TENNHANVIEN end as TENBACSICHIDINH          ,             cls.CLSKETQUA_ID, cls.NGAYGIOTHUCHIEN , cls.THOIGIANKHOADULIEU, cls.NGUOIKHOA_ID, cls_vtyt.CLSKETQUA_ID as VTYT            , cls.GUINGOAI, cls.NOIGUIDEN_ID, dv.TENNGUOIKHOA                   FROM TT_DVYEUCAU (NOLOCK) dv        inner join TT_TIEPNHAN (NOLOCK) tn on dv.TIEPNHAN_ID = tn.TIEPNHAN_ID        inner join TT_BENHNHAN (NOLOCK) bn on tn.BENHNHAN_ID = bn.BENHNHAN_ID        inner join TM_DICHVU A on A.DICHVU_ID = dv.DICHVU_ID        inner join TM_PHONGBAN nth on nth.PHONGBAN_ID = dv.NOITHUCHIEN_ID        left join TM_BENHVIEN ngt on ngt.BENHVIEN_STT_ID = dv.DONVIGIOITHIEU_ID        left join TM_NHANVIEN bscd on bscd.NHANVIEN_ID = dv.BACSICHIDINH_ID        left join TM_NHANVIEN ngtt on ngtt.NHANVIEN_ID = dv.NGUOIGIOITHIEU_ID        inner join TM_PHONGBAN nyc on nyc.PHONGBAN_ID = dv.NOIYEUCAU_ID        inner join TM_NHOMDICHVU B on B.NHOMDICHVU_ID = A.NHOMDICHVU_ID        inner join TT_VIENPHI (NOLOCK) VP on VP.TIEPNHAN_ID = tn.TIEPNHAN_ID and VP.DICHVU_ID = dv.DICHVU_ID and VP.REF_ID = dv.DVYEUCAU_ID        left join TT_NOITRU_BENHAN (NOLOCK) BA on BA.TIEPNHAN_ID = tn.TIEPNHAN_ID AND dv.BENHAN_ID = BA.BENHAN_ID        inner join TM_GENDER GD on GD.ID = bn.GIOITINH        left join TT_NGOAITRU_KHAMBENH (NOLOCK) kbnt on kbnt.KHAMBENH_ID = dv.KHAMBENH_NGOAITRU_ID                       left join TT_CLSKETQUA (NOLOCK) cls on dv.DVYEUCAU_ID = cls.DVYEUCAU_ID            left join TT_CLSKETQUA_VTYT (NOLOCK) cls_vtyt on cls_vtyt.DVYEUCAU_ID = dv.DVYEUCAU_ID                   where        dv.DICHVU_ID IS NOT NULL        and tn.BENHVIEN_ID = 'HLU01'        and HUYYEUCAU = 0        and dv.NGAYHENCLS is NULL                       and dv.TRANGTHAI IN ('CHOXACNHAN','HOANTAT')           and           dv.NGAYYEUCAU >= '5/1/2019 12:00:00 AM'         and           dv.NGAYYEUCAU <= '8/19/2019 12:00:00 AM'         and           dv.NOITHUCHIEN_ID = 91         and           (vp.DATHANHTOAN = '1'  or vp.DONGIA_DOANHTHU = '0' OR TN.SUDUNG_BHTN='1' OR TN.BAOLANH_VIENPHI='1'  OR tn.TRANGTHAI IN ('NOITRU','CAPCUU','NGOAITRU') or dv.HOPDONG_BENHNHAN_ID is not null or vp.BENHNHAN_PHAITHANHTOAN >= 0)         and           (CASE WHEN Left(B.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(B.MANHOMDICHVU,2) END) = '02'                 ) data1) lst                    where          lst.ROWNUMBER between 41 and 60                 order by NGAYGIOYEUCAU asc]
2019-08-19 09:45:03,067 [1] DEBUG - Statement Id: [DAO00019_DanhSachCDHA] PreparedStatement : [declare @TenBenhVien nvarchar(500)        set @TenBenhVien = (select VALUE from TM_SYS_APPSETTINGS where CODE = 'APP_BENHVIEN_TEN')        select * from(        select ROW_NUMBER() OVER(order by NGAYGIOYEUCAU) as ROWNUMBER, *        from        (SELECT distinct        COUNT(*) OVER() as TOTALROWS,        N'Mã người bệnh: ' + bn.MAYTE + ' - ' + N'Tên người bệnh: ' + bn.TENBENHNHAN + ' - ' + N'Số bệnh án: ' + ISNULL(BA.SOBENHAN,'') + ' - ' + N'Sinh ngày: ' + isnull(Convert(varchar(10),bn.NGAYSINH,103),bn.NAMSINH) + ' - ' + N'Giới tính: ' + GD.DESCRIPTION as GROUPNAME,        bn.MAYTE, bn.TENBENHNHAN, bn.NAMSINH, bn.NGAYSINH as TUOI, ISNULL(CONVERT(VARCHAR(10), bn.NGAYSINH, 103),CAST(bn.NAMSINH AS varchar)) as NGAYSINH, bn.DIACHILIENLAC as DIACHI, bn.GIOITINH, GD.DESCRIPTION as TENGIOITINH,        tn.DOITUONG_ID, tn.THOIGIANTIEPNHAN, tn.BENHNHAN_ID, tn.TIEPNHAN_ID, tn.TRAITUYEN, tn.SOTIEPNHAN,        dv.DICHVU_ID, dv.NOITHUCHIEN_ID, isnull(dv.NGAYTAO, dv.NGAYCAPNHAT) as THOIGIANDKDICHVU,        dv.KHAN, dv.NOIYEUCAU_ID, dv.NGAYGIOYEUCAU, dv.BACSICHIDINH_ID, dv.DONVIGIOITHIEU_ID, dv.NGUOIGIOITHIEU_ID, dv.TRANGTHAI_WFL,        tn.NOIGIOITHIEU_ID, kbnt.HUONGGIAIQUYET_ID,        dv.DVYEUCAU_ID, dv.MARIS, dv.TRANGTHAI as TRANGTHAICODE, B.TENNHOMDICHVU, dv.SOPHIEUYEUCAU, dv.KHAMBENH_NGOAITRU_ID, dv.NGUOICAPNHAT_ID, dv.NGAYCAPNHAT,        CASE WHEN Left(B.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(B.MANHOMDICHVU,2) END AS MANHOMDICHVU, B.MANHOMDICHVU as MANHOMDICHVUCHITIET, tn.TRANGTHAI as TRANGTHAI_TIEPNHAN,        'True' as DAKHAM,        vp.DATHANHTOAN, vp.DONGIA_DOANHTHU, BA.SOBENHAN, dv.CHANDOAN        , a.TENDICHVU, nth.TENPHONGBAN as TENPHONGKHAM, nyc.TENPHONGBAN as TENKHOACHIDINH        , case when (dv.DONVIGIOITHIEU_ID is not null and dv.DONVIGIOITHIEU_ID != '') then ngt.TENBENHVIEN else @TenBenhVien end as TENBENHVIENCHIDINH        , case when (dv.BACSICHIDINH_ID is not null and dv.BACSICHIDINH_ID != '') then bscd.TENNHANVIEN else ngtt.TENNHANVIEN end as TENBACSICHIDINH          ,             cls.CLSKETQUA_ID, cls.NGAYGIOTHUCHIEN , cls.THOIGIANKHOADULIEU, cls.NGUOIKHOA_ID, cls_vtyt.CLSKETQUA_ID as VTYT            , cls.GUINGOAI, cls.NOIGUIDEN_ID, dv.TENNGUOIKHOA                   FROM TT_DVYEUCAU (NOLOCK) dv        inner join TT_TIEPNHAN (NOLOCK) tn on dv.TIEPNHAN_ID = tn.TIEPNHAN_ID        inner join TT_BENHNHAN (NOLOCK) bn on tn.BENHNHAN_ID = bn.BENHNHAN_ID        inner join TM_DICHVU A on A.DICHVU_ID = dv.DICHVU_ID        inner join TM_PHONGBAN nth on nth.PHONGBAN_ID = dv.NOITHUCHIEN_ID        left join TM_BENHVIEN ngt on ngt.BENHVIEN_STT_ID = dv.DONVIGIOITHIEU_ID        left join TM_NHANVIEN bscd on bscd.NHANVIEN_ID = dv.BACSICHIDINH_ID        left join TM_NHANVIEN ngtt on ngtt.NHANVIEN_ID = dv.NGUOIGIOITHIEU_ID        inner join TM_PHONGBAN nyc on nyc.PHONGBAN_ID = dv.NOIYEUCAU_ID        inner join TM_NHOMDICHVU B on B.NHOMDICHVU_ID = A.NHOMDICHVU_ID        inner join TT_VIENPHI (NOLOCK) VP on VP.TIEPNHAN_ID = tn.TIEPNHAN_ID and VP.DICHVU_ID = dv.DICHVU_ID and VP.REF_ID = dv.DVYEUCAU_ID        left join TT_NOITRU_BENHAN (NOLOCK) BA on BA.TIEPNHAN_ID = tn.TIEPNHAN_ID AND dv.BENHAN_ID = BA.BENHAN_ID        inner join TM_GENDER GD on GD.ID = bn.GIOITINH        left join TT_NGOAITRU_KHAMBENH (NOLOCK) kbnt on kbnt.KHAMBENH_ID = dv.KHAMBENH_NGOAITRU_ID                       left join TT_CLSKETQUA (NOLOCK) cls on dv.DVYEUCAU_ID = cls.DVYEUCAU_ID            left join TT_CLSKETQUA_VTYT (NOLOCK) cls_vtyt on cls_vtyt.DVYEUCAU_ID = dv.DVYEUCAU_ID                   where        dv.DICHVU_ID IS NOT NULL        and tn.BENHVIEN_ID = 'HLU01'        and HUYYEUCAU = 0        and dv.NGAYHENCLS is NULL                       and dv.TRANGTHAI IN ('CHOXACNHAN','HOANTAT')           and           dv.NGAYYEUCAU >= '5/1/2019 12:00:00 AM'         and           dv.NGAYYEUCAU <= '8/19/2019 12:00:00 AM'         and           dv.NOITHUCHIEN_ID = 91         and           (Left(B.MANHOMDICHVU,4) = '0212' or B.MANHOMDICHVU = '0212')         and           (vp.DATHANHTOAN = '1'  or vp.DONGIA_DOANHTHU = '0' OR TN.SUDUNG_BHTN='1' OR TN.BAOLANH_VIENPHI='1'  OR tn.TRANGTHAI IN ('NOITRU','CAPCUU','NGOAITRU') or dv.HOPDONG_BENHNHAN_ID is not null or vp.BENHNHAN_PHAITHANHTOAN >= 0)         and           (CASE WHEN Left(B.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(B.MANHOMDICHVU,2) END) = '02'                 ) data1) lst                    where          lst.ROWNUMBER between 1 and 20                 order by NGAYGIOYEUCAU asc]
2019-08-19 09:45:07,991 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'RIS14'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 09:45:08,681 [1] DEBUG - Statement Id: [DAO00012_GetList] PreparedStatement : [select        DICTIONARY_ID,        DICTIONARY_CODE,        DICTIONARY_NAME,        ATTRIBUTE1,        ATTRIBUTE2,        DICTIONARY_NAME_EN        from LST_DICTIONARY        where LST_DICTIONARY.Enabled = '1'         AND           LST_DICTIONARY.DICTIONARY_TYPE_CODE = 'NhomThietBi'                 order by LST_DICTIONARY.IDX]
2019-08-19 09:45:14,240 [1] DEBUG - Statement Id: [DAO00019_ThongTinBenhNhanDvYeuCau] PreparedStatement : [select distinct A.SOTIEPNHAN, A.TIEPNHAN_ID, A.DOITUONG_ID, A.TRANGTHAI,        A.LOAITHANHVIEN_ID, A.SUDUNG_BHTN, A.THE_ID, A.THANHVIEN_ID, A.VIP, A.NGUON_BENHNHAN_ID, A.BAOLANH_VIENPHI, A.NGAYMIENDONGCHITRA,        B.*,  C.DICHVU_ID, C.DVYEUCAU_ID, C.NOITHUCHIEN_ID, A.SOBHYT        from TT_TIEPNHAN A        inner join TT_DVYEUCAU C on C.TIEPNHAN_ID = A.TIEPNHAN_ID        inner join TT_BENHNHAN B on B.BENHNHAN_ID = A.BENHNHAN_ID and B.ACTIVE = '1'        where                    C.DVYEUCAU_ID = '102477'                 and A.BENHVIEN_ID = 'HLU01']
2019-08-19 09:45:14,410 [1] DEBUG - Statement Id: [DAO00066_GetBENHAN_TIEPNHAN] PreparedStatement : [select top 1 *        from TT_NOITRU_BENHAN        where TIEPNHAN_ID = '14275'  and BENHVIEN_ID = 'HLU01'        order by NGAYTAO desc]
2019-08-19 09:45:14,507 [1] DEBUG - Statement Id: [DAO00046_GETLISTDVYEUCAUINLISTDVID] PreparedStatement : [SELECT dvyc.*, clskqct.CLSKETQUA_ID, clskqct.DICHVU_ID as KETQUA_DICHVU_ID,        clskqct.CLSKETQUACHITIET_ID, clskqct.DONVITINH, clskqct.KETQUA, clskqct.KETQUA2,        clskqct.MUCBINHTHUONG, clskqct.MUCBINHTHUONGMIN, clskqct.MUCBINHTHUONGMAX, clskqct.BATTHUONG        FROM dbo.TT_CLSKETQUACHITIET as clskqct RIGHT OUTER JOIN        dbo.TT_DVYEUCAU as dvyc ON                 clskqct.DVYEUCAU_ID = dvyc.DVYEUCAU_ID        where dvyc.BENHVIEN_ID = 'HLU01'          and             exists (select DICHVU_ID from TM_DICHVU a join TM_NHOMDICHVU b on a.NHOMDICHVU_ID = b.NHOMDICHVU_ID            where dvyc.DICHVU_ID = DICHVU_ID and (left(MANHOMDICHVU,2) in ('0212') OR MANHOMDICHVU in ('0212')))           and             dvyc.TIEPNHAN_ID =  @param0                    order by DVYEUCAU_ID]
2019-08-19 09:45:14,507 [1] DEBUG - Statement Id: [DAO00046_GETLISTDVYEUCAUINLISTDVID] Parameters: [@param0=[TIEPNHAN_ID,14275]]
2019-08-19 09:45:14,507 [1] DEBUG - Statement Id: [DAO00046_GETLISTDVYEUCAUINLISTDVID] Types: [@param0=[Int64, System.Int64]]
2019-08-19 09:45:14,607 [1] DEBUG - Statement Id: [DAO00066_GetBENHAN_TIEPNHAN] PreparedStatement : [select top 1 *        from TT_NOITRU_BENHAN        where TIEPNHAN_ID = '14275'  and BENHVIEN_ID = 'HLU01'        order by NGAYTAO desc]
2019-08-19 09:45:14,685 [1] DEBUG - Statement Id: [DAO00009_TT_TIEPNHAN_GetProcess] PreparedStatement : [select PROCESS_ID from TT_TIEPNHAN where SOTIEPNHAN = 'TN190502.0000201']
2019-08-19 09:45:15,089 [1] DEBUG - Statement Id: [DAOWF004_laytrangthaiDV] PreparedStatement : [select top 1 A.CURR_STATE_CODE as STATE_CODE, isNull(C.SHORT_NAME,C.NAME) as TRANGTHAI, C.NAME as TRANGTHAI_CHITIET, C.STATUS_CODE, D.ISACTIVE as ACTIVE, E.STATUS_CODE  as OLD_STATUSCODE        from TT_REQUEST_SERVICE_DETAIL A                left join (select * from TT_REQUEST_SERVICE where PARA = '{"DICHVU_ID":"4044","DVYEUCAU_ID":"102477"}') D on D.ID = A.REQUEST_SERVICE_ID        left join TM_STATE C on A.CURR_STATE_CODE = C.STATE_CODE and C.PROCESS_CODE = D.PROCESS_CODE        left join TM_STATE E on A.OLD_STATE_CODE = E.STATE_CODE and E.PROCESS_CODE = D.PROCESS_CODE        where        A.REQUEST_SERVICE_ID = (select top 1 ID from TT_REQUEST_SERVICE where PARA = '{"DICHVU_ID":"4044","DVYEUCAU_ID":"102477"}' order by ID desc)        order by A.ID desc]
2019-08-19 09:45:15,264 [1] DEBUG - Statement Id: [DAO00037_GetSieuAmTimDoppler] PreparedStatement : [SELECT TT_CLSKETQUA.*,          SAT.CLSKETQUA_SAT_ID,            SAT.TTR_VACHLIENTHAT,          SAT.TTR_THATTRAI,          SAT.TTR_THANHSAU,          SAT.TTR_SF,          SAT.TTR_EF,          SAT.TTR_THATPHAI,          SAT.TTH_VACHLIENTHAT,          SAT.TTH_THATTRAI,          SAT.TTH_THANHSAU,          SAT.TTH_DONGMACHCHU,          SAT.TTH_NHITRAI,          SAT.TTH_TAPSE,          SAT.CHISO_KC_THATTRAI,          SAT.D_SITUS,          SAT.D_VITRITIM,          SAT.D_TM_TRENTRAI,          SAT.D_TM_TRENPHAI,          SAT.D_TM_DUOI,          SAT.D_TM_PHOI,          SAT.D_NHI,          SAT.D_VAN_2LA,          SAT.D_VAN_3LA,          SAT.D_VAN_LATRUOC,          SAT.D_THAT,          SAT.D_DMC_D2,          SAT.D_DMC_NGANG,          SAT.D_DMC_LEN,          SAT.D_DMC_EO,          SAT.D_DMP_VONG,          SAT.D_DMP_TRAI,          SAT.D_DMP_PHAI,          SAT.D_DMP_THAN,          SAT.D_MANGNGOAITIM,          SAT.DOP_V2LA_VMAX,          SAT.DOP_V2LA_HOVAN,          SAT.DOP_V2LA_HEPVAN,          SAT.DOP_V2LA_PGMAX,          SAT.DOP_V2LA_VC,          SAT.DOP_V2LA_EROA,          SAT.DOP_V2LA_DTVAN,          SAT.DOP_V2LA_PGMEAN,          SAT.DOP_V2LA_TILE_DH,          SAT.DOP_V2LA_E_A,          SAT.DOP_DMC_VMAX,          SAT.DOP_DMC_HOVAN,          SAT.DOP_DMC_HEPVAN,          SAT.DOP_DMC_PGMAX,          SAT.DOP_DMC_DFO,          SAT.DOP_DMC_VC,          SAT.DOP_DMC_DTVAN,          SAT.DOP_DMC_PGMEAN,          SAT.DOP_DMC_EDTD,          SAT.DOP_DMC_TILE_DH,          SAT.DOP_V3LA_VMAX_HO,          SAT.DOP_V3LA_HOVAN,          SAT.DOP_V3LA_VMAX,          SAT.DOP_V3LA_APLUC_PTT,          SAT.DOP_V3LA_VC,          SAT.DOP_V3LA_PGMAX,          SAT.DOP_V3LA_TILE_DH,          SAT.DOP_V3LA_PGMEAN,          SAT.DOP_DMP_VMAX,          SAT.DOP_DMP_HOVAN,          SAT.DOP_DMP_HEPVAN,          SAT.DOP_DMP_PGMAX,          SAT.DOP_DMP_VC,          SAT.DOP_DMP_TRUNGBINH,          SAT.DOP_DMP_PGMEAN,          SAT.DOP_DMP_TILE_DH,          SAT.DOP_DMP_TAMTRUONG,          SAT.NHANXET,          SAT.KETLUAN_SAT,          [CSC_NHIPTIM]          ,[CSC_NHITRAI]          ,[CSC_DMC]          ,[CSC_THATPHAI]          ,[CSC_DD]          ,[CSC_DS]          ,[CSC_VD]          ,[CSC_VS]          ,[CSC_D]          ,[CSC_EF]          ,[CSC_VLT_TTR]          ,[CSC_VLT_TTH]          ,[CSC_TSTT_TTR]          ,[CSC_TSTT_TTH]          ,[TM_VHL_TINHTRANG]          ,[TM_VHL_DANGDIDONG]          ,[TM_VHL_KC2BOVAN]          ,[TM_VHL_DOCTAMTRUONG]          ,[TM_VHL_DTDONGHO]          ,[TM_VDMC_TINHTRANG]          ,[TM_VDMC_BIENDO]          ,[TM_VDMC_DANGVANDONG]          ,[TM_VBL_TINHTRANG]          ,[TM_VDMP_TINHTRANG]          ,[TM_VDMP_DKGOC]          ,[TM_VDMP_APLUCUOCTINH]          ,[DOP_VHL_HOVAN]          ,[DOP_VHL_GRADIENT_MAX]          ,[DOP_VHL_GRADIENT_AVG]          ,[DOP_VHL_DIENTICH2D]          ,[DOP_VHL_DIENTICHPHT]          ,[DOP_VHL_HUYETKHOINT]          ,[DOP_VHL_E_VLT]          ,[DOP_VDMC_HOVAN]          ,[DOP_VDMC_GRADIENT_MAX]          ,[DOP_VDMC_GRADIENT_AVG]          ,[DOP_VBL_HOVAN]          ,[DOP_VBL_GRADIENT_MAX]          ,[DOP_VDMP_HOVAN]          ,[DOP_VDMP_GRADIENT_MAX]          ,[DOP_VDMP_CUOITT]          ,[DOP_VDMP_TB]            FROM TT_CLSKETQUA          LEFT JOIN TT_CLSKETQUA_SAT SAT ON TT_CLSKETQUA.CLSKETQUA_ID = SAT.CLSKETQUA_ID           where                             TT_CLSKETQUA.DVYEUCAU_ID = '102477'                       and                           TT_CLSKETQUA.BENHVIEN_ID = 'HLU01'                                     order by CLSKETQUA_ID]
2019-08-19 09:45:15,629 [1] DEBUG - Statement Id: [DAO00020_GetDetailP] PreparedStatement : [select *        from TT_DVYEUCAU        where TT_DVYEUCAU.DVYEUCAU_ID  = 102477        order by DVYEUCAU_ID]
2019-08-19 09:45:15,738 [1] DEBUG - Statement Id: [DAO00017_GetNameByID] PreparedStatement : [select TENPHONGBAN              from [TM_PHONGBAN]              where PHONGBAN_ID = '58' and BENHVIEN_ID = 'HLU01']
2019-08-19 09:45:15,844 [1] DEBUG - Statement Id: [DAO00041_GetNameByID] PreparedStatement : [select TENDICHVU              from TM_DICHVU              where DICHVU_ID = '4044']
2019-08-19 09:45:16,018 [1] DEBUG - Statement Id: [DAO00038_GetList] PreparedStatement : [select *              from TT_CLSKETQUA_IMAGES               where                             TT_CLSKETQUA_IMAGES.CLSKETQUA_ID = '47544'                       and                           TT_CLSKETQUA_IMAGES.BENHVIEN_ID = 'HLU01'                                     order by IDX]
2019-08-19 09:45:16,074 [1] DEBUG - Statement Id: [DAO00222_GetList] PreparedStatement : [select *        from TT_CLSKETQUA_DOCUMENTS         where                 CLSKETQUA_ID = '47544'                     order by CLSKETQUA_DOCUMENTS_ID]
2019-08-19 09:45:16,106 [1] DEBUG - Statement Id: [DAO00116_File_GetList] PreparedStatement : [select *              from TT_FILE_DINHKEM               where                             TT_FILE_DINHKEM.REF_TABLE = 'TT_CLSKETQUA'                       and                           TT_FILE_DINHKEM.REF_ID = '47544'                       and                           TT_FILE_DINHKEM.BENHVIEN_ID = 'HLU01'                                     order by FILE_ID]
2019-08-19 09:45:16,169 [1] DEBUG - Statement Id: [DAO00042_GetList] PreparedStatement : [select *              from TM_TUDIENKETQUA              where BENHVIEN_ID = 'HLU01'                and                       TM_TUDIENKETQUA.DICHVU_ID = '4044'                    and                       (TM_TUDIENKETQUA.NGUOITAO_ID = '1' OR TM_TUDIENKETQUA.SUDUNGCHUNG = '1')                                 order by TM_TUDIENKETQUA.TENNOIDUNG]
2019-08-19 09:45:16,215 [1] DEBUG - Statement Id: [DAO00066_GetBENHAN_TIEPNHAN] PreparedStatement : [select top 1 *        from TT_NOITRU_BENHAN        where TIEPNHAN_ID = '14275'  and BENHVIEN_ID = 'HLU01'        order by NGAYTAO desc]
2019-08-19 09:45:16,531 [1] DEBUG - Statement Id: [DAO00037_GetSieuAmTimDoppler] PreparedStatement : [SELECT TT_CLSKETQUA.*,          SAT.CLSKETQUA_SAT_ID,            SAT.TTR_VACHLIENTHAT,          SAT.TTR_THATTRAI,          SAT.TTR_THANHSAU,          SAT.TTR_SF,          SAT.TTR_EF,          SAT.TTR_THATPHAI,          SAT.TTH_VACHLIENTHAT,          SAT.TTH_THATTRAI,          SAT.TTH_THANHSAU,          SAT.TTH_DONGMACHCHU,          SAT.TTH_NHITRAI,          SAT.TTH_TAPSE,          SAT.CHISO_KC_THATTRAI,          SAT.D_SITUS,          SAT.D_VITRITIM,          SAT.D_TM_TRENTRAI,          SAT.D_TM_TRENPHAI,          SAT.D_TM_DUOI,          SAT.D_TM_PHOI,          SAT.D_NHI,          SAT.D_VAN_2LA,          SAT.D_VAN_3LA,          SAT.D_VAN_LATRUOC,          SAT.D_THAT,          SAT.D_DMC_D2,          SAT.D_DMC_NGANG,          SAT.D_DMC_LEN,          SAT.D_DMC_EO,          SAT.D_DMP_VONG,          SAT.D_DMP_TRAI,          SAT.D_DMP_PHAI,          SAT.D_DMP_THAN,          SAT.D_MANGNGOAITIM,          SAT.DOP_V2LA_VMAX,          SAT.DOP_V2LA_HOVAN,          SAT.DOP_V2LA_HEPVAN,          SAT.DOP_V2LA_PGMAX,          SAT.DOP_V2LA_VC,          SAT.DOP_V2LA_EROA,          SAT.DOP_V2LA_DTVAN,          SAT.DOP_V2LA_PGMEAN,          SAT.DOP_V2LA_TILE_DH,          SAT.DOP_V2LA_E_A,          SAT.DOP_DMC_VMAX,          SAT.DOP_DMC_HOVAN,          SAT.DOP_DMC_HEPVAN,          SAT.DOP_DMC_PGMAX,          SAT.DOP_DMC_DFO,          SAT.DOP_DMC_VC,          SAT.DOP_DMC_DTVAN,          SAT.DOP_DMC_PGMEAN,          SAT.DOP_DMC_EDTD,          SAT.DOP_DMC_TILE_DH,          SAT.DOP_V3LA_VMAX_HO,          SAT.DOP_V3LA_HOVAN,          SAT.DOP_V3LA_VMAX,          SAT.DOP_V3LA_APLUC_PTT,          SAT.DOP_V3LA_VC,          SAT.DOP_V3LA_PGMAX,          SAT.DOP_V3LA_TILE_DH,          SAT.DOP_V3LA_PGMEAN,          SAT.DOP_DMP_VMAX,          SAT.DOP_DMP_HOVAN,          SAT.DOP_DMP_HEPVAN,          SAT.DOP_DMP_PGMAX,          SAT.DOP_DMP_VC,          SAT.DOP_DMP_TRUNGBINH,          SAT.DOP_DMP_PGMEAN,          SAT.DOP_DMP_TILE_DH,          SAT.DOP_DMP_TAMTRUONG,          SAT.NHANXET,          SAT.KETLUAN_SAT,          [CSC_NHIPTIM]          ,[CSC_NHITRAI]          ,[CSC_DMC]          ,[CSC_THATPHAI]          ,[CSC_DD]          ,[CSC_DS]          ,[CSC_VD]          ,[CSC_VS]          ,[CSC_D]          ,[CSC_EF]          ,[CSC_VLT_TTR]          ,[CSC_VLT_TTH]          ,[CSC_TSTT_TTR]          ,[CSC_TSTT_TTH]          ,[TM_VHL_TINHTRANG]          ,[TM_VHL_DANGDIDONG]          ,[TM_VHL_KC2BOVAN]          ,[TM_VHL_DOCTAMTRUONG]          ,[TM_VHL_DTDONGHO]          ,[TM_VDMC_TINHTRANG]          ,[TM_VDMC_BIENDO]          ,[TM_VDMC_DANGVANDONG]          ,[TM_VBL_TINHTRANG]          ,[TM_VDMP_TINHTRANG]          ,[TM_VDMP_DKGOC]          ,[TM_VDMP_APLUCUOCTINH]          ,[DOP_VHL_HOVAN]          ,[DOP_VHL_GRADIENT_MAX]          ,[DOP_VHL_GRADIENT_AVG]          ,[DOP_VHL_DIENTICH2D]          ,[DOP_VHL_DIENTICHPHT]          ,[DOP_VHL_HUYETKHOINT]          ,[DOP_VHL_E_VLT]          ,[DOP_VDMC_HOVAN]          ,[DOP_VDMC_GRADIENT_MAX]          ,[DOP_VDMC_GRADIENT_AVG]          ,[DOP_VBL_HOVAN]          ,[DOP_VBL_GRADIENT_MAX]          ,[DOP_VDMP_HOVAN]          ,[DOP_VDMP_GRADIENT_MAX]          ,[DOP_VDMP_CUOITT]          ,[DOP_VDMP_TB]            FROM TT_CLSKETQUA          LEFT JOIN TT_CLSKETQUA_SAT SAT ON TT_CLSKETQUA.CLSKETQUA_ID = SAT.CLSKETQUA_ID           where                             TT_CLSKETQUA.DVYEUCAU_ID = '102477'                       and                           TT_CLSKETQUA.BENHVIEN_ID = 'HLU01'                                     order by CLSKETQUA_ID]
2019-08-19 09:45:16,631 [1] DEBUG - Statement Id: [DAO00020_GetDetailP] PreparedStatement : [select *        from TT_DVYEUCAU        where TT_DVYEUCAU.DVYEUCAU_ID  = 102477        order by DVYEUCAU_ID]
2019-08-19 09:45:16,708 [1] DEBUG - Statement Id: [DAO00017_GetNameByID] PreparedStatement : [select TENPHONGBAN              from [TM_PHONGBAN]              where PHONGBAN_ID = '58' and BENHVIEN_ID = 'HLU01']
2019-08-19 09:45:16,803 [1] DEBUG - Statement Id: [DAO00041_GetNameByID] PreparedStatement : [select TENDICHVU              from TM_DICHVU              where DICHVU_ID = '4044']
2019-08-19 09:45:16,911 [1] DEBUG - Statement Id: [DAO00038_GetList] PreparedStatement : [select *              from TT_CLSKETQUA_IMAGES               where                             TT_CLSKETQUA_IMAGES.CLSKETQUA_ID = '47544'                       and                           TT_CLSKETQUA_IMAGES.BENHVIEN_ID = 'HLU01'                                     order by IDX]
2019-08-19 09:45:16,949 [1] DEBUG - Statement Id: [DAO00222_GetList] PreparedStatement : [select *        from TT_CLSKETQUA_DOCUMENTS         where                 CLSKETQUA_ID = '47544'                     order by CLSKETQUA_DOCUMENTS_ID]
2019-08-19 09:45:16,975 [1] DEBUG - Statement Id: [DAO00116_File_GetList] PreparedStatement : [select *              from TT_FILE_DINHKEM               where                             TT_FILE_DINHKEM.REF_TABLE = 'TT_CLSKETQUA'                       and                           TT_FILE_DINHKEM.REF_ID = '47544'                       and                           TT_FILE_DINHKEM.BENHVIEN_ID = 'HLU01'                                     order by FILE_ID]
2019-08-19 09:45:17,032 [1] DEBUG - Statement Id: [DAO00042_GetList] PreparedStatement : [select *              from TM_TUDIENKETQUA              where BENHVIEN_ID = 'HLU01'                and                       TM_TUDIENKETQUA.DICHVU_ID = '4044'                    and                       (TM_TUDIENKETQUA.NGUOITAO_ID = '1' OR TM_TUDIENKETQUA.SUDUNGCHUNG = '1')                                 order by TM_TUDIENKETQUA.TENNOIDUNG]
2019-08-19 09:45:17,062 [1] DEBUG - Statement Id: [DAO00066_GetBENHAN_TIEPNHAN] PreparedStatement : [select top 1 *        from TT_NOITRU_BENHAN        where TIEPNHAN_ID = '14275'  and BENHVIEN_ID = 'HLU01'        order by NGAYTAO desc]
2019-08-19 09:45:46,768 [1] DEBUG - Statement Id: [DAO00019_DanhSachCDHA] PreparedStatement : [declare @TenBenhVien nvarchar(500)        set @TenBenhVien = (select VALUE from TM_SYS_APPSETTINGS where CODE = 'APP_BENHVIEN_TEN')        select * from(        select ROW_NUMBER() OVER(order by NGAYGIOYEUCAU) as ROWNUMBER, *        from        (SELECT distinct        COUNT(*) OVER() as TOTALROWS,        N'Mã người bệnh: ' + bn.MAYTE + ' - ' + N'Tên người bệnh: ' + bn.TENBENHNHAN + ' - ' + N'Số bệnh án: ' + ISNULL(BA.SOBENHAN,'') + ' - ' + N'Sinh ngày: ' + isnull(Convert(varchar(10),bn.NGAYSINH,103),bn.NAMSINH) + ' - ' + N'Giới tính: ' + GD.DESCRIPTION as GROUPNAME,        bn.MAYTE, bn.TENBENHNHAN, bn.NAMSINH, bn.NGAYSINH as TUOI, ISNULL(CONVERT(VARCHAR(10), bn.NGAYSINH, 103),CAST(bn.NAMSINH AS varchar)) as NGAYSINH, bn.DIACHILIENLAC as DIACHI, bn.GIOITINH, GD.DESCRIPTION as TENGIOITINH,        tn.DOITUONG_ID, tn.THOIGIANTIEPNHAN, tn.BENHNHAN_ID, tn.TIEPNHAN_ID, tn.TRAITUYEN, tn.SOTIEPNHAN,        dv.DICHVU_ID, dv.NOITHUCHIEN_ID, isnull(dv.NGAYTAO, dv.NGAYCAPNHAT) as THOIGIANDKDICHVU,        dv.KHAN, dv.NOIYEUCAU_ID, dv.NGAYGIOYEUCAU, dv.BACSICHIDINH_ID, dv.DONVIGIOITHIEU_ID, dv.NGUOIGIOITHIEU_ID, dv.TRANGTHAI_WFL,        tn.NOIGIOITHIEU_ID, kbnt.HUONGGIAIQUYET_ID,        dv.DVYEUCAU_ID, dv.MARIS, dv.TRANGTHAI as TRANGTHAICODE, B.TENNHOMDICHVU, dv.SOPHIEUYEUCAU, dv.KHAMBENH_NGOAITRU_ID, dv.NGUOICAPNHAT_ID, dv.NGAYCAPNHAT,        CASE WHEN Left(B.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(B.MANHOMDICHVU,2) END AS MANHOMDICHVU, B.MANHOMDICHVU as MANHOMDICHVUCHITIET, tn.TRANGTHAI as TRANGTHAI_TIEPNHAN,        'False' as DAKHAM,        vp.DATHANHTOAN, vp.DONGIA_DOANHTHU, BA.SOBENHAN, dv.CHANDOAN        , a.TENDICHVU, nth.TENPHONGBAN as TENPHONGKHAM, nyc.TENPHONGBAN as TENKHOACHIDINH        , case when (dv.DONVIGIOITHIEU_ID is not null and dv.DONVIGIOITHIEU_ID != '') then ngt.TENBENHVIEN else @TenBenhVien end as TENBENHVIENCHIDINH        , case when (dv.BACSICHIDINH_ID is not null and dv.BACSICHIDINH_ID != '') then bscd.TENNHANVIEN else ngtt.TENNHANVIEN end as TENBACSICHIDINH          ,             0 as GUINGOAI, 0 as VTYT, 0 as CLSKETQUA_ID                   FROM TT_DVYEUCAU (NOLOCK) dv        inner join TT_TIEPNHAN (NOLOCK) tn on dv.TIEPNHAN_ID = tn.TIEPNHAN_ID        inner join TT_BENHNHAN (NOLOCK) bn on tn.BENHNHAN_ID = bn.BENHNHAN_ID        inner join TM_DICHVU A on A.DICHVU_ID = dv.DICHVU_ID        inner join TM_PHONGBAN nth on nth.PHONGBAN_ID = dv.NOITHUCHIEN_ID        left join TM_BENHVIEN ngt on ngt.BENHVIEN_STT_ID = dv.DONVIGIOITHIEU_ID        left join TM_NHANVIEN bscd on bscd.NHANVIEN_ID = dv.BACSICHIDINH_ID        left join TM_NHANVIEN ngtt on ngtt.NHANVIEN_ID = dv.NGUOIGIOITHIEU_ID        inner join TM_PHONGBAN nyc on nyc.PHONGBAN_ID = dv.NOIYEUCAU_ID        inner join TM_NHOMDICHVU B on B.NHOMDICHVU_ID = A.NHOMDICHVU_ID        inner join TT_VIENPHI (NOLOCK) VP on VP.TIEPNHAN_ID = tn.TIEPNHAN_ID and VP.DICHVU_ID = dv.DICHVU_ID and VP.REF_ID = dv.DVYEUCAU_ID        left join TT_NOITRU_BENHAN (NOLOCK) BA on BA.TIEPNHAN_ID = tn.TIEPNHAN_ID AND dv.BENHAN_ID = BA.BENHAN_ID        inner join TM_GENDER GD on GD.ID = bn.GIOITINH        left join TT_NGOAITRU_KHAMBENH (NOLOCK) kbnt on kbnt.KHAMBENH_ID = dv.KHAMBENH_NGOAITRU_ID                 where        dv.DICHVU_ID IS NOT NULL        and tn.BENHVIEN_ID = 'HLU01'        and HUYYEUCAU = 0        and dv.NGAYHENCLS is NULL                       and dv.TRANGTHAI = 'CHUAKETQUA'           and           dv.NGAYYEUCAU >= '5/1/2019 12:00:00 AM'         and           dv.NGAYYEUCAU <= '8/19/2019 12:00:00 AM'         and           dv.NOITHUCHIEN_ID = 91         and           (Left(B.MANHOMDICHVU,4) = '0212' or B.MANHOMDICHVU = '0212')         and           (vp.DATHANHTOAN = '1'  or vp.DONGIA_DOANHTHU = '0' OR TN.SUDUNG_BHTN='1' OR TN.BAOLANH_VIENPHI='1'  OR tn.TRANGTHAI IN ('NOITRU','CAPCUU','NGOAITRU') or dv.HOPDONG_BENHNHAN_ID is not null or vp.BENHNHAN_PHAITHANHTOAN >= 0)         and           (CASE WHEN Left(B.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(B.MANHOMDICHVU,2) END) = '02'         and           tn.TRANGTHAI IN ('DATIEPNHAN','NOITRU','CAPCUU','NGOAITRU', 'HOANTHANH')                 ) data1) lst                    where          lst.ROWNUMBER between 1 and 20                 order by NGAYGIOYEUCAU asc]
2019-08-19 09:45:50,240 [1] DEBUG - Statement Id: [DAO00019_ThongTinBenhNhanDvYeuCau] PreparedStatement : [select distinct A.SOTIEPNHAN, A.TIEPNHAN_ID, A.DOITUONG_ID, A.TRANGTHAI,        A.LOAITHANHVIEN_ID, A.SUDUNG_BHTN, A.THE_ID, A.THANHVIEN_ID, A.VIP, A.NGUON_BENHNHAN_ID, A.BAOLANH_VIENPHI, A.NGAYMIENDONGCHITRA,        B.*,  C.DICHVU_ID, C.DVYEUCAU_ID, C.NOITHUCHIEN_ID, A.SOBHYT        from TT_TIEPNHAN A        inner join TT_DVYEUCAU C on C.TIEPNHAN_ID = A.TIEPNHAN_ID        inner join TT_BENHNHAN B on B.BENHNHAN_ID = A.BENHNHAN_ID and B.ACTIVE = '1'        where                    C.DVYEUCAU_ID = '105530'                 and A.BENHVIEN_ID = 'HLU01']
2019-08-19 09:45:50,392 [1] DEBUG - Statement Id: [DAO00066_GetBENHAN_TIEPNHAN] PreparedStatement : [select top 1 *        from TT_NOITRU_BENHAN        where TIEPNHAN_ID = '14650'  and BENHVIEN_ID = 'HLU01'        order by NGAYTAO desc]
2019-08-19 09:45:50,559 [1] DEBUG - Statement Id: [DAO00046_GETLISTDVYEUCAUINLISTDVID] PreparedStatement : [SELECT dvyc.*, clskqct.CLSKETQUA_ID, clskqct.DICHVU_ID as KETQUA_DICHVU_ID,        clskqct.CLSKETQUACHITIET_ID, clskqct.DONVITINH, clskqct.KETQUA, clskqct.KETQUA2,        clskqct.MUCBINHTHUONG, clskqct.MUCBINHTHUONGMIN, clskqct.MUCBINHTHUONGMAX, clskqct.BATTHUONG        FROM dbo.TT_CLSKETQUACHITIET as clskqct RIGHT OUTER JOIN        dbo.TT_DVYEUCAU as dvyc ON                 clskqct.DVYEUCAU_ID = dvyc.DVYEUCAU_ID        where dvyc.BENHVIEN_ID = 'HLU01'          and             exists (select DICHVU_ID from TM_DICHVU a join TM_NHOMDICHVU b on a.NHOMDICHVU_ID = b.NHOMDICHVU_ID            where dvyc.DICHVU_ID = DICHVU_ID and (left(MANHOMDICHVU,2) in ('0212') OR MANHOMDICHVU in ('0212')))           and             dvyc.TIEPNHAN_ID =  @param0                    order by DVYEUCAU_ID]
2019-08-19 09:45:50,559 [1] DEBUG - Statement Id: [DAO00046_GETLISTDVYEUCAUINLISTDVID] Parameters: [@param0=[TIEPNHAN_ID,14650]]
2019-08-19 09:45:50,559 [1] DEBUG - Statement Id: [DAO00046_GETLISTDVYEUCAUINLISTDVID] Types: [@param0=[Int64, System.Int64]]
2019-08-19 09:45:50,644 [1] DEBUG - Statement Id: [DAO00066_GetBENHAN_TIEPNHAN] PreparedStatement : [select top 1 *        from TT_NOITRU_BENHAN        where TIEPNHAN_ID = '14650'  and BENHVIEN_ID = 'HLU01'        order by NGAYTAO desc]
2019-08-19 09:45:50,742 [1] DEBUG - Statement Id: [DAO00009_TT_TIEPNHAN_GetProcess] PreparedStatement : [select PROCESS_ID from TT_TIEPNHAN where SOTIEPNHAN = 'TN190503.0000056']
2019-08-19 09:45:50,835 [1] DEBUG - Statement Id: [DAOWF004_laytrangthaiDV] PreparedStatement : [select top 1 A.CURR_STATE_CODE as STATE_CODE, isNull(C.SHORT_NAME,C.NAME) as TRANGTHAI, C.NAME as TRANGTHAI_CHITIET, C.STATUS_CODE, D.ISACTIVE as ACTIVE, E.STATUS_CODE  as OLD_STATUSCODE        from TT_REQUEST_SERVICE_DETAIL A                left join (select * from TT_REQUEST_SERVICE where PARA = '{"DICHVU_ID":"203","DVYEUCAU_ID":"105530"}') D on D.ID = A.REQUEST_SERVICE_ID        left join TM_STATE C on A.CURR_STATE_CODE = C.STATE_CODE and C.PROCESS_CODE = D.PROCESS_CODE        left join TM_STATE E on A.OLD_STATE_CODE = E.STATE_CODE and E.PROCESS_CODE = D.PROCESS_CODE        where        A.REQUEST_SERVICE_ID = (select top 1 ID from TT_REQUEST_SERVICE where PARA = '{"DICHVU_ID":"203","DVYEUCAU_ID":"105530"}' order by ID desc)        order by A.ID desc]
2019-08-19 09:45:51,021 [1] DEBUG - Statement Id: [DAO00037_GetSieuAmTimDoppler] PreparedStatement : [SELECT TT_CLSKETQUA.*,          SAT.CLSKETQUA_SAT_ID,            SAT.TTR_VACHLIENTHAT,          SAT.TTR_THATTRAI,          SAT.TTR_THANHSAU,          SAT.TTR_SF,          SAT.TTR_EF,          SAT.TTR_THATPHAI,          SAT.TTH_VACHLIENTHAT,          SAT.TTH_THATTRAI,          SAT.TTH_THANHSAU,          SAT.TTH_DONGMACHCHU,          SAT.TTH_NHITRAI,          SAT.TTH_TAPSE,          SAT.CHISO_KC_THATTRAI,          SAT.D_SITUS,          SAT.D_VITRITIM,          SAT.D_TM_TRENTRAI,          SAT.D_TM_TRENPHAI,          SAT.D_TM_DUOI,          SAT.D_TM_PHOI,          SAT.D_NHI,          SAT.D_VAN_2LA,          SAT.D_VAN_3LA,          SAT.D_VAN_LATRUOC,          SAT.D_THAT,          SAT.D_DMC_D2,          SAT.D_DMC_NGANG,          SAT.D_DMC_LEN,          SAT.D_DMC_EO,          SAT.D_DMP_VONG,          SAT.D_DMP_TRAI,          SAT.D_DMP_PHAI,          SAT.D_DMP_THAN,          SAT.D_MANGNGOAITIM,          SAT.DOP_V2LA_VMAX,          SAT.DOP_V2LA_HOVAN,          SAT.DOP_V2LA_HEPVAN,          SAT.DOP_V2LA_PGMAX,          SAT.DOP_V2LA_VC,          SAT.DOP_V2LA_EROA,          SAT.DOP_V2LA_DTVAN,          SAT.DOP_V2LA_PGMEAN,          SAT.DOP_V2LA_TILE_DH,          SAT.DOP_V2LA_E_A,          SAT.DOP_DMC_VMAX,          SAT.DOP_DMC_HOVAN,          SAT.DOP_DMC_HEPVAN,          SAT.DOP_DMC_PGMAX,          SAT.DOP_DMC_DFO,          SAT.DOP_DMC_VC,          SAT.DOP_DMC_DTVAN,          SAT.DOP_DMC_PGMEAN,          SAT.DOP_DMC_EDTD,          SAT.DOP_DMC_TILE_DH,          SAT.DOP_V3LA_VMAX_HO,          SAT.DOP_V3LA_HOVAN,          SAT.DOP_V3LA_VMAX,          SAT.DOP_V3LA_APLUC_PTT,          SAT.DOP_V3LA_VC,          SAT.DOP_V3LA_PGMAX,          SAT.DOP_V3LA_TILE_DH,          SAT.DOP_V3LA_PGMEAN,          SAT.DOP_DMP_VMAX,          SAT.DOP_DMP_HOVAN,          SAT.DOP_DMP_HEPVAN,          SAT.DOP_DMP_PGMAX,          SAT.DOP_DMP_VC,          SAT.DOP_DMP_TRUNGBINH,          SAT.DOP_DMP_PGMEAN,          SAT.DOP_DMP_TILE_DH,          SAT.DOP_DMP_TAMTRUONG,          SAT.NHANXET,          SAT.KETLUAN_SAT,          [CSC_NHIPTIM]          ,[CSC_NHITRAI]          ,[CSC_DMC]          ,[CSC_THATPHAI]          ,[CSC_DD]          ,[CSC_DS]          ,[CSC_VD]          ,[CSC_VS]          ,[CSC_D]          ,[CSC_EF]          ,[CSC_VLT_TTR]          ,[CSC_VLT_TTH]          ,[CSC_TSTT_TTR]          ,[CSC_TSTT_TTH]          ,[TM_VHL_TINHTRANG]          ,[TM_VHL_DANGDIDONG]          ,[TM_VHL_KC2BOVAN]          ,[TM_VHL_DOCTAMTRUONG]          ,[TM_VHL_DTDONGHO]          ,[TM_VDMC_TINHTRANG]          ,[TM_VDMC_BIENDO]          ,[TM_VDMC_DANGVANDONG]          ,[TM_VBL_TINHTRANG]          ,[TM_VDMP_TINHTRANG]          ,[TM_VDMP_DKGOC]          ,[TM_VDMP_APLUCUOCTINH]          ,[DOP_VHL_HOVAN]          ,[DOP_VHL_GRADIENT_MAX]          ,[DOP_VHL_GRADIENT_AVG]          ,[DOP_VHL_DIENTICH2D]          ,[DOP_VHL_DIENTICHPHT]          ,[DOP_VHL_HUYETKHOINT]          ,[DOP_VHL_E_VLT]          ,[DOP_VDMC_HOVAN]          ,[DOP_VDMC_GRADIENT_MAX]          ,[DOP_VDMC_GRADIENT_AVG]          ,[DOP_VBL_HOVAN]          ,[DOP_VBL_GRADIENT_MAX]          ,[DOP_VDMP_HOVAN]          ,[DOP_VDMP_GRADIENT_MAX]          ,[DOP_VDMP_CUOITT]          ,[DOP_VDMP_TB]            FROM TT_CLSKETQUA          LEFT JOIN TT_CLSKETQUA_SAT SAT ON TT_CLSKETQUA.CLSKETQUA_ID = SAT.CLSKETQUA_ID           where                             TT_CLSKETQUA.DVYEUCAU_ID = '105530'                       and                           TT_CLSKETQUA.BENHVIEN_ID = 'HLU01'                                     order by CLSKETQUA_ID]
2019-08-19 09:45:51,142 [1] DEBUG - Statement Id: [DAO00020_GetDetailP] PreparedStatement : [select *        from TT_DVYEUCAU        where TT_DVYEUCAU.DVYEUCAU_ID  = 105530        order by DVYEUCAU_ID]
2019-08-19 09:45:51,245 [1] DEBUG - Statement Id: [DAO00017_GetNameByID] PreparedStatement : [select TENPHONGBAN              from [TM_PHONGBAN]              where PHONGBAN_ID = '59' and BENHVIEN_ID = 'HLU01']
2019-08-19 09:45:51,370 [1] DEBUG - Statement Id: [DAO00041_GetNameByID] PreparedStatement : [select TENDICHVU              from TM_DICHVU              where DICHVU_ID = '203']
2019-08-19 09:45:51,577 [1] DEBUG - Statement Id: [DAO00042_GetList] PreparedStatement : [select *              from TM_TUDIENKETQUA              where BENHVIEN_ID = 'HLU01'                and                       TM_TUDIENKETQUA.DICHVU_ID = '203'                    and                       (TM_TUDIENKETQUA.NGUOITAO_ID = '1' OR TM_TUDIENKETQUA.SUDUNGCHUNG = '1')                                 order by TM_TUDIENKETQUA.TENNOIDUNG]
2019-08-19 09:45:51,616 [1] DEBUG - Statement Id: [DAO00066_GetBENHAN_TIEPNHAN] PreparedStatement : [select top 1 *        from TT_NOITRU_BENHAN        where TIEPNHAN_ID = '14650'  and BENHVIEN_ID = 'HLU01'        order by NGAYTAO desc]
2019-08-19 09:45:51,940 [1] DEBUG - Statement Id: [DAO00037_GetSieuAmTimDoppler] PreparedStatement : [SELECT TT_CLSKETQUA.*,          SAT.CLSKETQUA_SAT_ID,            SAT.TTR_VACHLIENTHAT,          SAT.TTR_THATTRAI,          SAT.TTR_THANHSAU,          SAT.TTR_SF,          SAT.TTR_EF,          SAT.TTR_THATPHAI,          SAT.TTH_VACHLIENTHAT,          SAT.TTH_THATTRAI,          SAT.TTH_THANHSAU,          SAT.TTH_DONGMACHCHU,          SAT.TTH_NHITRAI,          SAT.TTH_TAPSE,          SAT.CHISO_KC_THATTRAI,          SAT.D_SITUS,          SAT.D_VITRITIM,          SAT.D_TM_TRENTRAI,          SAT.D_TM_TRENPHAI,          SAT.D_TM_DUOI,          SAT.D_TM_PHOI,          SAT.D_NHI,          SAT.D_VAN_2LA,          SAT.D_VAN_3LA,          SAT.D_VAN_LATRUOC,          SAT.D_THAT,          SAT.D_DMC_D2,          SAT.D_DMC_NGANG,          SAT.D_DMC_LEN,          SAT.D_DMC_EO,          SAT.D_DMP_VONG,          SAT.D_DMP_TRAI,          SAT.D_DMP_PHAI,          SAT.D_DMP_THAN,          SAT.D_MANGNGOAITIM,          SAT.DOP_V2LA_VMAX,          SAT.DOP_V2LA_HOVAN,          SAT.DOP_V2LA_HEPVAN,          SAT.DOP_V2LA_PGMAX,          SAT.DOP_V2LA_VC,          SAT.DOP_V2LA_EROA,          SAT.DOP_V2LA_DTVAN,          SAT.DOP_V2LA_PGMEAN,          SAT.DOP_V2LA_TILE_DH,          SAT.DOP_V2LA_E_A,          SAT.DOP_DMC_VMAX,          SAT.DOP_DMC_HOVAN,          SAT.DOP_DMC_HEPVAN,          SAT.DOP_DMC_PGMAX,          SAT.DOP_DMC_DFO,          SAT.DOP_DMC_VC,          SAT.DOP_DMC_DTVAN,          SAT.DOP_DMC_PGMEAN,          SAT.DOP_DMC_EDTD,          SAT.DOP_DMC_TILE_DH,          SAT.DOP_V3LA_VMAX_HO,          SAT.DOP_V3LA_HOVAN,          SAT.DOP_V3LA_VMAX,          SAT.DOP_V3LA_APLUC_PTT,          SAT.DOP_V3LA_VC,          SAT.DOP_V3LA_PGMAX,          SAT.DOP_V3LA_TILE_DH,          SAT.DOP_V3LA_PGMEAN,          SAT.DOP_DMP_VMAX,          SAT.DOP_DMP_HOVAN,          SAT.DOP_DMP_HEPVAN,          SAT.DOP_DMP_PGMAX,          SAT.DOP_DMP_VC,          SAT.DOP_DMP_TRUNGBINH,          SAT.DOP_DMP_PGMEAN,          SAT.DOP_DMP_TILE_DH,          SAT.DOP_DMP_TAMTRUONG,          SAT.NHANXET,          SAT.KETLUAN_SAT,          [CSC_NHIPTIM]          ,[CSC_NHITRAI]          ,[CSC_DMC]          ,[CSC_THATPHAI]          ,[CSC_DD]          ,[CSC_DS]          ,[CSC_VD]          ,[CSC_VS]          ,[CSC_D]          ,[CSC_EF]          ,[CSC_VLT_TTR]          ,[CSC_VLT_TTH]          ,[CSC_TSTT_TTR]          ,[CSC_TSTT_TTH]          ,[TM_VHL_TINHTRANG]          ,[TM_VHL_DANGDIDONG]          ,[TM_VHL_KC2BOVAN]          ,[TM_VHL_DOCTAMTRUONG]          ,[TM_VHL_DTDONGHO]          ,[TM_VDMC_TINHTRANG]          ,[TM_VDMC_BIENDO]          ,[TM_VDMC_DANGVANDONG]          ,[TM_VBL_TINHTRANG]          ,[TM_VDMP_TINHTRANG]          ,[TM_VDMP_DKGOC]          ,[TM_VDMP_APLUCUOCTINH]          ,[DOP_VHL_HOVAN]          ,[DOP_VHL_GRADIENT_MAX]          ,[DOP_VHL_GRADIENT_AVG]          ,[DOP_VHL_DIENTICH2D]          ,[DOP_VHL_DIENTICHPHT]          ,[DOP_VHL_HUYETKHOINT]          ,[DOP_VHL_E_VLT]          ,[DOP_VDMC_HOVAN]          ,[DOP_VDMC_GRADIENT_MAX]          ,[DOP_VDMC_GRADIENT_AVG]          ,[DOP_VBL_HOVAN]          ,[DOP_VBL_GRADIENT_MAX]          ,[DOP_VDMP_HOVAN]          ,[DOP_VDMP_GRADIENT_MAX]          ,[DOP_VDMP_CUOITT]          ,[DOP_VDMP_TB]            FROM TT_CLSKETQUA          LEFT JOIN TT_CLSKETQUA_SAT SAT ON TT_CLSKETQUA.CLSKETQUA_ID = SAT.CLSKETQUA_ID           where                             TT_CLSKETQUA.DVYEUCAU_ID = '105530'                       and                           TT_CLSKETQUA.BENHVIEN_ID = 'HLU01'                                     order by CLSKETQUA_ID]
2019-08-19 09:45:52,088 [1] DEBUG - Statement Id: [DAO00020_GetDetailP] PreparedStatement : [select *        from TT_DVYEUCAU        where TT_DVYEUCAU.DVYEUCAU_ID  = 105530        order by DVYEUCAU_ID]
2019-08-19 09:45:52,170 [1] DEBUG - Statement Id: [DAO00017_GetNameByID] PreparedStatement : [select TENPHONGBAN              from [TM_PHONGBAN]              where PHONGBAN_ID = '59' and BENHVIEN_ID = 'HLU01']
2019-08-19 09:45:52,253 [1] DEBUG - Statement Id: [DAO00041_GetNameByID] PreparedStatement : [select TENDICHVU              from TM_DICHVU              where DICHVU_ID = '203']
2019-08-19 09:45:52,368 [1] DEBUG - Statement Id: [DAO00042_GetList] PreparedStatement : [select *              from TM_TUDIENKETQUA              where BENHVIEN_ID = 'HLU01'                and                       TM_TUDIENKETQUA.DICHVU_ID = '203'                    and                       (TM_TUDIENKETQUA.NGUOITAO_ID = '1' OR TM_TUDIENKETQUA.SUDUNGCHUNG = '1')                                 order by TM_TUDIENKETQUA.TENNOIDUNG]
2019-08-19 09:45:52,400 [1] DEBUG - Statement Id: [DAO00066_GetBENHAN_TIEPNHAN] PreparedStatement : [select top 1 *        from TT_NOITRU_BENHAN        where TIEPNHAN_ID = '14650'  and BENHVIEN_ID = 'HLU01'        order by NGAYTAO desc]
2019-08-19 09:46:13,724 [1] DEBUG - Statement Id: [DAO00019_DanhSachCDHA] PreparedStatement : [declare @TenBenhVien nvarchar(500)        set @TenBenhVien = (select VALUE from TM_SYS_APPSETTINGS where CODE = 'APP_BENHVIEN_TEN')        select * from(        select ROW_NUMBER() OVER(order by NGAYGIOYEUCAU) as ROWNUMBER, *        from        (SELECT distinct        COUNT(*) OVER() as TOTALROWS,        N'Mã người bệnh: ' + bn.MAYTE + ' - ' + N'Tên người bệnh: ' + bn.TENBENHNHAN + ' - ' + N'Số bệnh án: ' + ISNULL(BA.SOBENHAN,'') + ' - ' + N'Sinh ngày: ' + isnull(Convert(varchar(10),bn.NGAYSINH,103),bn.NAMSINH) + ' - ' + N'Giới tính: ' + GD.DESCRIPTION as GROUPNAME,        bn.MAYTE, bn.TENBENHNHAN, bn.NAMSINH, bn.NGAYSINH as TUOI, ISNULL(CONVERT(VARCHAR(10), bn.NGAYSINH, 103),CAST(bn.NAMSINH AS varchar)) as NGAYSINH, bn.DIACHILIENLAC as DIACHI, bn.GIOITINH, GD.DESCRIPTION as TENGIOITINH,        tn.DOITUONG_ID, tn.THOIGIANTIEPNHAN, tn.BENHNHAN_ID, tn.TIEPNHAN_ID, tn.TRAITUYEN, tn.SOTIEPNHAN,        dv.DICHVU_ID, dv.NOITHUCHIEN_ID, isnull(dv.NGAYTAO, dv.NGAYCAPNHAT) as THOIGIANDKDICHVU,        dv.KHAN, dv.NOIYEUCAU_ID, dv.NGAYGIOYEUCAU, dv.BACSICHIDINH_ID, dv.DONVIGIOITHIEU_ID, dv.NGUOIGIOITHIEU_ID, dv.TRANGTHAI_WFL,        tn.NOIGIOITHIEU_ID, kbnt.HUONGGIAIQUYET_ID,        dv.DVYEUCAU_ID, dv.MARIS, dv.TRANGTHAI as TRANGTHAICODE, B.TENNHOMDICHVU, dv.SOPHIEUYEUCAU, dv.KHAMBENH_NGOAITRU_ID, dv.NGUOICAPNHAT_ID, dv.NGAYCAPNHAT,        CASE WHEN Left(B.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(B.MANHOMDICHVU,2) END AS MANHOMDICHVU, B.MANHOMDICHVU as MANHOMDICHVUCHITIET, tn.TRANGTHAI as TRANGTHAI_TIEPNHAN,        'False' as DAKHAM,        vp.DATHANHTOAN, vp.DONGIA_DOANHTHU, BA.SOBENHAN, dv.CHANDOAN        , a.TENDICHVU, nth.TENPHONGBAN as TENPHONGKHAM, nyc.TENPHONGBAN as TENKHOACHIDINH        , case when (dv.DONVIGIOITHIEU_ID is not null and dv.DONVIGIOITHIEU_ID != '') then ngt.TENBENHVIEN else @TenBenhVien end as TENBENHVIENCHIDINH        , case when (dv.BACSICHIDINH_ID is not null and dv.BACSICHIDINH_ID != '') then bscd.TENNHANVIEN else ngtt.TENNHANVIEN end as TENBACSICHIDINH          ,             0 as GUINGOAI, 0 as VTYT, 0 as CLSKETQUA_ID                   FROM TT_DVYEUCAU (NOLOCK) dv        inner join TT_TIEPNHAN (NOLOCK) tn on dv.TIEPNHAN_ID = tn.TIEPNHAN_ID        inner join TT_BENHNHAN (NOLOCK) bn on tn.BENHNHAN_ID = bn.BENHNHAN_ID        inner join TM_DICHVU A on A.DICHVU_ID = dv.DICHVU_ID        inner join TM_PHONGBAN nth on nth.PHONGBAN_ID = dv.NOITHUCHIEN_ID        left join TM_BENHVIEN ngt on ngt.BENHVIEN_STT_ID = dv.DONVIGIOITHIEU_ID        left join TM_NHANVIEN bscd on bscd.NHANVIEN_ID = dv.BACSICHIDINH_ID        left join TM_NHANVIEN ngtt on ngtt.NHANVIEN_ID = dv.NGUOIGIOITHIEU_ID        inner join TM_PHONGBAN nyc on nyc.PHONGBAN_ID = dv.NOIYEUCAU_ID        inner join TM_NHOMDICHVU B on B.NHOMDICHVU_ID = A.NHOMDICHVU_ID        inner join TT_VIENPHI (NOLOCK) VP on VP.TIEPNHAN_ID = tn.TIEPNHAN_ID and VP.DICHVU_ID = dv.DICHVU_ID and VP.REF_ID = dv.DVYEUCAU_ID        left join TT_NOITRU_BENHAN (NOLOCK) BA on BA.TIEPNHAN_ID = tn.TIEPNHAN_ID AND dv.BENHAN_ID = BA.BENHAN_ID        inner join TM_GENDER GD on GD.ID = bn.GIOITINH        left join TT_NGOAITRU_KHAMBENH (NOLOCK) kbnt on kbnt.KHAMBENH_ID = dv.KHAMBENH_NGOAITRU_ID                 where        dv.DICHVU_ID IS NOT NULL        and tn.BENHVIEN_ID = 'HLU01'        and HUYYEUCAU = 0        and dv.NGAYHENCLS is NULL                       and dv.TRANGTHAI = 'CHUAKETQUA'           and           dv.NGAYYEUCAU >= '5/1/2019 12:00:00 AM'         and           dv.NGAYYEUCAU <= '8/19/2019 12:00:00 AM'         and           dv.NOITHUCHIEN_ID = 91         and           (vp.DATHANHTOAN = '1'  or vp.DONGIA_DOANHTHU = '0' OR TN.SUDUNG_BHTN='1' OR TN.BAOLANH_VIENPHI='1'  OR tn.TRANGTHAI IN ('NOITRU','CAPCUU','NGOAITRU') or dv.HOPDONG_BENHNHAN_ID is not null or vp.BENHNHAN_PHAITHANHTOAN >= 0)         and           (CASE WHEN Left(B.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(B.MANHOMDICHVU,2) END) = '02'         and           tn.TRANGTHAI IN ('DATIEPNHAN','NOITRU','CAPCUU','NGOAITRU', 'HOANTHANH')                 ) data1) lst                    where          lst.ROWNUMBER between 1 and 20                 order by NGAYGIOYEUCAU asc]
2019-08-19 09:46:25,164 [1] DEBUG - Statement Id: [DAO00019_ThongTinBenhNhanDvYeuCau] PreparedStatement : [select distinct A.SOTIEPNHAN, A.TIEPNHAN_ID, A.DOITUONG_ID, A.TRANGTHAI,        A.LOAITHANHVIEN_ID, A.SUDUNG_BHTN, A.THE_ID, A.THANHVIEN_ID, A.VIP, A.NGUON_BENHNHAN_ID, A.BAOLANH_VIENPHI, A.NGAYMIENDONGCHITRA,        B.*,  C.DICHVU_ID, C.DVYEUCAU_ID, C.NOITHUCHIEN_ID, A.SOBHYT        from TT_TIEPNHAN A        inner join TT_DVYEUCAU C on C.TIEPNHAN_ID = A.TIEPNHAN_ID        inner join TT_BENHNHAN B on B.BENHNHAN_ID = A.BENHNHAN_ID and B.ACTIVE = '1'        where                    C.DVYEUCAU_ID = '114718'                 and A.BENHVIEN_ID = 'HLU01']
2019-08-19 09:46:25,298 [1] DEBUG - Statement Id: [DAO00066_GetBENHAN_TIEPNHAN] PreparedStatement : [select top 1 *        from TT_NOITRU_BENHAN        where TIEPNHAN_ID = '15804'  and BENHVIEN_ID = 'HLU01'        order by NGAYTAO desc]
2019-08-19 09:46:25,420 [1] DEBUG - Statement Id: [DAO00046_GETLISTDVYEUCAUINLISTDVID] PreparedStatement : [SELECT dvyc.*, clskqct.CLSKETQUA_ID, clskqct.DICHVU_ID as KETQUA_DICHVU_ID,        clskqct.CLSKETQUACHITIET_ID, clskqct.DONVITINH, clskqct.KETQUA, clskqct.KETQUA2,        clskqct.MUCBINHTHUONG, clskqct.MUCBINHTHUONGMIN, clskqct.MUCBINHTHUONGMAX, clskqct.BATTHUONG        FROM dbo.TT_CLSKETQUACHITIET as clskqct RIGHT OUTER JOIN        dbo.TT_DVYEUCAU as dvyc ON                 clskqct.DVYEUCAU_ID = dvyc.DVYEUCAU_ID        where dvyc.BENHVIEN_ID = 'HLU01'          and             exists (select DICHVU_ID from TM_DICHVU a join TM_NHOMDICHVU b on a.NHOMDICHVU_ID = b.NHOMDICHVU_ID            where dvyc.DICHVU_ID = DICHVU_ID and (left(MANHOMDICHVU,2) in ('02', '03') OR MANHOMDICHVU in ('02', '03')))           and             dvyc.TIEPNHAN_ID =  @param0                    order by DVYEUCAU_ID]
2019-08-19 09:46:25,420 [1] DEBUG - Statement Id: [DAO00046_GETLISTDVYEUCAUINLISTDVID] Parameters: [@param0=[TIEPNHAN_ID,15804]]
2019-08-19 09:46:25,420 [1] DEBUG - Statement Id: [DAO00046_GETLISTDVYEUCAUINLISTDVID] Types: [@param0=[Int64, System.Int64]]
2019-08-19 09:46:25,512 [1] DEBUG - Statement Id: [DAO00066_GetBENHAN_TIEPNHAN] PreparedStatement : [select top 1 *        from TT_NOITRU_BENHAN        where TIEPNHAN_ID = '15804'  and BENHVIEN_ID = 'HLU01'        order by NGAYTAO desc]
2019-08-19 09:46:25,646 [1] DEBUG - Statement Id: [DAO00009_TT_TIEPNHAN_GetProcess] PreparedStatement : [select PROCESS_ID from TT_TIEPNHAN where SOTIEPNHAN = 'TN190506.0000095']
2019-08-19 09:46:25,743 [1] DEBUG - Statement Id: [DAOWF004_laytrangthaiDV] PreparedStatement : [select top 1 A.CURR_STATE_CODE as STATE_CODE, isNull(C.SHORT_NAME,C.NAME) as TRANGTHAI, C.NAME as TRANGTHAI_CHITIET, C.STATUS_CODE, D.ISACTIVE as ACTIVE, E.STATUS_CODE  as OLD_STATUSCODE        from TT_REQUEST_SERVICE_DETAIL A                left join (select * from TT_REQUEST_SERVICE where PARA = '{"DICHVU_ID":"366","DVYEUCAU_ID":"114718"}') D on D.ID = A.REQUEST_SERVICE_ID        left join TM_STATE C on A.CURR_STATE_CODE = C.STATE_CODE and C.PROCESS_CODE = D.PROCESS_CODE        left join TM_STATE E on A.OLD_STATE_CODE = E.STATE_CODE and E.PROCESS_CODE = D.PROCESS_CODE        where        A.REQUEST_SERVICE_ID = (select top 1 ID from TT_REQUEST_SERVICE where PARA = '{"DICHVU_ID":"366","DVYEUCAU_ID":"114718"}' order by ID desc)        order by A.ID desc]
2019-08-19 09:46:25,894 [1] DEBUG - Statement Id: [DAO00116_GetListThietBiCLS] PreparedStatement : [SELECT THIETBI_ID, MATHIETBI, TENTHIETBI, NHOMTHIETBI_ID          FROM TM_THIETBI MP          where          TAMNGUNG = '0'          and BENHVIEN_ID = 'HLU01'           AND             PHONGBAN_ID = 91                     order by TENTHIETBI]
2019-08-19 09:46:25,943 [1] DEBUG - Statement Id: [DAO00037_GetCLSKetQua] PreparedStatement : [select *              from TT_CLSKETQUA               where                             TT_CLSKETQUA.DVYEUCAU_ID = '114718'                       and                           TT_CLSKETQUA.BENHVIEN_ID = 'HLU01'                                     order by CLSKETQUA_ID]
2019-08-19 09:46:26,040 [1] DEBUG - Statement Id: [DAO00020_GetDetailP] PreparedStatement : [select *        from TT_DVYEUCAU        where TT_DVYEUCAU.DVYEUCAU_ID  = 114718        order by DVYEUCAU_ID]
2019-08-19 09:46:26,127 [1] DEBUG - Statement Id: [DAO00017_GetNameByID] PreparedStatement : [select TENPHONGBAN              from [TM_PHONGBAN]              where PHONGBAN_ID = '70' and BENHVIEN_ID = 'HLU01']
2019-08-19 09:46:26,217 [1] DEBUG - Statement Id: [DAO00041_GetNameByID] PreparedStatement : [select TENDICHVU              from TM_DICHVU              where DICHVU_ID = '366']
2019-08-19 09:46:26,350 [1] DEBUG - Statement Id: [DAO00042_GetList] PreparedStatement : [select *              from TM_TUDIENKETQUA              where BENHVIEN_ID = 'HLU01'                and                       TM_TUDIENKETQUA.DICHVU_ID = '366'                    and                       (TM_TUDIENKETQUA.NGUOITAO_ID = '1' OR TM_TUDIENKETQUA.SUDUNGCHUNG = '1')                                 order by TM_TUDIENKETQUA.TENNOIDUNG]
2019-08-19 09:46:26,615 [1] DEBUG - Statement Id: [DAO00066_GetBENHAN_TIEPNHAN] PreparedStatement : [select top 1 *        from TT_NOITRU_BENHAN        where TIEPNHAN_ID = '15804'  and BENHVIEN_ID = 'HLU01'        order by NGAYTAO desc]
2019-08-19 09:46:26,900 [1] DEBUG - Statement Id: [DAO00037_GetCLSKetQua] PreparedStatement : [select *              from TT_CLSKETQUA               where                             TT_CLSKETQUA.DVYEUCAU_ID = '114718'                       and                           TT_CLSKETQUA.BENHVIEN_ID = 'HLU01'                                     order by CLSKETQUA_ID]
2019-08-19 09:46:26,983 [1] DEBUG - Statement Id: [DAO00020_GetDetailP] PreparedStatement : [select *        from TT_DVYEUCAU        where TT_DVYEUCAU.DVYEUCAU_ID  = 114718        order by DVYEUCAU_ID]
2019-08-19 09:46:27,063 [1] DEBUG - Statement Id: [DAO00017_GetNameByID] PreparedStatement : [select TENPHONGBAN              from [TM_PHONGBAN]              where PHONGBAN_ID = '70' and BENHVIEN_ID = 'HLU01']
2019-08-19 09:46:27,148 [1] DEBUG - Statement Id: [DAO00041_GetNameByID] PreparedStatement : [select TENDICHVU              from TM_DICHVU              where DICHVU_ID = '366']
2019-08-19 09:46:27,242 [1] DEBUG - Statement Id: [DAO00042_GetList] PreparedStatement : [select *              from TM_TUDIENKETQUA              where BENHVIEN_ID = 'HLU01'                and                       TM_TUDIENKETQUA.DICHVU_ID = '366'                    and                       (TM_TUDIENKETQUA.NGUOITAO_ID = '1' OR TM_TUDIENKETQUA.SUDUNGCHUNG = '1')                                 order by TM_TUDIENKETQUA.TENNOIDUNG]
2019-08-19 09:46:27,299 [1] DEBUG - Statement Id: [DAO00066_GetBENHAN_TIEPNHAN] PreparedStatement : [select top 1 *        from TT_NOITRU_BENHAN        where TIEPNHAN_ID = '15804'  and BENHVIEN_ID = 'HLU01'        order by NGAYTAO desc]
2019-08-19 09:46:49,395 [1] DEBUG - Statement Id: [DAO00042_GetDetailP] PreparedStatement : [select *              from TM_TUDIENKETQUA              where TM_TUDIENKETQUA.TUDIENKETQUA_ID  = '289'                             order by TUDIENKETQUA_ID]
2019-08-19 09:48:30,155 [1] DEBUG - Statement Id: [DAO00066_GetBENHAN_TIEPNHAN] PreparedStatement : [select top 1 *        from TT_NOITRU_BENHAN        where TIEPNHAN_ID = '15804'  and BENHVIEN_ID = 'HLU01'        order by NGAYTAO desc]
2019-08-19 09:48:30,255 [1] DEBUG - Statement Id: [DAO00014_GetPatientStatus] PreparedStatement : [select        CASE        when tn.TRANGTHAI = 'HOANTHANH' Then tn.TRANGTHAI        WHEN xncp.XACNHANCHIPHI_ID is not null THEN 'XACNHANCHIPHI'        WHEN (tn.KHOADULIEU = '1') THEN 'KHOADULIEU'        ELSE tn.TRANGTHAI        END        as TRANGTHAI        from TT_TIEPNHAN tn        left join TT_XACNHANCHIPHI xncp on tn.TIEPNHAN_ID = xncp.TIEPNHAN_ID        where tn.TIEPNHAN_ID = '15804'        and tn.BENHVIEN_ID = 'HLU01']
2019-08-19 09:48:30,343 [1] DEBUG - Statement Id: [DAO00019_CheckStatusDichVu] PreparedStatement : [select * from TT_DVYEUCAU where DVYEUCAU_ID = '114718' and TIEPNHAN_ID = '15804']
2019-08-19 09:48:30,458 [1] DEBUG - Statement Id: [DAO00037_KiemTraTrangThaiYeuCau] PreparedStatement : [IF EXISTS (          select DVYEUCAU_ID          from TT_DVYEUCAU          where DVYEUCAU_ID = 114718          and BENHVIEN_ID = 'HLU01'          and HUYYEUCAU = 0          )          BEGIN          SELECT -1 AS RESULT          END          ELSE          BEGIN          SELECT 1 AS RESULT          END]
2019-08-19 09:48:30,615 [1] DEBUG - Statement Id: [DAO00020_KiemTraMaRIS] PreparedStatement : [select * from LST_KEYDATA        where KEYTYPE = 'RISID'        and KEYYEAR = '2019'        and KEYMONTH = '8'        and KEYDAY = '19'        and SEGMENT_1 = 'UG'        and KEYVALUE >= '']
2019-08-19 09:48:30,714 [1] DEBUG - Statement Id: [DAO00020_CapNhatMaRIS] PreparedStatement : [update LST_KEYDATA        set KEYVALUE = ''        where KEYTYPE = 'RISID'        and KEYYEAR = '2019'        and KEYMONTH = '8'        and KEYDAY = '19'        and SEGMENT_1 = 'UG']
2019-08-19 09:48:30,753 [1] DEBUG - Statement Id: [DAO00020_CapMaRIS] PreparedStatement : [update TT_DVYEUCAU set        MARIS =  @param0         , NGUOICAPNHAT_ID =  @param1         , NGAYCAPNHAT =  @param2         where        DVYEUCAU_ID = 114718]
2019-08-19 09:48:30,754 [1] DEBUG - Statement Id: [DAO00020_CapMaRIS] Parameters: [@param0=[MARIS,], @param1=[NGUOICAPNHAT_ID,1], @param2=[NGAYCAPNHAT,8/19/2019 9:48:30 AM]]
2019-08-19 09:48:30,754 [1] DEBUG - Statement Id: [DAO00020_CapMaRIS] Types: [@param0=[String, System.String], @param1=[Int64, System.Int64], @param2=[DateTime, System.DateTime]]
2019-08-19 09:48:30,786 [1] DEBUG - Statement Id: [DAO00037_Add] PreparedStatement : [insert into TT_CLSKETQUA (              SOPHIEUXETNGHIEM              , TIEPNHAN_ID              , BENHAN_ID              , LUUTRU_ID                             , DVYEUCAU_ID              , DICHVU_ID              , NHOMDICHVU_ID              , NGAYTHUCHIEN              , THOIGIANTHUCHIEN              , NGAYGIOTHUCHIEN              , GIOTHUCHIEN              , NAMTHUCHIEN              , THANGTHUCHIEN              , NOITHUCHIEN_ID              , BACSICHIDINH_ID              , BACSICHIDINH              , NGAYCHIDINH              , BACSITHUCHIEN_ID              , BACSIKETLUAN_ID              , BACSIGMHS_ID              , DIEUDUONG_ID              , KYTHUATVIEN01_ID              , KYTHUATVIEN02_ID              , CHANDOANLAMSANG              , DENGHI              , SINHTHIET              , CLOTEST              , PHOTO              , VIDEO              , TIEMCANQUANG              , PHANLOAIKETQUA_ID              , THUCHIENBENNGOAI              , BENHVIENTHUCHIEN_ID              , TENBACSIBENNGOAI              , KHOABENNGOAI_ID              , GUINGOAI              , NOIGUIDEN_ID              , ICD_ID1              , ICD_ID2              , ICD_ID3              , DIUNGTHUOC              , TIENME              , DACBIET              , KQCUOICUNG              , THONGTINNHAN              , KETLUANKSK              , VUNGKHAOSAT              , MOTA              , MOTA_TEXT              , KETLUAN              , GHICHU              , MAPHIM              , GPB_AMSO              , GPB_PHANLOAIKETQUA_ID              , GPB_PHUONGPHAPLAYBENHPHAM_ID              , GPB_SOMAU              , GPB_SOLUONGMAU              , GPB_TOPO_ID              , GPB_TOPOREGIONS_ID              , GPB_MORPHO_ID              , GPB_ETIO_ID              , GPB_DAITHE              , GPB_VITHE              , GPB_NHUOM_HE              , GPB_NHUOM_PAS              , GPB_NHUOM_TRI              , GPB_NHUOM_AFB              , GPB_NHUOM_GIEMSA              , GPB_NHUOM_PAPANICOLAOU              , GPB_NHUOM_RETICULINE              , GPB_NHUOM_OTHER              , GPB_HOAMIENDICH              , GPB_HOAMIENDICHHUYNHQUANG              , GPB_HOICHAN              , GPB_MAUTHU              , GPB_NOILAYMAUTHU              , HLVIKHUAN1              , HLVIKHUAN2              , LOAIFILM_ID              , SOPHIMSUDUNG              , THIETBI_ID              , SOTHUOCSUDUNG              , KHOADULIEU              , NGAYKHOADULIEU              , THOIGIANKHOADULIEU              , NGUOIKHOA_ID              , MANGUOIKHOA              , TENNGUOIKHOA              , TRANGTHAI              , MACH              , HUYETAP              , NHIPTHO              , NHIETDO              , CHIEUCAO              , CANNANG              , BSA              , TINHTRANGDIENNAO              , SOVAOVIEN              , MAYTE              , TENBENHNHAN              , NAMSINH              , GIOITINH              , DIACHI              , NOICHIDINH_ID              , MAUTHU_ID              , THOIGIANNHAN              , MAU              , LOAITHUOCCANQUANG_ID              , MA              , IDHINH              , SOPHIMHU              , LOAIPHIMHU_ID              , DOSOI              , DOSOI_ID              , BANKINHSOI              , SODT              , KYTHUAT              , KYTHUAT_TEXT              , SOPHIMSUDUNG2              , LOAIFILM_ID2              , SOPHIMSUDUNG3              , LOAIFILM_ID3              , RESISTANCEMARKERS              , BENHVIEN_ID              , NGAYTAO              , NGUOITAO_ID              , NGAYCAPNHAT              , NGUOICAPNHAT_ID              , SOLUONGONG              , SOMLMAU              , THOIGIANLAYMAU              , THOIGIANNHANMAU              , THOIGIANCDBENHPHAM              , DUNGDICHCD_ID              , SOONGTHUCNHAN              , THUOCDADUNG              , NGAYGANMAY              , NGAYTHAOMAY              , LOAIMAUBENHPHAM              ) values (               @param0               ,  @param1               ,  @param2               ,  @param3                            ,  @param4             ,  @param5             ,  @param6             ,  @param7             ,  @param8             ,  @param9             ,  @param10             ,  @param11             ,  @param12             ,  @param13             ,  @param14             ,  @param15             ,  @param16             ,  @param17             ,  @param18             ,  @param19             ,  @param20             ,  @param21             ,  @param22             ,  @param23             ,  @param24             ,  @param25             ,  @param26             ,  @param27             ,  @param28             ,  @param29             ,  @param30             ,  @param31             ,  @param32             ,  @param33             ,  @param34             ,  @param35             ,  @param36             ,  @param37             ,  @param38             ,  @param39             ,  @param40             ,  @param41             ,  @param42             ,  @param43             ,  @param44             ,  @param45             ,  @param46             ,  @param47             ,  @param48             ,  @param49             ,  @param50             ,  @param51             ,  @param52             ,  @param53             ,  @param54             ,  @param55             ,  @param56             ,  @param57             ,  @param58             ,  @param59             ,  @param60             ,  @param61             ,  @param62             ,  @param63             ,  @param64             ,  @param65             ,  @param66             ,  @param67             ,  @param68             ,  @param69             ,  @param70             ,  @param71             ,  @param72             ,  @param73             ,  @param74             ,  @param75             ,  @param76             ,  @param77             ,  @param78             ,  @param79             ,  @param80             ,  @param81             ,  @param82             ,  @param83             ,  @param84             ,  @param85             ,  @param86             ,  @param87             ,  @param88             ,  @param89             ,  @param90             ,  @param91             ,  @param92             ,  @param93             ,  @param94             ,  @param95             ,  @param96             ,  @param97             ,  @param98             ,  @param99             ,  @param100             ,  @param101             ,  @param102             ,  @param103             ,  @param104             ,  @param105             ,  @param106             ,  @param107             ,  @param108             ,  @param109             ,  @param110             ,  @param111             ,  @param112             ,  @param113             ,  @param114             ,  @param115             ,  @param116             ,  @param117             ,  @param118             ,  @param119             ,  @param120             ,  @param121             ,  @param122             ,  @param123             ,  @param124             ,  @param125             ,  @param126             ,  @param127             ,  @param128             ,  @param129             ,  @param130             ,  @param131             ,  @param132             ,  @param133             ,  @param134             ,  @param135             ,  @param136             ,  @param137             ,  @param138             )            SELECT SCOPE_IDENTITY()]
2019-08-19 09:48:30,788 [1] DEBUG - Statement Id: [DAO00037_Add] Parameters: [@param0=[SOPHIEUXETNGHIEM,null], @param1=[TIEPNHAN_ID,15804], @param2=[BENHAN_ID,null], @param3=[LUUTRU_ID,null], @param4=[DVYEUCAU_ID,114718], @param5=[DICHVU_ID,366], @param6=[NHOMDICHVU_ID,19], @param7=[NGAYTHUCHIEN,8/19/2019 12:00:00 AM], @param8=[THOIGIANTHUCHIEN,8/19/2019 9:46:27 AM], @param9=[NGAYGIOTHUCHIEN,8/19/2019 9:46:27 AM], @param10=[GIOTHUCHIEN,0], @param11=[NAMTHUCHIEN,0], @param12=[THANGTHUCHIEN,0], @param13=[NOITHUCHIEN_ID,91], @param14=[BACSICHIDINH_ID,638], @param15=[BACSICHIDINH,Ngô Thị Dung], @param16=[NGAYCHIDINH,5/6/2019 7:43:45 AM], @param17=[BACSITHUCHIEN_ID,1], @param18=[BACSIKETLUAN_ID,33], @param19=[BACSIGMHS_ID,null], @param20=[DIEUDUONG_ID,null], @param21=[KYTHUATVIEN01_ID,null], @param22=[KYTHUATVIEN02_ID,null], @param23=[CHANDOANLAMSANG,đau vai gáy, đau lưng, đau ngón 1 bàn tay T], @param24=[DENGHI,null], @param25=[SINHTHIET,0], @param26=[CLOTEST,0], @param27=[PHOTO,0], @param28=[VIDEO,0], @param29=[TIEMCANQUANG,0], @param30=[PHANLOAIKETQUA_ID,null], @param31=[THUCHIENBENNGOAI,0], @param32=[BENHVIENTHUCHIEN_ID,null], @param33=[TENBACSIBENNGOAI,], @param34=[KHOABENNGOAI_ID,null], @param35=[GUINGOAI,0], @param36=[NOIGUIDEN_ID,null], @param37=[ICD_ID1,null], @param38=[ICD_ID2,null], @param39=[ICD_ID3,null], @param40=[DIUNGTHUOC,0], @param41=[TIENME,0], @param42=[DACBIET,0], @param43=[KQCUOICUNG,0], @param44=[THONGTINNHAN,null], @param45=[KETLUANKSK,null], @param46=[VUNGKHAOSAT,null], @param47=[MOTA,<body>
	<p style="text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><a name="_dx_frag_StartFragment"></a><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">Vận tốc của chất lỏng trong một ống dẫn tỷ lệ thuận với ch&ecirc;nh lệch &aacute;p lực giữa 2 đầu ống dẫn, khi sự ch&ecirc;nh lệch n&agrave;y c&agrave;ng lớn, tốc độ d&ograve;ng chảy c&agrave;ng cao. Giữa tốc độ v&agrave; độ ch&ecirc;nh &aacute;pc&oacute; mối li&ecirc;n hệ qua phương tr&igrave;nh động học chất lỏng Bernoulli. Để t&iacute;nh được sự ch&ecirc;nh lệch &aacute;p lực giữa hai điểm trong hệ thống tim mạch, ch&uacute;ng ta cũng c&oacute; thể sử dụng phương tr&igrave;nh n&agrave;y:&nbsp;</span></p><p style="text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt;background-color:#FFFFFF;"><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;"><img src="_files/image0.png" width="608" height="452" alt="" style="border-width:0px;" /></span></p><p style="text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt;background-color:#FFFFFF;"><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:10.5pt;font-weight:normal;font-style:normal;">&nbsp;</span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">v&agrave; V</span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;"><sub>1</sub></span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">&nbsp;l&agrave; những đại lượng nhỏ c&oacute; thể bỏ qua.&nbsp;</span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:10.5pt;font-weight:normal;font-style:normal;"><br/></span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">N&ecirc;n phương tr&igrave;nh Bernoulli c&oacute; thể viết gọn lại như sau:&nbsp;</span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:10.5pt;font-weight:normal;font-style:normal;"><br/></span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;"><i>Dr = 4V</i></span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;"><sup>2</sup></span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;"><sub>2</sub></span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:10.5pt;font-weight:normal;font-style:normal;"><br/></span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">Tuy vậy việc &aacute;p dụng phương tr&igrave;nh Bernoulli đơn giản v&agrave;o trong t&iacute;nh to&aacute;n &aacute;p lực của d&ograve;ng m&aacute;u, ch&uacute;ng ta cần phải ch&uacute; &yacute; đến g&oacute;c q (l&agrave; g&oacute;c giữa ch&ugrave;m tia si&ecirc;u &acirc;m v&agrave; v&eacute;c tơ của d&ograve;ng chảy). Khi g&oacute;c n&agrave;y c&agrave;ng lớn th&igrave; cos q cũng c&agrave;ng lớn v&agrave; mức độ sai lầm cũng c&agrave;ng cao. Ta c&oacute; thể t&iacute;nh to&aacute;n mức sai lầm dựa v&agrave;o g&oacute;c q theo bảng sau:&nbsp;</span></p><table border="0" cellspacing="0" cellpadding="0" style="border-collapse:collapse;">
		<tr>
			<td valign="top" width="95" style="width:71.25pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">G&oacute;c q</span></p></td><td valign="top" width="36" style="width:27pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">0</span></p></td><td valign="top" width="61" style="width:45.75pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">10</span></p></td><td valign="top" width="61" style="width:45.75pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">20</span></p></td><td valign="top" width="61" style="width:45.75pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">30</span></p></td><td valign="top" width="51" style="width:38.25pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">45</span></p></td><td valign="top" width="51" style="width:38.25pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">60</span></p></td></tr>
		<tr>
			<td valign="top" width="95" style="width:71.25pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">Cos q</span></p></td><td valign="top" width="36" style="width:27pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">1</span></p></td><td valign="top" width="61" style="width:45.75pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">0,98</span></p></td><td valign="top" width="61" style="width:45.75pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">0,93</span></p></td><td valign="top" width="61" style="width:45.75pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">0,88</span></p></td><td valign="top" width="51" style="width:38.25pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">0,7</span></p></td><td valign="top" width="51" style="width:38.25pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">0,5</span></p></td></tr>
		<tr>
			<td valign="top" width="95" style="width:71.25pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">% sai số</span></p></td><td valign="top" width="36" style="width:27pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">0</span></p></td><td valign="top" width="61" style="width:45.75pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">2</span></p></td><td valign="top" width="61" style="width:45.75pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">7</span></p></td><td valign="top" width="61" style="width:45.75pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">14</span></p></td><td valign="top" width="51" style="width:38.25pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">30</span></p></td><td valign="top" width="51" style="width:38.25pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">50</span></p></td></tr>
	</table>
	<p style="text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">Mặt kh&aacute;c trong phương tr&igrave;nh tr&ecirc;n ch&uacute;ng ta coi p bằng 8, đ&oacute; l&agrave; con số chung cho m&aacute;u của người b&igrave;nh thường v&agrave; n&oacute;i chung c&aacute;c bệnh &iacute;t l&agrave;m thay đổi độ nhớt của m&aacute;u. Nhưng điều n&agrave;y sẽ kh&aacute;c đi ở những bệnh nh&acirc;n c&oacute; thay đổi nhiều t&iacute;nh chất vật l&yacute; của m&aacute;u như: bệnh tăng hồng cầu, tăng protein trong m&aacute;u, hay Ngược lại thiếu m&aacute;u qu&aacute; nặng...&nbsp;</span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:10.5pt;font-weight:normal;font-style:normal;"><br/></span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">Tương tự như vậy những bệnh tim mạch c&oacute; cung lượng tim cao v&agrave; thấp cũng c&oacute; ảnh hưởng &iacute;t nhiều đến c&aacute;c chỉ số đo v&agrave; đ&aacute;nh gi&aacute; mức độ nặng của bệnh van tim. Vấn đề n&agrave;y sẽ tr&igrave;nh b&agrave;y trong phần c&aacute;c bệnh van tim. Trong một số trường hợp tắc nghẽn h&igrave;nh ống d&agrave;i như một số bệnh nh&acirc;n hẹp dới van v&agrave; tr&ecirc;n van động mạch chủ, th&ocirc;ng li&ecirc;n thất phần cơ... việc đo gradient cũng c&oacute; thể bị ảnh hưởng ở một mức độ nhất định...&nbsp;</span></p></body>
], @param48=[MOTA_TEXT,null], @param49=[KETLUAN,Hiện tại siêu âm khớp gối không thấy bất thường.], @param50=[GHICHU,null], @param51=[MAPHIM,null], @param52=[GPB_AMSO,null], @param53=[GPB_PHANLOAIKETQUA_ID,null], @param54=[GPB_PHUONGPHAPLAYBENHPHAM_ID,null], @param55=[GPB_SOMAU,null], @param56=[GPB_SOLUONGMAU,null], @param57=[GPB_TOPO_ID,null], @param58=[GPB_TOPOREGIONS_ID,null], @param59=[GPB_MORPHO_ID,null], @param60=[GPB_ETIO_ID,null], @param61=[GPB_DAITHE,null], @param62=[GPB_VITHE,null], @param63=[GPB_NHUOM_HE,0], @param64=[GPB_NHUOM_PAS,0], @param65=[GPB_NHUOM_TRI,0], @param66=[GPB_NHUOM_AFB,0], @param67=[GPB_NHUOM_GIEMSA,0], @param68=[GPB_NHUOM_PAPANICOLAOU,null], @param69=[GPB_NHUOM_RETICULINE,null], @param70=[GPB_NHUOM_OTHER,0], @param71=[GPB_HOAMIENDICH,0], @param72=[GPB_HOAMIENDICHHUYNHQUANG,0], @param73=[GPB_HOICHAN,0], @param74=[GPB_MAUTHU,null], @param75=[GPB_NOILAYMAUTHU,null], @param76=[HLVIKHUAN1,null], @param77=[HLVIKHUAN2,null], @param78=[LOAIFILM_ID,null], @param79=[SOPHIMSUDUNG,null], @param80=[THIETBI_ID,null], @param81=[SOTHUOCSUDUNG,null], @param82=[KHOADULIEU,0], @param83=[NGAYKHOADULIEU,null], @param84=[THOIGIANKHOADULIEU,null], @param85=[NGUOIKHOA_ID,null], @param86=[MANGUOIKHOA,null], @param87=[TENNGUOIKHOA,null], @param88=[TRANGTHAI,CHOXACNHAN], @param89=[MACH,null], @param90=[HUYETAP,null], @param91=[NHIPTHO,null], @param92=[NHIETDO,null], @param93=[CHIEUCAO,null], @param94=[CANNANG,null], @param95=[BSA,null], @param96=[TINHTRANGDIENNAO,null], @param97=[SOVAOVIEN,null], @param98=[MAYTE,null], @param99=[TENBENHNHAN,null], @param100=[NAMSINH,null], @param101=[GIOITINH,0], @param102=[DIACHI,null], @param103=[NOICHIDINH_ID,70], @param104=[MAUTHU_ID,null], @param105=[THOIGIANNHAN,null], @param106=[MAU,null], @param107=[LOAITHUOCCANQUANG_ID,null], @param108=[MA,null], @param109=[IDHINH,null], @param110=[SOPHIMHU,null], @param111=[LOAIPHIMHU_ID,null], @param112=[DOSOI,null], @param113=[DOSOI_ID,null], @param114=[BANKINHSOI,null], @param115=[SODT,null], @param116=[KYTHUAT,], @param117=[KYTHUAT_TEXT,null], @param118=[SOPHIMSUDUNG2,null], @param119=[LOAIFILM_ID2,null], @param120=[SOPHIMSUDUNG3,null], @param121=[LOAIFILM_ID3,null], @param122=[RESISTANCEMARKERS,null], @param123=[BENHVIEN_ID,HLU01], @param124=[NGAYTAO,8/19/2019 9:48:30 AM], @param125=[NGUOITAO_ID,1], @param126=[NGAYCAPNHAT,8/19/2019 9:48:30 AM], @param127=[NGUOICAPNHAT_ID,1], @param128=[SOLUONGONG,null], @param129=[SOMLMAU,null], @param130=[THOIGIANLAYMAU,null], @param131=[THOIGIANNHANMAU,null], @param132=[THOIGIANCDBENHPHAM,null], @param133=[DUNGDICHCD_ID,null], @param134=[SOONGTHUCNHAN,null], @param135=[THUOCDADUNG,null], @param136=[NGAYGANMAY,null], @param137=[NGAYTHAOMAY,null], @param138=[LOAIMAUBENHPHAM,null]]
2019-08-19 09:48:30,788 [1] DEBUG - Statement Id: [DAO00037_Add] Types: [@param0=[System.DBNull, null], @param1=[Int64, System.Int64], @param2=[System.DBNull, null], @param3=[System.DBNull, null], @param4=[Int64, System.Int64], @param5=[Int64, System.Int64], @param6=[Int64, System.Int64], @param7=[DateTime, System.DateTime], @param8=[DateTime, System.DateTime], @param9=[DateTime, System.DateTime], @param10=[Int64, System.Int64], @param11=[Int64, System.Int64], @param12=[Int64, System.Int64], @param13=[Int64, System.Int64], @param14=[Int64, System.Int64], @param15=[String, System.String], @param16=[DateTime, System.DateTime], @param17=[Int64, System.Int64], @param18=[Int64, System.Int64], @param19=[System.DBNull, null], @param20=[System.DBNull, null], @param21=[System.DBNull, null], @param22=[System.DBNull, null], @param23=[String, System.String], @param24=[System.DBNull, null], @param25=[String, System.String], @param26=[String, System.String], @param27=[String, System.String], @param28=[String, System.String], @param29=[String, System.String], @param30=[System.DBNull, null], @param31=[String, System.String], @param32=[System.DBNull, null], @param33=[String, System.String], @param34=[System.DBNull, null], @param35=[String, System.String], @param36=[System.DBNull, null], @param37=[System.DBNull, null], @param38=[System.DBNull, null], @param39=[System.DBNull, null], @param40=[String, System.String], @param41=[String, System.String], @param42=[String, System.String], @param43=[String, System.String], @param44=[System.DBNull, null], @param45=[System.DBNull, null], @param46=[System.DBNull, null], @param47=[String, System.String], @param48=[System.DBNull, null], @param49=[String, System.String], @param50=[System.DBNull, null], @param51=[System.DBNull, null], @param52=[System.DBNull, null], @param53=[System.DBNull, null], @param54=[System.DBNull, null], @param55=[System.DBNull, null], @param56=[System.DBNull, null], @param57=[System.DBNull, null], @param58=[System.DBNull, null], @param59=[System.DBNull, null], @param60=[System.DBNull, null], @param61=[System.DBNull, null], @param62=[System.DBNull, null], @param63=[String, System.String], @param64=[String, System.String], @param65=[String, System.String], @param66=[String, System.String], @param67=[String, System.String], @param68=[System.DBNull, null], @param69=[System.DBNull, null], @param70=[String, System.String], @param71=[String, System.String], @param72=[String, System.String], @param73=[String, System.String], @param74=[System.DBNull, null], @param75=[System.DBNull, null], @param76=[System.DBNull, null], @param77=[System.DBNull, null], @param78=[System.DBNull, null], @param79=[System.DBNull, null], @param80=[System.DBNull, null], @param81=[System.DBNull, null], @param82=[String, System.String], @param83=[System.DBNull, null], @param84=[System.DBNull, null], @param85=[System.DBNull, null], @param86=[System.DBNull, null], @param87=[System.DBNull, null], @param88=[String, System.String], @param89=[System.DBNull, null], @param90=[System.DBNull, null], @param91=[System.DBNull, null], @param92=[System.DBNull, null], @param93=[System.DBNull, null], @param94=[System.DBNull, null], @param95=[System.DBNull, null], @param96=[System.DBNull, null], @param97=[System.DBNull, null], @param98=[System.DBNull, null], @param99=[System.DBNull, null], @param100=[System.DBNull, null], @param101=[String, System.String], @param102=[System.DBNull, null], @param103=[Int64, System.Int64], @param104=[System.DBNull, null], @param105=[System.DBNull, null], @param106=[System.DBNull, null], @param107=[System.DBNull, null], @param108=[System.DBNull, null], @param109=[System.DBNull, null], @param110=[System.DBNull, null], @param111=[System.DBNull, null], @param112=[System.DBNull, null], @param113=[System.DBNull, null], @param114=[System.DBNull, null], @param115=[System.DBNull, null], @param116=[String, System.String], @param117=[System.DBNull, null], @param118=[System.DBNull, null], @param119=[System.DBNull, null], @param120=[System.DBNull, null], @param121=[System.DBNull, null], @param122=[System.DBNull, null], @param123=[String, System.String], @param124=[DateTime, System.DateTime], @param125=[Int64, System.Int64], @param126=[DateTime, System.DateTime], @param127=[Int64, System.Int64], @param128=[System.DBNull, null], @param129=[System.DBNull, null], @param130=[System.DBNull, null], @param131=[System.DBNull, null], @param132=[System.DBNull, null], @param133=[System.DBNull, null], @param134=[System.DBNull, null], @param135=[System.DBNull, null], @param136=[System.DBNull, null], @param137=[System.DBNull, null], @param138=[System.DBNull, null]]
2019-08-19 09:48:31,098 [1] DEBUG - Statement Id: [DAO00305_GetClsKetQua] PreparedStatement : [select a.*, b.SOPHIEUYEUCAU from TT_CLSKETQUA a        left join TT_DVYEUCAU b on a.DVYEUCAU_ID = b.DVYEUCAU_ID where a.CLSKETQUA_ID = 95451]
2019-08-19 09:48:31,176 [1] DEBUG - Statement Id: [DAO00049_KiemtraloaiDV] PreparedStatement : [select DICHVU_ID AS HA, '' AS XN, '' as TDCN, '' as TT, '' as KB from TM_DICHVU            left join TM_NHOMDICHVU ndv on ndv.NHOMDICHVU_ID = TM_DICHVU.NHOMDICHVU_ID            where DICHVU_ID = '366' and left(ndv.MANHOMDICHVU, 2) = '02'            union            select  '' as HA, DICHVU_ID AS XN, '' as TDCN, '' as TT, '' as KB from TM_DICHVU            left join TM_NHOMDICHVU ndv on ndv.NHOMDICHVU_ID = TM_DICHVU.NHOMDICHVU_ID            where DICHVU_ID = '366' and left(ndv.MANHOMDICHVU, 2) = '01'            union            select  '' as HA, '' AS XN, DICHVU_ID as TDCN, '' as TT, '' as KB from TM_DICHVU            left join TM_NHOMDICHVU ndv on ndv.NHOMDICHVU_ID = TM_DICHVU.NHOMDICHVU_ID            where DICHVU_ID = '366' and left(ndv.MANHOMDICHVU, 2) = '03'            union            select  '' as HA, '' AS XN, '' as TDCN, DICHVU_ID as TT, '' as KB from TM_DICHVU            left join TM_NHOMDICHVU ndv on ndv.NHOMDICHVU_ID = TM_DICHVU.NHOMDICHVU_ID            where DICHVU_ID = '366' and left(ndv.MANHOMDICHVU, 2) = '05'            union            select  '' as HA, '' AS XN, '' as TDCN, DICHVU_ID as TT, '' as KB from TM_DICHVU            left join TM_NHOMDICHVU ndv on ndv.NHOMDICHVU_ID = TM_DICHVU.NHOMDICHVU_ID            where DICHVU_ID = '366' and left(ndv.MANHOMDICHVU, 2) = '06'            union            select  '' as HA, '' AS XN, '' as TDCN, '' as TT, DICHVU_ID as KB from TM_DICHVU            left join TM_NHOMDICHVU ndv on ndv.NHOMDICHVU_ID = TM_DICHVU.NHOMDICHVU_ID            where DICHVU_ID = '366' and left(ndv.MANHOMDICHVU, 2) = '04']
2019-08-19 09:48:31,239 [1] DEBUG - Statement Id: [DAO00009_GetThutiensauDVThuthuat] PreparedStatement : [select A.THUTIENSAU, B.SOTIEPNHAN, A.DICHVU_ID, A.DVYEUCAU_ID        from TT_DVYEUCAU A        inner join TT_TIEPNHAN B on B.TIEPNHAN_ID = A.TIEPNHAN_ID        where        A.DVYEUCAU_ID = '114718']
2019-08-19 09:48:31,271 [1] DEBUG - Statement Id: [DAO00009_TT_TIEPNHAN_GetProcess] PreparedStatement : [select PROCESS_ID from TT_TIEPNHAN where SOTIEPNHAN = 'TN190506.0000095']
2019-08-19 09:48:31,340 [1] DEBUG - Statement Id: [DAOWF001_Kiemtrathongtindayeucaudacochua] PreparedStatement : [select * from TT_REQUEST        where        PARA = '{"HOSPITAL_ID":"HLU01","SOTIEPNHAN":"TN190506.0000095"}'        AND ISACTIVE = '1']
2019-08-19 09:48:31,409 [1] DEBUG - Statement Id: [DAOWF001_Kiemtrathongtindichvudayeucau] PreparedStatement : [select top 1 * from TT_REQUEST_SERVICE        where        PARA = '{"DICHVU_ID":"366","DVYEUCAU_ID":"114718"}'                AND ISACTIVE = '1' order by ID desc]
2019-08-19 09:48:31,467 [1] DEBUG - Statement Id: [DAOWF001_KiemtrathongtinchitietDichvuYeucau] PreparedStatement : [select * from TT_REQUEST_SERVICE_DETAIL        where        REQUEST_SERVICE_ID = '84514']
2019-08-19 09:48:31,528 [1] DEBUG - Statement Id: [DAOWF001_Laythongtinwithstatecode] PreparedStatement : [select A.*, B.STATUS_CODE from        TM_STATE_ACTION A        left join TM_STATE B on B.STATE_CODE = A.NEXT_STATE_CODE and A.PROCESS_CODE = B.PROCESS_CODE        where        A.CURR_STATE_CODE = '1     '        AND A.PROCESS_CODE = 'P01'        Order By ORDER_ID ASC]
2019-08-19 09:48:31,615 [1] DEBUG - Statement Id: [DAOWF003_Update] PreparedStatement : [update TT_REQUEST_SERVICE set        CURR_STATE_CODE =  @param0                   , ISACTIVE =  @param1                     , ISCOMPLETE =  @param2                        where        ID = '84514']
2019-08-19 09:48:31,615 [1] DEBUG - Statement Id: [DAOWF003_Update] Parameters: [@param0=[CURR_STATE_CODE,2], @param1=[ISACTIVE,1], @param2=[ISCOMPLETE,0]]
2019-08-19 09:48:31,615 [1] DEBUG - Statement Id: [DAOWF003_Update] Types: [@param0=[String, System.String], @param1=[String, System.String], @param2=[String, System.String]]
2019-08-19 09:48:31,681 [1] DEBUG - Statement Id: [DAOWF005_Add] PreparedStatement : [insert into TT_REQUEST_SERVICE_DETAIL (        REQUEST_ID        ,REQUEST_SERVICE_ID        , OLD_STATE_CODE        , CURR_STATE_CODE        ) values (         @param0         , @param1         ,  @param2         ,  @param3         )        SELECT SCOPE_IDENTITY()]
2019-08-19 09:48:31,681 [1] DEBUG - Statement Id: [DAOWF005_Add] Parameters: [@param0=[REQUEST_ID,19182], @param1=[REQUEST_SERVICE_ID,84514], @param2=[OLD_STATE_CODE,1     ], @param3=[CURR_STATE_CODE,2]]
2019-08-19 09:48:31,681 [1] DEBUG - Statement Id: [DAOWF005_Add] Types: [@param0=[String, System.String], @param1=[Int32, System.Int32], @param2=[String, System.String], @param3=[String, System.String]]
2019-08-19 09:48:31,716 [1] DEBUG - Statement Id: [DAOWF005_Add_History] PreparedStatement : [insert into TT_REQUEST_SERVICE_HISTORY (        REQUEST_ID        ,REQUEST_SERVICE_ID        , OLD_STATE_CODE        , CURR_STATE_CODE        ) values (         @param0         , @param1         ,  @param2         ,  @param3         )]
2019-08-19 09:48:31,716 [1] DEBUG - Statement Id: [DAOWF005_Add_History] Parameters: [@param0=[REQUEST_ID,19182], @param1=[REQUEST_SERVICE_ID,84514], @param2=[OLD_STATE_CODE,1     ], @param3=[CURR_STATE_CODE,2]]
2019-08-19 09:48:31,716 [1] DEBUG - Statement Id: [DAOWF005_Add_History] Types: [@param0=[String, System.String], @param1=[Int32, System.Int32], @param2=[String, System.String], @param3=[String, System.String]]
2019-08-19 09:48:31,761 [1] DEBUG - Statement Id: [DAO00009_TT_DVYEUCAU_Update] PreparedStatement : [Update TT_DVYEUCAU set TRANGTHAI_WFL = 'HOANTAT' where DVYEUCAU_ID = '114718']
2019-08-19 09:48:33,221 [1] DEBUG - Statement Id: [DAO00027_ThongTinTiepNhanCOM006] PreparedStatement : [select distinct CONVERT(VARCHAR(11),A.NGAYTIEPNHAN,103) as NGAYYEUCAU, C.DICHVU_ID, C.DVYEUCAU_ID, D.TENDICHVU, C.NOITHUCHIEN_ID,        A.SOTIEPNHAN, A.TRAITUYEN, A.NGAYMIENDONGCHITRA, A.TIEPNHAN_ID, A.DOITUONG_ID, A.TRANGTHAI,        A.LOAITHANHVIEN_ID, A.SUDUNG_BHTN, A.THE_ID, A.THANHVIEN_ID, A.VIP, A.NGUON_BENHNHAN_ID, A.BAOLANH_VIENPHI,        CASE WHEN (A.TRANGTHAI = 'NOITRU' OR A.TRANGTHAI = 'CAPCUU'   or A.TRANGTHAI = 'NGOAITRU') THEN 'IN' ELSE 'OUT' END AS LOAIBENHAN,        CASE WHEN (C.TRANGTHAI = 'CHUAKETQUA') THEN 'CHUAKETQUA' ELSE 'HOANTAT' END AS TRANGTHAIDICHVU, A.SOBHYT,        B.*,        CASE WHEN Left(E.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(E.MANHOMDICHVU,2) END AS MANHOMDICHVU        , A.UUTIEN        from TT_TIEPNHAN A        inner join TT_BENHNHAN B on B.BENHNHAN_ID = A.BENHNHAN_ID and (A.TRANGTHAI = 'DATIEPNHAN' or A.TRANGTHAI = 'NOITRU' or A.TRANGTHAI = 'CAPCUU'  or A.TRANGTHAI = 'NGOAITRU') and B.ACTIVE = '1'        inner join TT_DVYEUCAU C on C.TIEPNHAN_ID = A.TIEPNHAN_ID        left join TM_DICHVU D on D.DICHVU_ID = C.DICHVU_ID        left join TM_NHOMDICHVU E on E.NHOMDICHVU_ID = D.NHOMDICHVU_ID        where C.NGAYHENCLS is NULL and A.TIEPNHAN_ID = '15804' and C.DICHVU_ID = '366' and A.BENHVIEN_ID = 'HLU01'         and           C.DVYEUCAU_ID = '114718']
2019-08-19 09:48:38,559 [1] DEBUG - Statement Id: [DAO00026_GetListDanhSachDichVuGhiNhanVTYT_COM25_WithTN] PreparedStatement : [select distinct CONVERT(VARCHAR(11),C.NGAYYEUCAU,103) as NGAYYEUCAU, C.DICHVU_ID, C.DVYEUCAU_ID, D.TENDICHVU, C.NOITHUCHIEN_ID, A.SOTIEPNHAN, A.TRAITUYEN, A.NGAYMIENDONGCHITRA, A.TIEPNHAN_ID, A.DOITUONG_ID, A.TRANGTHAI,            A.LOAITHANHVIEN_ID, A.SUDUNG_BHTN, A.THE_ID, A.THANHVIEN_ID, A.VIP, A.NGUON_BENHNHAN_ID, A.BAOLANH_VIENPHI,            CASE WHEN (A.TRANGTHAI = 'NOITRU' OR A.TRANGTHAI = 'CAPCUU') THEN 'IN' ELSE 'OUT' END AS LOAIBENHAN,            CASE WHEN (C.TRANGTHAI = 'CHUAKETQUA') THEN 'CHUAKETQUA' ELSE 'HOANTAT' END AS TRANGTHAIDICHVU,            B.*, isnull(ntba.SOBENHAN, '') SOBENHAN, isnull(ntba.BENHAN_ID, 0) BENHAN_ID,            CASE WHEN Left(E.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(E.MANHOMDICHVU,2) END AS MANHOMDICHVU            from TT_TIEPNHAN A            inner join TT_BENHNHAN B on B.BENHNHAN_ID = A.BENHNHAN_ID and B.ACTIVE = '1'            inner join TT_DVYEUCAU C on C.TIEPNHAN_ID = A.TIEPNHAN_ID                        left join TM_DICHVU D on D.DICHVU_ID = C.DICHVU_ID            left join TM_NHOMDICHVU E on E.NHOMDICHVU_ID = D.NHOMDICHVU_ID            left join TT_NOITRU_BENHAN ntba on ntba.BENHAN_ID = C.BENHAN_ID              where            C.NGAYHENCLS is NULL and A.BENHVIEN_ID = 'HLU01'            and (A.TRANGTHAI = 'DATIEPNHAN' or A.TRANGTHAI = 'NOITRU' or A.TRANGTHAI = 'CAPCUU' or A.TRANGTHAI = 'NGOAITRU')            and (CASE WHEN Left(E.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(E.MANHOMDICHVU,2) END in ('02', '04'))            and A.TIEPNHAN_ID = '15804']
2019-08-19 09:48:41,977 [1] DEBUG - Statement Id: [DAO00037_GetCLSKetQua] PreparedStatement : [select *              from TT_CLSKETQUA               where                             TT_CLSKETQUA.DVYEUCAU_ID = '114718'                       and                           TT_CLSKETQUA.BENHVIEN_ID = 'HLU01'                                     order by CLSKETQUA_ID]
2019-08-19 09:48:42,339 [1] DEBUG - Statement Id: [DAO00020_UpdateTrangThaiDVYeuCau] PreparedStatement : [update TT_DVYEUCAU set        TRANGTHAI =  @param0         , NGAYCAPNHAT =  @param1         , NGUOICAPNHAT_ID =  @param2         , KHOADULIEU =  @param3         , NGAYKHOADULIEU =  @param4         , THOIGIANKHOADULIEU =  @param5         , NGUOIKHOA_ID =  @param6         , MANGUOIKHOA =  @param7         , TENNGUOIKHOA =  @param8         where        DVYEUCAU_ID =  @param9]
2019-08-19 09:48:42,339 [1] DEBUG - Statement Id: [DAO00020_UpdateTrangThaiDVYeuCau] Parameters: [@param0=[TRANGTHAI,CHOXACNHAN], @param1=[NGAYCAPNHAT,8/19/2019 9:48:42 AM], @param2=[NGUOICAPNHAT_ID,1], @param3=[KHOADULIEU,null], @param4=[NGAYKHOADULIEU,null], @param5=[THOIGIANKHOADULIEU,null], @param6=[NGUOIKHOA_ID,null], @param7=[MANGUOIKHOA,null], @param8=[TENNGUOIKHOA,null], @param9=[DVYEUCAU_ID,114718]]
2019-08-19 09:48:42,339 [1] DEBUG - Statement Id: [DAO00020_UpdateTrangThaiDVYeuCau] Types: [@param0=[String, System.String], @param1=[DateTime, System.DateTime], @param2=[Int64, System.Int64], @param3=[System.DBNull, null], @param4=[System.DBNull, null], @param5=[System.DBNull, null], @param6=[System.DBNull, null], @param7=[System.DBNull, null], @param8=[System.DBNull, null], @param9=[Int64, System.Int64]]
2019-08-19 09:48:42,408 [1] DEBUG - Statement Id: [DAO00023_UpdateTTDVYeuCauVienPhi] PreparedStatement : [update TT_VIENPHI        set                 DATHUCHIEN =  @param0 ,        NGUOICAPNHAT_ID = '1',        NGAYCAPNHAT = '8/19/2019 9:48:42 AM'        where REF_ID = '114718'        and REF_TABLE = 'TT_DVYEUCAU'        and TIEPNHAN_ID = '15804']
2019-08-19 09:48:42,409 [1] DEBUG - Statement Id: [DAO00023_UpdateTTDVYeuCauVienPhi] Parameters: [@param0=[DATHUCHIEN,1]]
2019-08-19 09:48:42,410 [1] DEBUG - Statement Id: [DAO00023_UpdateTTDVYeuCauVienPhi] Types: [@param0=[Int64, System.Int64]]
2019-08-19 09:55:40,013 [1] DEBUG - Statement Id: [DAO00066_GetBENHAN_TIEPNHAN] PreparedStatement : [select top 1 *        from TT_NOITRU_BENHAN        where TIEPNHAN_ID = '15804'  and BENHVIEN_ID = 'HLU01'        order by NGAYTAO desc]
2019-08-19 09:55:40,223 [1] DEBUG - Statement Id: [DAO00014_GetPatientStatus] PreparedStatement : [select        CASE        when tn.TRANGTHAI = 'HOANTHANH' Then tn.TRANGTHAI        WHEN xncp.XACNHANCHIPHI_ID is not null THEN 'XACNHANCHIPHI'        WHEN (tn.KHOADULIEU = '1') THEN 'KHOADULIEU'        ELSE tn.TRANGTHAI        END        as TRANGTHAI        from TT_TIEPNHAN tn        left join TT_XACNHANCHIPHI xncp on tn.TIEPNHAN_ID = xncp.TIEPNHAN_ID        where tn.TIEPNHAN_ID = '15804'        and tn.BENHVIEN_ID = 'HLU01']
2019-08-19 09:55:40,299 [1] DEBUG - Statement Id: [DAO00019_CheckStatusDichVu] PreparedStatement : [select * from TT_DVYEUCAU where DVYEUCAU_ID = '114718' and TIEPNHAN_ID = '15804']
2019-08-19 09:55:40,383 [1] DEBUG - Statement Id: [DAO00037_KiemTraTrangThaiYeuCau] PreparedStatement : [IF EXISTS (          select DVYEUCAU_ID          from TT_DVYEUCAU          where DVYEUCAU_ID = 114718          and BENHVIEN_ID = 'HLU01'          and HUYYEUCAU = 0          )          BEGIN          SELECT -1 AS RESULT          END          ELSE          BEGIN          SELECT 1 AS RESULT          END]
2019-08-19 09:55:40,484 [1] DEBUG - Statement Id: [DAO00037_Update] PreparedStatement : [update TT_CLSKETQUA set              NGAYTHUCHIEN =  @param0               , THOIGIANTHUCHIEN =  @param1               , NGAYGIOTHUCHIEN =  @param2               , GIOTHUCHIEN =  @param3               , NAMTHUCHIEN =  @param4               , THANGTHUCHIEN =  @param5               , NOITHUCHIEN_ID =  @param6               , BACSICHIDINH_ID =  @param7               , BACSICHIDINH =  @param8               , NGAYCHIDINH =  @param9               , BACSITHUCHIEN_ID =  @param10               , BACSIKETLUAN_ID =  @param11               , BACSIGMHS_ID =  @param12               , DIEUDUONG_ID =  @param13               , KYTHUATVIEN01_ID =  @param14               , KYTHUATVIEN02_ID =  @param15               , CHANDOANLAMSANG =  @param16               , DENGHI =  @param17               , SINHTHIET =  @param18               , CLOTEST =  @param19               , PHOTO =  @param20               , VIDEO =  @param21               , TIEMCANQUANG =  @param22               , PHANLOAIKETQUA_ID =  @param23               , THUCHIENBENNGOAI =  @param24               , BENHVIENTHUCHIEN_ID =  @param25               , TENBACSIBENNGOAI =  @param26               , KHOABENNGOAI_ID =  @param27               , GUINGOAI =  @param28               , NOIGUIDEN_ID =  @param29               , ICD_ID1 =  @param30               , ICD_ID2 =  @param31               , ICD_ID3 =  @param32               , DIUNGTHUOC =  @param33               , TIENME =  @param34               , DACBIET =  @param35               , KQCUOICUNG =  @param36               , THONGTINNHAN =  @param37               , KETLUANKSK =  @param38               , VUNGKHAOSAT =  @param39               , MOTA =  @param40               , MOTA_TEXT =  @param41               , KETLUAN =  @param42               , GHICHU =  @param43               , MAPHIM =  @param44               , GPB_AMSO =  @param45               , GPB_PHANLOAIKETQUA_ID =  @param46               , GPB_PHUONGPHAPLAYBENHPHAM_ID =  @param47               , GPB_SOMAU =  @param48               , GPB_SOLUONGMAU =  @param49               , GPB_TOPO_ID =  @param50               , GPB_TOPOREGIONS_ID =  @param51               , GPB_MORPHO_ID =  @param52               , GPB_ETIO_ID =  @param53               , GPB_DAITHE =  @param54               , GPB_VITHE =  @param55               , GPB_NHUOM_HE =  @param56               , GPB_NHUOM_PAS =  @param57               , GPB_NHUOM_TRI =  @param58               , GPB_NHUOM_AFB =  @param59               , GPB_NHUOM_GIEMSA =  @param60               , GPB_NHUOM_PAPANICOLAOU =  @param61               , GPB_NHUOM_RETICULINE =  @param62               , GPB_NHUOM_OTHER =  @param63               , GPB_HOAMIENDICH =  @param64               , GPB_HOAMIENDICHHUYNHQUANG =  @param65               , GPB_HOICHAN =  @param66               , GPB_MAUTHU =  @param67               , GPB_NOILAYMAUTHU =  @param68               , HLVIKHUAN1 =  @param69               , HLVIKHUAN2 =  @param70               , LOAIFILM_ID =  @param71               , SOPHIMSUDUNG =  @param72               , THIETBI_ID =  @param73               , SOTHUOCSUDUNG =  @param74               , KHOADULIEU =  @param75               , NGAYKHOADULIEU =  @param76               , THOIGIANKHOADULIEU =  @param77               , NGUOIKHOA_ID =  @param78               , MANGUOIKHOA =  @param79               , TENNGUOIKHOA =  @param80               , TRANGTHAI =  @param81               , MACH =  @param82               , HUYETAP =  @param83               , NHIPTHO =  @param84               , NHIETDO =  @param85               , CHIEUCAO =  @param86               , CANNANG =  @param87               , BSA =  @param88               , TINHTRANGDIENNAO =  @param89               , SOVAOVIEN =  @param90               , MAYTE =  @param91               , TENBENHNHAN =  @param92               , NAMSINH =  @param93               , GIOITINH =  @param94               , DIACHI =  @param95               , NOICHIDINH_ID =  @param96               , MAUTHU_ID =  @param97               , THOIGIANNHAN =  @param98               , MAU =  @param99               , LOAITHUOCCANQUANG_ID =  @param100               , MA =  @param101               , IDHINH =  @param102               , SOPHIMHU =  @param103               , LOAIPHIMHU_ID =  @param104               , DOSOI =  @param105               , DOSOI_ID =  @param106               , BANKINHSOI =  @param107               , SODT =  @param108               , KYTHUAT =  @param109               , KYTHUAT_TEXT =  @param110               , SOPHIMSUDUNG2 =  @param111               , LOAIFILM_ID2 =  @param112               , SOPHIMSUDUNG3 =  @param113               , LOAIFILM_ID3 =  @param114               , RESISTANCEMARKERS =  @param115                           , NGAYCAPNHAT =  @param116             , NGUOICAPNHAT_ID =  @param117             , SOLUONGONG =  @param118             , SOMLMAU =  @param119             , THOIGIANLAYMAU =  @param120             , THOIGIANNHANMAU =  @param121             , THOIGIANCDBENHPHAM =  @param122             , DUNGDICHCD_ID =  @param123             , SOONGTHUCNHAN =  @param124             , THUOCDADUNG =  @param125             , NGAYGANMAY =  @param126             , NGAYTHAOMAY =  @param127             , LOAIMAUBENHPHAM =  @param128             where            CLSKETQUA_ID = '95451']
2019-08-19 09:55:40,485 [1] DEBUG - Statement Id: [DAO00037_Update] Parameters: [@param0=[NGAYTHUCHIEN,8/19/2019 12:00:00 AM], @param1=[THOIGIANTHUCHIEN,8/19/2019 9:46:27 AM], @param2=[NGAYGIOTHUCHIEN,8/19/2019 9:46:27 AM], @param3=[GIOTHUCHIEN,0], @param4=[NAMTHUCHIEN,0], @param5=[THANGTHUCHIEN,0], @param6=[NOITHUCHIEN_ID,91], @param7=[BACSICHIDINH_ID,638], @param8=[BACSICHIDINH,Ngô Thị Dung], @param9=[NGAYCHIDINH,5/6/2019 7:43:45 AM], @param10=[BACSITHUCHIEN_ID,1], @param11=[BACSIKETLUAN_ID,33], @param12=[BACSIGMHS_ID,null], @param13=[DIEUDUONG_ID,null], @param14=[KYTHUATVIEN01_ID,null], @param15=[KYTHUATVIEN02_ID,null], @param16=[CHANDOANLAMSANG,đau vai gáy, đau lưng, đau ngón 1 bàn tay T], @param17=[DENGHI,null], @param18=[SINHTHIET,0], @param19=[CLOTEST,0], @param20=[PHOTO,0], @param21=[VIDEO,0], @param22=[TIEMCANQUANG,0], @param23=[PHANLOAIKETQUA_ID,null], @param24=[THUCHIENBENNGOAI,0], @param25=[BENHVIENTHUCHIEN_ID,null], @param26=[TENBACSIBENNGOAI,], @param27=[KHOABENNGOAI_ID,null], @param28=[GUINGOAI,0], @param29=[NOIGUIDEN_ID,null], @param30=[ICD_ID1,null], @param31=[ICD_ID2,null], @param32=[ICD_ID3,null], @param33=[DIUNGTHUOC,0], @param34=[TIENME,0], @param35=[DACBIET,0], @param36=[KQCUOICUNG,0], @param37=[THONGTINNHAN,null], @param38=[KETLUANKSK,null], @param39=[VUNGKHAOSAT,null], @param40=[MOTA,<body>
	<p style="text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><a name="_dx_frag_StartFragment"></a><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">Vận tốc của chất lỏng trong một ống dẫn tỷ lệ thuận với ch&ecirc;nh lệch &aacute;p lực giữa 2 đầu ống dẫn, khi sự ch&ecirc;nh lệch n&agrave;y c&agrave;ng lớn, tốc độ d&ograve;ng chảy c&agrave;ng cao. Giữa tốc độ v&agrave; độ ch&ecirc;nh &aacute;pc&oacute; mối li&ecirc;n hệ qua phương tr&igrave;nh động học chất lỏng Bernoulli. Để t&iacute;nh được sự ch&ecirc;nh lệch &aacute;p lực giữa hai điểm trong hệ thống tim mạch, ch&uacute;ng ta cũng c&oacute; thể sử dụng phương tr&igrave;nh n&agrave;y:&nbsp;</span></p><p style="text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt;background-color:#FFFFFF;"><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;"><img src="_files/image0.png" width="608" height="452" alt="" style="border-width:0px;" /></span></p><p style="text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt;background-color:#FFFFFF;"><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:10.5pt;font-weight:normal;font-style:normal;">&nbsp;</span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">v&agrave; V</span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;"><sub>1</sub></span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">&nbsp;l&agrave; những đại lượng nhỏ c&oacute; thể bỏ qua.&nbsp;</span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:10.5pt;font-weight:normal;font-style:normal;"><br/></span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">N&ecirc;n phương tr&igrave;nh Bernoulli c&oacute; thể viết gọn lại như sau:&nbsp;</span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:10.5pt;font-weight:normal;font-style:normal;"><br/></span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;"><i>Dr = 4V</i></span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;"><sup>2</sup></span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;"><sub>2</sub></span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:10.5pt;font-weight:normal;font-style:normal;"><br/></span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">Tuy vậy việc &aacute;p dụng phương tr&igrave;nh Bernoulli đơn giản v&agrave;o trong t&iacute;nh to&aacute;n &aacute;p lực của d&ograve;ng m&aacute;u, ch&uacute;ng ta cần phải ch&uacute; &yacute; đến g&oacute;c q (l&agrave; g&oacute;c giữa ch&ugrave;m tia si&ecirc;u &acirc;m v&agrave; v&eacute;c tơ của d&ograve;ng chảy). Khi g&oacute;c n&agrave;y c&agrave;ng lớn th&igrave; cos q cũng c&agrave;ng lớn v&agrave; mức độ sai lầm cũng c&agrave;ng cao. Ta c&oacute; thể t&iacute;nh to&aacute;n mức sai lầm dựa v&agrave;o g&oacute;c q theo bảng sau:&nbsp;</span></p><table border="0" cellspacing="0" cellpadding="0" style="border-collapse:collapse;">
		<tr>
			<td valign="top" width="95" style="width:71.25pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">G&oacute;c q</span></p></td><td valign="top" width="36" style="width:27pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">0</span></p></td><td valign="top" width="61" style="width:45.75pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">10</span></p></td><td valign="top" width="61" style="width:45.75pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">20</span></p></td><td valign="top" width="61" style="width:45.75pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">30</span></p></td><td valign="top" width="51" style="width:38.25pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">45</span></p></td><td valign="top" width="51" style="width:38.25pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">60</span></p></td></tr>
		<tr>
			<td valign="top" width="95" style="width:71.25pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">Cos q</span></p></td><td valign="top" width="36" style="width:27pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">1</span></p></td><td valign="top" width="61" style="width:45.75pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">0,98</span></p></td><td valign="top" width="61" style="width:45.75pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">0,93</span></p></td><td valign="top" width="61" style="width:45.75pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">0,88</span></p></td><td valign="top" width="51" style="width:38.25pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">0,7</span></p></td><td valign="top" width="51" style="width:38.25pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">0,5</span></p></td></tr>
		<tr>
			<td valign="top" width="95" style="width:71.25pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">% sai số</span></p></td><td valign="top" width="36" style="width:27pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">0</span></p></td><td valign="top" width="61" style="width:45.75pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">2</span></p></td><td valign="top" width="61" style="width:45.75pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">7</span></p></td><td valign="top" width="61" style="width:45.75pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">14</span></p></td><td valign="top" width="51" style="width:38.25pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">30</span></p></td><td valign="top" width="51" style="width:38.25pt;padding:0.75pt 0.75pt 0.75pt 0.75pt;border-top:1pt #000000 solid;border-right:1pt #000000 solid;border-bottom:1pt #000000 solid;border-left:1pt #000000 solid;"><p style="text-align:center;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:transparent;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">50</span></p></td></tr>
	</table>
	<p style="text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">Mặt kh&aacute;c trong phương tr&igrave;nh tr&ecirc;n ch&uacute;ng ta coi p bằng 8, đ&oacute; l&agrave; con số chung cho m&aacute;u của người b&igrave;nh thường v&agrave; n&oacute;i chung c&aacute;c bệnh &iacute;t l&agrave;m thay đổi độ nhớt của m&aacute;u. Nhưng điều n&agrave;y sẽ kh&aacute;c đi ở những bệnh nh&acirc;n c&oacute; thay đổi nhiều t&iacute;nh chất vật l&yacute; của m&aacute;u như: bệnh tăng hồng cầu, tăng protein trong m&aacute;u, hay Ngược lại thiếu m&aacute;u qu&aacute; nặng...&nbsp;</span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:10.5pt;font-weight:normal;font-style:normal;"><br/></span><span style="color:#3E3E3E;background-color:#FFFFFF;font-family:Tahoma;font-size:12pt;font-weight:normal;font-style:normal;">Tương tự như vậy những bệnh tim mạch c&oacute; cung lượng tim cao v&agrave; thấp cũng c&oacute; ảnh hưởng &iacute;t nhiều đến c&aacute;c chỉ số đo v&agrave; đ&aacute;nh gi&aacute; mức độ nặng của bệnh van tim. Vấn đề n&agrave;y sẽ tr&igrave;nh b&agrave;y trong phần c&aacute;c bệnh van tim. Trong một số trường hợp tắc nghẽn h&igrave;nh ống d&agrave;i như một số bệnh nh&acirc;n hẹp dới van v&agrave; tr&ecirc;n van động mạch chủ, th&ocirc;ng li&ecirc;n thất phần cơ... việc đo gradient cũng c&oacute; thể bị ảnh hưởng ở một mức độ nhất định...&nbsp;</span></p></body>
], @param41=[MOTA_TEXT,null], @param42=[KETLUAN,Hiện tại siêu âm khớp gối không thấy bất thường.], @param43=[GHICHU,null], @param44=[MAPHIM,null], @param45=[GPB_AMSO,null], @param46=[GPB_PHANLOAIKETQUA_ID,null], @param47=[GPB_PHUONGPHAPLAYBENHPHAM_ID,null], @param48=[GPB_SOMAU,null], @param49=[GPB_SOLUONGMAU,null], @param50=[GPB_TOPO_ID,null], @param51=[GPB_TOPOREGIONS_ID,null], @param52=[GPB_MORPHO_ID,null], @param53=[GPB_ETIO_ID,null], @param54=[GPB_DAITHE,null], @param55=[GPB_VITHE,null], @param56=[GPB_NHUOM_HE,0], @param57=[GPB_NHUOM_PAS,0], @param58=[GPB_NHUOM_TRI,0], @param59=[GPB_NHUOM_AFB,0], @param60=[GPB_NHUOM_GIEMSA,0], @param61=[GPB_NHUOM_PAPANICOLAOU,null], @param62=[GPB_NHUOM_RETICULINE,null], @param63=[GPB_NHUOM_OTHER,0], @param64=[GPB_HOAMIENDICH,0], @param65=[GPB_HOAMIENDICHHUYNHQUANG,0], @param66=[GPB_HOICHAN,0], @param67=[GPB_MAUTHU,null], @param68=[GPB_NOILAYMAUTHU,null], @param69=[HLVIKHUAN1,null], @param70=[HLVIKHUAN2,null], @param71=[LOAIFILM_ID,null], @param72=[SOPHIMSUDUNG,null], @param73=[THIETBI_ID,null], @param74=[SOTHUOCSUDUNG,null], @param75=[KHOADULIEU,0], @param76=[NGAYKHOADULIEU,null], @param77=[THOIGIANKHOADULIEU,null], @param78=[NGUOIKHOA_ID,null], @param79=[MANGUOIKHOA,null], @param80=[TENNGUOIKHOA,null], @param81=[TRANGTHAI,CHOXACNHAN], @param82=[MACH,null], @param83=[HUYETAP,null], @param84=[NHIPTHO,null], @param85=[NHIETDO,null], @param86=[CHIEUCAO,null], @param87=[CANNANG,null], @param88=[BSA,null], @param89=[TINHTRANGDIENNAO,null], @param90=[SOVAOVIEN,null], @param91=[MAYTE,null], @param92=[TENBENHNHAN,null], @param93=[NAMSINH,null], @param94=[GIOITINH,0], @param95=[DIACHI,null], @param96=[NOICHIDINH_ID,70], @param97=[MAUTHU_ID,null], @param98=[THOIGIANNHAN,null], @param99=[MAU,null], @param100=[LOAITHUOCCANQUANG_ID,null], @param101=[MA,null], @param102=[IDHINH,null], @param103=[SOPHIMHU,null], @param104=[LOAIPHIMHU_ID,null], @param105=[DOSOI,null], @param106=[DOSOI_ID,null], @param107=[BANKINHSOI,null], @param108=[SODT,null], @param109=[KYTHUAT,], @param110=[KYTHUAT_TEXT,null], @param111=[SOPHIMSUDUNG2,null], @param112=[LOAIFILM_ID2,null], @param113=[SOPHIMSUDUNG3,null], @param114=[LOAIFILM_ID3,null], @param115=[RESISTANCEMARKERS,null], @param116=[NGAYCAPNHAT,8/19/2019 9:55:40 AM], @param117=[NGUOICAPNHAT_ID,1], @param118=[SOLUONGONG,null], @param119=[SOMLMAU,null], @param120=[THOIGIANLAYMAU,null], @param121=[THOIGIANNHANMAU,null], @param122=[THOIGIANCDBENHPHAM,null], @param123=[DUNGDICHCD_ID,null], @param124=[SOONGTHUCNHAN,null], @param125=[THUOCDADUNG,null], @param126=[NGAYGANMAY,null], @param127=[NGAYTHAOMAY,null], @param128=[LOAIMAUBENHPHAM,null]]
2019-08-19 09:55:40,485 [1] DEBUG - Statement Id: [DAO00037_Update] Types: [@param0=[DateTime, System.DateTime], @param1=[DateTime, System.DateTime], @param2=[DateTime, System.DateTime], @param3=[Int64, System.Int64], @param4=[Int64, System.Int64], @param5=[Int64, System.Int64], @param6=[Int64, System.Int64], @param7=[Int64, System.Int64], @param8=[String, System.String], @param9=[DateTime, System.DateTime], @param10=[Int64, System.Int64], @param11=[Int64, System.Int64], @param12=[System.DBNull, null], @param13=[System.DBNull, null], @param14=[System.DBNull, null], @param15=[System.DBNull, null], @param16=[String, System.String], @param17=[System.DBNull, null], @param18=[String, System.String], @param19=[String, System.String], @param20=[String, System.String], @param21=[String, System.String], @param22=[String, System.String], @param23=[System.DBNull, null], @param24=[String, System.String], @param25=[System.DBNull, null], @param26=[String, System.String], @param27=[System.DBNull, null], @param28=[String, System.String], @param29=[System.DBNull, null], @param30=[System.DBNull, null], @param31=[System.DBNull, null], @param32=[System.DBNull, null], @param33=[String, System.String], @param34=[String, System.String], @param35=[String, System.String], @param36=[String, System.String], @param37=[System.DBNull, null], @param38=[System.DBNull, null], @param39=[System.DBNull, null], @param40=[String, System.String], @param41=[System.DBNull, null], @param42=[String, System.String], @param43=[System.DBNull, null], @param44=[System.DBNull, null], @param45=[System.DBNull, null], @param46=[System.DBNull, null], @param47=[System.DBNull, null], @param48=[System.DBNull, null], @param49=[System.DBNull, null], @param50=[System.DBNull, null], @param51=[System.DBNull, null], @param52=[System.DBNull, null], @param53=[System.DBNull, null], @param54=[System.DBNull, null], @param55=[System.DBNull, null], @param56=[String, System.String], @param57=[String, System.String], @param58=[String, System.String], @param59=[String, System.String], @param60=[String, System.String], @param61=[System.DBNull, null], @param62=[System.DBNull, null], @param63=[String, System.String], @param64=[String, System.String], @param65=[String, System.String], @param66=[String, System.String], @param67=[System.DBNull, null], @param68=[System.DBNull, null], @param69=[System.DBNull, null], @param70=[System.DBNull, null], @param71=[System.DBNull, null], @param72=[System.DBNull, null], @param73=[System.DBNull, null], @param74=[System.DBNull, null], @param75=[String, System.String], @param76=[System.DBNull, null], @param77=[System.DBNull, null], @param78=[System.DBNull, null], @param79=[System.DBNull, null], @param80=[System.DBNull, null], @param81=[String, System.String], @param82=[System.DBNull, null], @param83=[System.DBNull, null], @param84=[System.DBNull, null], @param85=[System.DBNull, null], @param86=[System.DBNull, null], @param87=[System.DBNull, null], @param88=[System.DBNull, null], @param89=[System.DBNull, null], @param90=[System.DBNull, null], @param91=[System.DBNull, null], @param92=[System.DBNull, null], @param93=[System.DBNull, null], @param94=[String, System.String], @param95=[System.DBNull, null], @param96=[Int64, System.Int64], @param97=[System.DBNull, null], @param98=[System.DBNull, null], @param99=[System.DBNull, null], @param100=[System.DBNull, null], @param101=[System.DBNull, null], @param102=[System.DBNull, null], @param103=[System.DBNull, null], @param104=[System.DBNull, null], @param105=[System.DBNull, null], @param106=[System.DBNull, null], @param107=[System.DBNull, null], @param108=[System.DBNull, null], @param109=[String, System.String], @param110=[System.DBNull, null], @param111=[System.DBNull, null], @param112=[System.DBNull, null], @param113=[System.DBNull, null], @param114=[System.DBNull, null], @param115=[System.DBNull, null], @param116=[DateTime, System.DateTime], @param117=[Int64, System.Int64], @param118=[System.DBNull, null], @param119=[System.DBNull, null], @param120=[System.DBNull, null], @param121=[System.DBNull, null], @param122=[System.DBNull, null], @param123=[System.DBNull, null], @param124=[System.DBNull, null], @param125=[System.DBNull, null], @param126=[System.DBNull, null], @param127=[System.DBNull, null], @param128=[System.DBNull, null]]
2019-08-19 09:55:40,640 [1] DEBUG - Statement Id: [DAO00020_KiemTraMaRIS] PreparedStatement : [select * from LST_KEYDATA        where KEYTYPE = 'RISID'        and KEYYEAR = '2019'        and KEYMONTH = '8'        and KEYDAY = '19'        and SEGMENT_1 = 'UG'        and KEYVALUE >= '']
2019-08-19 09:55:40,666 [1] DEBUG - Statement Id: [DAO00020_CapNhatMaRIS] PreparedStatement : [update LST_KEYDATA        set KEYVALUE = ''        where KEYTYPE = 'RISID'        and KEYYEAR = '2019'        and KEYMONTH = '8'        and KEYDAY = '19'        and SEGMENT_1 = 'UG']
2019-08-19 09:55:40,691 [1] DEBUG - Statement Id: [DAO00020_CapMaRIS] PreparedStatement : [update TT_DVYEUCAU set        MARIS =  @param0         , NGUOICAPNHAT_ID =  @param1         , NGAYCAPNHAT =  @param2         where        DVYEUCAU_ID = 114718]
2019-08-19 09:55:40,691 [1] DEBUG - Statement Id: [DAO00020_CapMaRIS] Parameters: [@param0=[MARIS,], @param1=[NGUOICAPNHAT_ID,1], @param2=[NGAYCAPNHAT,8/19/2019 9:55:40 AM]]
2019-08-19 09:55:40,691 [1] DEBUG - Statement Id: [DAO00020_CapMaRIS] Types: [@param0=[String, System.String], @param1=[Int64, System.Int64], @param2=[DateTime, System.DateTime]]
2019-08-19 09:55:40,719 [1] DEBUG - Statement Id: [DAO00116_File_Delete] PreparedStatement : [delete from TT_FILE_DINHKEM               where                             REF_TABLE = 'TT_CLSKETQUA'                       and                           REF_ID = '95451']
2019-08-19 09:55:40,748 [1] DEBUG - Statement Id: [DAO00305_GetClsKetQua] PreparedStatement : [select a.*, b.SOPHIEUYEUCAU from TT_CLSKETQUA a        left join TT_DVYEUCAU b on a.DVYEUCAU_ID = b.DVYEUCAU_ID where a.CLSKETQUA_ID = 95451]
2019-08-19 09:55:40,805 [1] DEBUG - Statement Id: [DAO00049_KiemtraloaiDV] PreparedStatement : [select DICHVU_ID AS HA, '' AS XN, '' as TDCN, '' as TT, '' as KB from TM_DICHVU            left join TM_NHOMDICHVU ndv on ndv.NHOMDICHVU_ID = TM_DICHVU.NHOMDICHVU_ID            where DICHVU_ID = '366' and left(ndv.MANHOMDICHVU, 2) = '02'            union            select  '' as HA, DICHVU_ID AS XN, '' as TDCN, '' as TT, '' as KB from TM_DICHVU            left join TM_NHOMDICHVU ndv on ndv.NHOMDICHVU_ID = TM_DICHVU.NHOMDICHVU_ID            where DICHVU_ID = '366' and left(ndv.MANHOMDICHVU, 2) = '01'            union            select  '' as HA, '' AS XN, DICHVU_ID as TDCN, '' as TT, '' as KB from TM_DICHVU            left join TM_NHOMDICHVU ndv on ndv.NHOMDICHVU_ID = TM_DICHVU.NHOMDICHVU_ID            where DICHVU_ID = '366' and left(ndv.MANHOMDICHVU, 2) = '03'            union            select  '' as HA, '' AS XN, '' as TDCN, DICHVU_ID as TT, '' as KB from TM_DICHVU            left join TM_NHOMDICHVU ndv on ndv.NHOMDICHVU_ID = TM_DICHVU.NHOMDICHVU_ID            where DICHVU_ID = '366' and left(ndv.MANHOMDICHVU, 2) = '05'            union            select  '' as HA, '' AS XN, '' as TDCN, DICHVU_ID as TT, '' as KB from TM_DICHVU            left join TM_NHOMDICHVU ndv on ndv.NHOMDICHVU_ID = TM_DICHVU.NHOMDICHVU_ID            where DICHVU_ID = '366' and left(ndv.MANHOMDICHVU, 2) = '06'            union            select  '' as HA, '' AS XN, '' as TDCN, '' as TT, DICHVU_ID as KB from TM_DICHVU            left join TM_NHOMDICHVU ndv on ndv.NHOMDICHVU_ID = TM_DICHVU.NHOMDICHVU_ID            where DICHVU_ID = '366' and left(ndv.MANHOMDICHVU, 2) = '04']
2019-08-19 09:55:40,833 [1] DEBUG - Statement Id: [DAO00009_GetThutiensauDVThuthuat] PreparedStatement : [select A.THUTIENSAU, B.SOTIEPNHAN, A.DICHVU_ID, A.DVYEUCAU_ID        from TT_DVYEUCAU A        inner join TT_TIEPNHAN B on B.TIEPNHAN_ID = A.TIEPNHAN_ID        where        A.DVYEUCAU_ID = '114718']
2019-08-19 09:55:40,859 [1] DEBUG - Statement Id: [DAO00009_TT_TIEPNHAN_GetProcess] PreparedStatement : [select PROCESS_ID from TT_TIEPNHAN where SOTIEPNHAN = 'TN190506.0000095']
2019-08-19 09:55:40,925 [1] DEBUG - Statement Id: [DAOWF001_Kiemtrathongtindayeucaudacochua] PreparedStatement : [select * from TT_REQUEST        where        PARA = '{"HOSPITAL_ID":"HLU01","SOTIEPNHAN":"TN190506.0000095"}'        AND ISACTIVE = '1']
2019-08-19 09:55:41,113 [1] DEBUG - Statement Id: [DAOWF001_Kiemtrathongtindichvudayeucau] PreparedStatement : [select top 1 * from TT_REQUEST_SERVICE        where        PARA = '{"DICHVU_ID":"366","DVYEUCAU_ID":"114718"}'                AND ISACTIVE = '1' order by ID desc]
2019-08-19 09:55:41,223 [1] DEBUG - Statement Id: [DAOWF001_KiemtrathongtinchitietDichvuYeucau] PreparedStatement : [select * from TT_REQUEST_SERVICE_DETAIL        where        REQUEST_SERVICE_ID = '84514']
2019-08-19 09:55:41,285 [1] DEBUG - Statement Id: [DAOWF001_Laythongtinwithstatecode] PreparedStatement : [select A.*, B.STATUS_CODE from        TM_STATE_ACTION A        left join TM_STATE B on B.STATE_CODE = A.NEXT_STATE_CODE and A.PROCESS_CODE = B.PROCESS_CODE        where        A.CURR_STATE_CODE = '2     '        AND A.PROCESS_CODE = 'P01'        Order By ORDER_ID ASC]
2019-08-19 09:55:41,536 [1] DEBUG - Statement Id: [DAO00027_ThongTinTiepNhanCOM006] PreparedStatement : [select distinct CONVERT(VARCHAR(11),A.NGAYTIEPNHAN,103) as NGAYYEUCAU, C.DICHVU_ID, C.DVYEUCAU_ID, D.TENDICHVU, C.NOITHUCHIEN_ID,        A.SOTIEPNHAN, A.TRAITUYEN, A.NGAYMIENDONGCHITRA, A.TIEPNHAN_ID, A.DOITUONG_ID, A.TRANGTHAI,        A.LOAITHANHVIEN_ID, A.SUDUNG_BHTN, A.THE_ID, A.THANHVIEN_ID, A.VIP, A.NGUON_BENHNHAN_ID, A.BAOLANH_VIENPHI,        CASE WHEN (A.TRANGTHAI = 'NOITRU' OR A.TRANGTHAI = 'CAPCUU'   or A.TRANGTHAI = 'NGOAITRU') THEN 'IN' ELSE 'OUT' END AS LOAIBENHAN,        CASE WHEN (C.TRANGTHAI = 'CHUAKETQUA') THEN 'CHUAKETQUA' ELSE 'HOANTAT' END AS TRANGTHAIDICHVU, A.SOBHYT,        B.*,        CASE WHEN Left(E.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(E.MANHOMDICHVU,2) END AS MANHOMDICHVU        , A.UUTIEN        from TT_TIEPNHAN A        inner join TT_BENHNHAN B on B.BENHNHAN_ID = A.BENHNHAN_ID and (A.TRANGTHAI = 'DATIEPNHAN' or A.TRANGTHAI = 'NOITRU' or A.TRANGTHAI = 'CAPCUU'  or A.TRANGTHAI = 'NGOAITRU') and B.ACTIVE = '1'        inner join TT_DVYEUCAU C on C.TIEPNHAN_ID = A.TIEPNHAN_ID        left join TM_DICHVU D on D.DICHVU_ID = C.DICHVU_ID        left join TM_NHOMDICHVU E on E.NHOMDICHVU_ID = D.NHOMDICHVU_ID        where C.NGAYHENCLS is NULL and A.TIEPNHAN_ID = '15804' and C.DICHVU_ID = '366' and A.BENHVIEN_ID = 'HLU01'         and           C.DVYEUCAU_ID = '114718']
2019-08-19 09:55:42,346 [1] DEBUG - Statement Id: [DAO00026_GetListDanhSachDichVuGhiNhanVTYT_COM25_WithTN] PreparedStatement : [select distinct CONVERT(VARCHAR(11),C.NGAYYEUCAU,103) as NGAYYEUCAU, C.DICHVU_ID, C.DVYEUCAU_ID, D.TENDICHVU, C.NOITHUCHIEN_ID, A.SOTIEPNHAN, A.TRAITUYEN, A.NGAYMIENDONGCHITRA, A.TIEPNHAN_ID, A.DOITUONG_ID, A.TRANGTHAI,            A.LOAITHANHVIEN_ID, A.SUDUNG_BHTN, A.THE_ID, A.THANHVIEN_ID, A.VIP, A.NGUON_BENHNHAN_ID, A.BAOLANH_VIENPHI,            CASE WHEN (A.TRANGTHAI = 'NOITRU' OR A.TRANGTHAI = 'CAPCUU') THEN 'IN' ELSE 'OUT' END AS LOAIBENHAN,            CASE WHEN (C.TRANGTHAI = 'CHUAKETQUA') THEN 'CHUAKETQUA' ELSE 'HOANTAT' END AS TRANGTHAIDICHVU,            B.*, isnull(ntba.SOBENHAN, '') SOBENHAN, isnull(ntba.BENHAN_ID, 0) BENHAN_ID,            CASE WHEN Left(E.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(E.MANHOMDICHVU,2) END AS MANHOMDICHVU            from TT_TIEPNHAN A            inner join TT_BENHNHAN B on B.BENHNHAN_ID = A.BENHNHAN_ID and B.ACTIVE = '1'            inner join TT_DVYEUCAU C on C.TIEPNHAN_ID = A.TIEPNHAN_ID                        left join TM_DICHVU D on D.DICHVU_ID = C.DICHVU_ID            left join TM_NHOMDICHVU E on E.NHOMDICHVU_ID = D.NHOMDICHVU_ID            left join TT_NOITRU_BENHAN ntba on ntba.BENHAN_ID = C.BENHAN_ID              where            C.NGAYHENCLS is NULL and A.BENHVIEN_ID = 'HLU01'            and (A.TRANGTHAI = 'DATIEPNHAN' or A.TRANGTHAI = 'NOITRU' or A.TRANGTHAI = 'CAPCUU' or A.TRANGTHAI = 'NGOAITRU')            and (CASE WHEN Left(E.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(E.MANHOMDICHVU,2) END in ('02', '04'))            and A.TIEPNHAN_ID = '15804']
2019-08-19 09:55:44,761 [1] DEBUG - Statement Id: [DAO00020_UpdateTrangThaiDVYeuCau] PreparedStatement : [update TT_DVYEUCAU set        TRANGTHAI =  @param0         , NGAYCAPNHAT =  @param1         , NGUOICAPNHAT_ID =  @param2         , KHOADULIEU =  @param3         , NGAYKHOADULIEU =  @param4         , THOIGIANKHOADULIEU =  @param5         , NGUOIKHOA_ID =  @param6         , MANGUOIKHOA =  @param7         , TENNGUOIKHOA =  @param8         where        DVYEUCAU_ID =  @param9]
2019-08-19 09:55:44,762 [1] DEBUG - Statement Id: [DAO00020_UpdateTrangThaiDVYeuCau] Parameters: [@param0=[TRANGTHAI,CHOXACNHAN], @param1=[NGAYCAPNHAT,8/19/2019 9:55:44 AM], @param2=[NGUOICAPNHAT_ID,1], @param3=[KHOADULIEU,null], @param4=[NGAYKHOADULIEU,null], @param5=[THOIGIANKHOADULIEU,null], @param6=[NGUOIKHOA_ID,null], @param7=[MANGUOIKHOA,null], @param8=[TENNGUOIKHOA,null], @param9=[DVYEUCAU_ID,114718]]
2019-08-19 09:55:44,762 [1] DEBUG - Statement Id: [DAO00020_UpdateTrangThaiDVYeuCau] Types: [@param0=[String, System.String], @param1=[DateTime, System.DateTime], @param2=[Int64, System.Int64], @param3=[System.DBNull, null], @param4=[System.DBNull, null], @param5=[System.DBNull, null], @param6=[System.DBNull, null], @param7=[System.DBNull, null], @param8=[System.DBNull, null], @param9=[Int64, System.Int64]]
2019-08-19 09:55:44,816 [1] DEBUG - Statement Id: [DAO00023_UpdateTTDVYeuCauVienPhi] PreparedStatement : [update TT_VIENPHI        set                 DATHUCHIEN =  @param0 ,        NGUOICAPNHAT_ID = '1',        NGAYCAPNHAT = '8/19/2019 9:55:44 AM'        where REF_ID = '114718'        and REF_TABLE = 'TT_DVYEUCAU'        and TIEPNHAN_ID = '15804']
2019-08-19 09:55:44,816 [1] DEBUG - Statement Id: [DAO00023_UpdateTTDVYeuCauVienPhi] Parameters: [@param0=[DATHUCHIEN,1]]
2019-08-19 09:55:44,816 [1] DEBUG - Statement Id: [DAO00023_UpdateTTDVYeuCauVienPhi] Types: [@param0=[Int64, System.Int64]]
2019-08-19 10:11:49,183 [1] DEBUG - Statement Id: [DAO00066_GetBENHAN_TIEPNHAN] PreparedStatement : [select top 1 *        from TT_NOITRU_BENHAN        where TIEPNHAN_ID = '15804'  and BENHVIEN_ID = 'HLU01'        order by NGAYTAO desc]
2019-08-19 10:11:49,384 [1] DEBUG - Statement Id: [DAO00014_GetPatientStatus] PreparedStatement : [select        CASE        when tn.TRANGTHAI = 'HOANTHANH' Then tn.TRANGTHAI        WHEN xncp.XACNHANCHIPHI_ID is not null THEN 'XACNHANCHIPHI'        WHEN (tn.KHOADULIEU = '1') THEN 'KHOADULIEU'        ELSE tn.TRANGTHAI        END        as TRANGTHAI        from TT_TIEPNHAN tn        left join TT_XACNHANCHIPHI xncp on tn.TIEPNHAN_ID = xncp.TIEPNHAN_ID        where tn.TIEPNHAN_ID = '15804'        and tn.BENHVIEN_ID = 'HLU01']
2019-08-19 10:11:49,462 [1] DEBUG - Statement Id: [DAO00014_GetServiceStatus] PreparedStatement : [select TRANGTHAI, NGUOIKHOA_ID from TT_DVYEUCAU        where        DVYEUCAU_ID = '114718'        and BENHVIEN_ID = 'HLU01']
2019-08-19 10:11:49,633 [1] DEBUG - Statement Id: [DAO00020_UpdateTrangThaiDVYeuCau] PreparedStatement : [update TT_DVYEUCAU set        TRANGTHAI =  @param0         , NGAYCAPNHAT =  @param1         , NGUOICAPNHAT_ID =  @param2         , KHOADULIEU =  @param3         , NGAYKHOADULIEU =  @param4         , THOIGIANKHOADULIEU =  @param5         , NGUOIKHOA_ID =  @param6         , MANGUOIKHOA =  @param7         , TENNGUOIKHOA =  @param8         where        DVYEUCAU_ID =  @param9]
2019-08-19 10:11:49,634 [1] DEBUG - Statement Id: [DAO00020_UpdateTrangThaiDVYeuCau] Parameters: [@param0=[TRANGTHAI,HOANTAT], @param1=[NGAYCAPNHAT,8/19/2019 10:11:49 AM], @param2=[NGUOICAPNHAT_ID,1], @param3=[KHOADULIEU,True], @param4=[NGAYKHOADULIEU,8/19/2019 10:11:49 AM], @param5=[THOIGIANKHOADULIEU,8/19/2019 10:11:49 AM], @param6=[NGUOIKHOA_ID,1], @param7=[MANGUOIKHOA,1], @param8=[TENNGUOIKHOA,], @param9=[DVYEUCAU_ID,114718]]
2019-08-19 10:11:49,634 [1] DEBUG - Statement Id: [DAO00020_UpdateTrangThaiDVYeuCau] Types: [@param0=[String, System.String], @param1=[DateTime, System.DateTime], @param2=[Int64, System.Int64], @param3=[Boolean, System.Boolean], @param4=[DateTime, System.DateTime], @param5=[DateTime, System.DateTime], @param6=[Int64, System.Int64], @param7=[Int64, System.Int64], @param8=[String, System.String], @param9=[Int64, System.Int64]]
2019-08-19 10:11:49,697 [1] DEBUG - Statement Id: [DAO00023_UpdateTTDVYeuCauVienPhi] PreparedStatement : [update TT_VIENPHI        set                 DATHUCHIEN =  @param0 ,        NGUOICAPNHAT_ID = '1',        NGAYCAPNHAT = '8/19/2019 10:11:49 AM'        where REF_ID = '114718'        and REF_TABLE = 'TT_DVYEUCAU'        and TIEPNHAN_ID = '15804']
2019-08-19 10:11:49,697 [1] DEBUG - Statement Id: [DAO00023_UpdateTTDVYeuCauVienPhi] Parameters: [@param0=[DATHUCHIEN,1]]
2019-08-19 10:11:49,697 [1] DEBUG - Statement Id: [DAO00023_UpdateTTDVYeuCauVienPhi] Types: [@param0=[Int64, System.Int64]]
2019-08-19 10:11:49,827 [1] DEBUG - Statement Id: [DAO00037_Duyet] PreparedStatement : [update TT_CLSKETQUA set            KHOADULIEU =  @param0             , NGAYKHOADULIEU =  @param1             , THOIGIANKHOADULIEU =  @param2             , NGUOIKHOA_ID =  @param3             , TENNGUOIKHOA =  @param4             , TRANGTHAI =  @param5             where            CLSKETQUA_ID = '95451'              update TT_DVYEUCAU set            TRANGTHAI =  @param5             , NGAYCAPNHAT =  @param6             , NGUOICAPNHAT_ID =  @param7             , KHOADULIEU =  @param0             , NGAYKHOADULIEU =  @param1             , THOIGIANKHOADULIEU =  @param2             , NGUOIKHOA_ID =  @param3             , MANGUOIKHOA =  @param8             , TENNGUOIKHOA =  @param4             where DVYEUCAU_ID = '']
2019-08-19 10:11:49,827 [1] DEBUG - Statement Id: [DAO00037_Duyet] Parameters: [@param0=[KHOADULIEU,1], @param1=[NGAYKHOADULIEU,8/19/2019 10:11:49 AM], @param2=[THOIGIANKHOADULIEU,8/19/2019 10:11:49 AM], @param3=[NGUOIKHOA_ID,1], @param4=[TENNGUOIKHOA,], @param5=[TRANGTHAI,HOANTAT], @param6=[NGAYCAPNHAT,8/19/2019 10:11:49 AM], @param7=[NGUOICAPNHAT_ID,null], @param8=[MANGUOIKHOA,null]]
2019-08-19 10:11:49,827 [1] DEBUG - Statement Id: [DAO00037_Duyet] Types: [@param0=[String, System.String], @param1=[DateTime, System.DateTime], @param2=[DateTime, System.DateTime], @param3=[Int64, System.Int64], @param4=[String, System.String], @param5=[String, System.String], @param6=[DateTime, System.DateTime], @param7=[System.DBNull, null], @param8=[System.DBNull, null]]
2019-08-19 10:11:49,892 [1] DEBUG - Statement Id: [DAO00026_GetListDanhSachDichVuGhiNhanVTYT_COM25_WithTN] PreparedStatement : [select distinct CONVERT(VARCHAR(11),C.NGAYYEUCAU,103) as NGAYYEUCAU, C.DICHVU_ID, C.DVYEUCAU_ID, D.TENDICHVU, C.NOITHUCHIEN_ID, A.SOTIEPNHAN, A.TRAITUYEN, A.NGAYMIENDONGCHITRA, A.TIEPNHAN_ID, A.DOITUONG_ID, A.TRANGTHAI,            A.LOAITHANHVIEN_ID, A.SUDUNG_BHTN, A.THE_ID, A.THANHVIEN_ID, A.VIP, A.NGUON_BENHNHAN_ID, A.BAOLANH_VIENPHI,            CASE WHEN (A.TRANGTHAI = 'NOITRU' OR A.TRANGTHAI = 'CAPCUU') THEN 'IN' ELSE 'OUT' END AS LOAIBENHAN,            CASE WHEN (C.TRANGTHAI = 'CHUAKETQUA') THEN 'CHUAKETQUA' ELSE 'HOANTAT' END AS TRANGTHAIDICHVU,            B.*, isnull(ntba.SOBENHAN, '') SOBENHAN, isnull(ntba.BENHAN_ID, 0) BENHAN_ID,            CASE WHEN Left(E.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(E.MANHOMDICHVU,2) END AS MANHOMDICHVU            from TT_TIEPNHAN A            inner join TT_BENHNHAN B on B.BENHNHAN_ID = A.BENHNHAN_ID and B.ACTIVE = '1'            inner join TT_DVYEUCAU C on C.TIEPNHAN_ID = A.TIEPNHAN_ID                        left join TM_DICHVU D on D.DICHVU_ID = C.DICHVU_ID            left join TM_NHOMDICHVU E on E.NHOMDICHVU_ID = D.NHOMDICHVU_ID            left join TT_NOITRU_BENHAN ntba on ntba.BENHAN_ID = C.BENHAN_ID              where            C.NGAYHENCLS is NULL and A.BENHVIEN_ID = 'HLU01'            and (A.TRANGTHAI = 'DATIEPNHAN' or A.TRANGTHAI = 'NOITRU' or A.TRANGTHAI = 'CAPCUU' or A.TRANGTHAI = 'NGOAITRU')            and (CASE WHEN Left(E.MANHOMDICHVU,2) = '03' THEN '02' ELSE Left(E.MANHOMDICHVU,2) END in ('02', '04'))            and A.TIEPNHAN_ID = '']
2019-08-19 10:11:52,262 [1] DEBUG - Statement Id: [DAO00200_GetDetail] PreparedStatement : [select *              from TM_REPORT              where TM_REPORT.REPORT_CODE  = 'RIS01P00601' AND TM_REPORT.BENHVIEN_ID = 'HLU01']
2019-08-19 10:11:52,543 [1] DEBUG - Statement Id: [DAO00201_GetList] PreparedStatement : [select *              from TM_REPORT_DETAIL               where                             TM_REPORT_DETAIL.REPORT_CODE = 'RIS01P00601'                       and                           TM_REPORT_DETAIL.BENHVIEN_ID = 'HLU01'                                     order by PARAMETER_INDEX]
2019-08-19 10:11:52,576 [1] DEBUG - Statement Id: [DAO00203_GetList] PreparedStatement : [select *              from TM_REPORT_SUB_DEFINITION               where                             TM_REPORT_SUB_DEFINITION.REPORT_CODE = 'RIS01P00601'                       and                           TM_REPORT_SUB_DEFINITION.BENHVIEN_ID = 'HLU01'                                     order by REPORT_SUB_DEFINITION_ID]
2019-08-19 10:11:52,603 [1] DEBUG - Statement Id: [DAO00201_GetListByParentReportID] PreparedStatement : [select RD.*              from TM_REPORT AS R              INNER JOIN TM_REPORT_SUB_DEFINITION AS RS ON R.REPORT_CODE = RS.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              INNER JOIN TM_REPORT_DETAIL AS RD ON RD.REPORT_CODE = RS.SUB_REPORT_CODE AND RD.BENHVIEN_ID = RS.BENHVIEN_ID              where R.REPORT_CODE  = 'RIS01P00601' AND R.BENHVIEN_ID = 'HLU01']
2019-08-19 10:11:52,660 [1] DEBUG - Statement Id: [DAO00203_GetListReportSubFileByReportID] PreparedStatement : [select R.*              from TM_REPORT_SUB_DEFINITION AS RS              inner join TM_REPORT AS R ON RS.SUB_REPORT_CODE = R.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              where RS.REPORT_CODE = 'RIS01P00601' AND RS.BENHVIEN_ID = 'HLU01']
2019-08-19 10:11:52,708 [1] DEBUG - Statement Id: [DAO00204_GetListParameter] PreparedStatement : [SELECT SUBSTRING(p.name, 2, LEN(p.name) - 1) AS PARAMETER, p.parameter_id AS Idx, CONVERT(varchar(1),p.is_nullable) as Allow_Null              FROM sys.procedures sp              INNER JOIN sys.parameters p ON sp.object_id = p.object_id              WHERE sp.name = 'RIS01P00601_PTLKQCDHA'              ORDER BY p.parameter_id]
2019-08-19 10:11:52,744 [1] DEBUG - Statement Id: [DAO00204_GetReportData] PreparedStatement : [RIS01P00601_PTLKQCDHA]
2019-08-19 10:11:52,744 [1] DEBUG - Statement Id: [DAO00204_GetReportData] Parameters: [@SOPHIEU=[PARAMETERS.SOPHIEU,95451], @IMAGES=[PARAMETERS.IMAGES,null], @MABENHVIEN=[PARAMETERS.MABENHVIEN,HLU01]]
2019-08-19 10:11:52,744 [1] DEBUG - Statement Id: [DAO00204_GetReportData] Types: [@SOPHIEU=[Int64, System.Int64], @IMAGES=[System.DBNull, null], @MABENHVIEN=[String, System.String]]
2019-08-19 10:11:52,858 [1] DEBUG - Statement Id: [DAO00200_GetSettingReportPrinting] PreparedStatement : [SELECT DICTIONARY_CODE AS REPORT_CODE, DICTIONARY_NAME AS COMPUTER_NAME, DICTIONARY_NAME_EN AS NAME_PRINTER          FROM LST_DICTIONARY          WHERE BENHVIEN_ID = 'HLU01' AND ENABLED = '1' AND DICTIONARY_TYPE_CODE = 'Report_Printer_Setting'          AND DICTIONARY_CODE = 'RIS01P00601' AND DICTIONARY_NAME = 'GMC-HAIPN6']
2019-08-19 10:12:25,935 [1] DEBUG - Statement Id: [DAO00200_GetDetail] PreparedStatement : [select *              from TM_REPORT              where TM_REPORT.REPORT_CODE  = 'RIS01P00601' AND TM_REPORT.BENHVIEN_ID = 'HLU01']
2019-08-19 10:12:26,033 [1] DEBUG - Statement Id: [DAO00201_GetList] PreparedStatement : [select *              from TM_REPORT_DETAIL               where                             TM_REPORT_DETAIL.REPORT_CODE = 'RIS01P00601'                       and                           TM_REPORT_DETAIL.BENHVIEN_ID = 'HLU01'                                     order by PARAMETER_INDEX]
2019-08-19 10:12:26,069 [1] DEBUG - Statement Id: [DAO00203_GetList] PreparedStatement : [select *              from TM_REPORT_SUB_DEFINITION               where                             TM_REPORT_SUB_DEFINITION.REPORT_CODE = 'RIS01P00601'                       and                           TM_REPORT_SUB_DEFINITION.BENHVIEN_ID = 'HLU01'                                     order by REPORT_SUB_DEFINITION_ID]
2019-08-19 10:12:26,100 [1] DEBUG - Statement Id: [DAO00201_GetListByParentReportID] PreparedStatement : [select RD.*              from TM_REPORT AS R              INNER JOIN TM_REPORT_SUB_DEFINITION AS RS ON R.REPORT_CODE = RS.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              INNER JOIN TM_REPORT_DETAIL AS RD ON RD.REPORT_CODE = RS.SUB_REPORT_CODE AND RD.BENHVIEN_ID = RS.BENHVIEN_ID              where R.REPORT_CODE  = 'RIS01P00601' AND R.BENHVIEN_ID = 'HLU01']
2019-08-19 10:12:26,168 [1] DEBUG - Statement Id: [DAO00203_GetListReportSubFileByReportID] PreparedStatement : [select R.*              from TM_REPORT_SUB_DEFINITION AS RS              inner join TM_REPORT AS R ON RS.SUB_REPORT_CODE = R.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              where RS.REPORT_CODE = 'RIS01P00601' AND RS.BENHVIEN_ID = 'HLU01']
2019-08-19 10:12:26,218 [1] DEBUG - Statement Id: [DAO00204_GetListParameter] PreparedStatement : [SELECT SUBSTRING(p.name, 2, LEN(p.name) - 1) AS PARAMETER, p.parameter_id AS Idx, CONVERT(varchar(1),p.is_nullable) as Allow_Null              FROM sys.procedures sp              INNER JOIN sys.parameters p ON sp.object_id = p.object_id              WHERE sp.name = 'RIS01P00601_PTLKQCDHA'              ORDER BY p.parameter_id]
2019-08-19 10:12:26,260 [1] DEBUG - Statement Id: [DAO00204_GetReportData] PreparedStatement : [RIS01P00601_PTLKQCDHA]
2019-08-19 10:12:26,260 [1] DEBUG - Statement Id: [DAO00204_GetReportData] Parameters: [@SOPHIEU=[PARAMETERS.SOPHIEU,95451], @IMAGES=[PARAMETERS.IMAGES,null], @MABENHVIEN=[PARAMETERS.MABENHVIEN,HLU01]]
2019-08-19 10:12:26,260 [1] DEBUG - Statement Id: [DAO00204_GetReportData] Types: [@SOPHIEU=[Int64, System.Int64], @IMAGES=[System.DBNull, null], @MABENHVIEN=[String, System.String]]
2019-08-19 10:12:26,364 [1] DEBUG - Statement Id: [DAO00200_GetSettingReportPrinting] PreparedStatement : [SELECT DICTIONARY_CODE AS REPORT_CODE, DICTIONARY_NAME AS COMPUTER_NAME, DICTIONARY_NAME_EN AS NAME_PRINTER          FROM LST_DICTIONARY          WHERE BENHVIEN_ID = 'HLU01' AND ENABLED = '1' AND DICTIONARY_TYPE_CODE = 'Report_Printer_Setting'          AND DICTIONARY_CODE = 'RIS01P00601' AND DICTIONARY_NAME = 'GMC-HAIPN6']
2019-08-19 10:12:36,215 [1] DEBUG - Statement Id: [DAO00200_GetDetail] PreparedStatement : [select *              from TM_REPORT              where TM_REPORT.REPORT_CODE  = 'RIS01P00601' AND TM_REPORT.BENHVIEN_ID = 'HLU01']
2019-08-19 10:12:36,338 [1] DEBUG - Statement Id: [DAO00201_GetList] PreparedStatement : [select *              from TM_REPORT_DETAIL               where                             TM_REPORT_DETAIL.REPORT_CODE = 'RIS01P00601'                       and                           TM_REPORT_DETAIL.BENHVIEN_ID = 'HLU01'                                     order by PARAMETER_INDEX]
2019-08-19 10:12:36,438 [1] DEBUG - Statement Id: [DAO00203_GetList] PreparedStatement : [select *              from TM_REPORT_SUB_DEFINITION               where                             TM_REPORT_SUB_DEFINITION.REPORT_CODE = 'RIS01P00601'                       and                           TM_REPORT_SUB_DEFINITION.BENHVIEN_ID = 'HLU01'                                     order by REPORT_SUB_DEFINITION_ID]
2019-08-19 10:12:36,777 [1] DEBUG - Statement Id: [DAO00201_GetListByParentReportID] PreparedStatement : [select RD.*              from TM_REPORT AS R              INNER JOIN TM_REPORT_SUB_DEFINITION AS RS ON R.REPORT_CODE = RS.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              INNER JOIN TM_REPORT_DETAIL AS RD ON RD.REPORT_CODE = RS.SUB_REPORT_CODE AND RD.BENHVIEN_ID = RS.BENHVIEN_ID              where R.REPORT_CODE  = 'RIS01P00601' AND R.BENHVIEN_ID = 'HLU01']
2019-08-19 10:12:36,862 [1] DEBUG - Statement Id: [DAO00203_GetListReportSubFileByReportID] PreparedStatement : [select R.*              from TM_REPORT_SUB_DEFINITION AS RS              inner join TM_REPORT AS R ON RS.SUB_REPORT_CODE = R.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              where RS.REPORT_CODE = 'RIS01P00601' AND RS.BENHVIEN_ID = 'HLU01']
2019-08-19 10:12:36,898 [1] DEBUG - Statement Id: [DAO00204_GetListParameter] PreparedStatement : [SELECT SUBSTRING(p.name, 2, LEN(p.name) - 1) AS PARAMETER, p.parameter_id AS Idx, CONVERT(varchar(1),p.is_nullable) as Allow_Null              FROM sys.procedures sp              INNER JOIN sys.parameters p ON sp.object_id = p.object_id              WHERE sp.name = 'RIS01P00601_PTLKQCDHA'              ORDER BY p.parameter_id]
2019-08-19 10:12:36,941 [1] DEBUG - Statement Id: [DAO00204_GetReportData] PreparedStatement : [RIS01P00601_PTLKQCDHA]
2019-08-19 10:12:36,941 [1] DEBUG - Statement Id: [DAO00204_GetReportData] Parameters: [@SOPHIEU=[PARAMETERS.SOPHIEU,95451], @IMAGES=[PARAMETERS.IMAGES,null], @MABENHVIEN=[PARAMETERS.MABENHVIEN,HLU01]]
2019-08-19 10:12:36,941 [1] DEBUG - Statement Id: [DAO00204_GetReportData] Types: [@SOPHIEU=[Int64, System.Int64], @IMAGES=[System.DBNull, null], @MABENHVIEN=[String, System.String]]
2019-08-19 10:12:37,269 [1] DEBUG - Statement Id: [DAO00200_GetSettingReportPrinting] PreparedStatement : [SELECT DICTIONARY_CODE AS REPORT_CODE, DICTIONARY_NAME AS COMPUTER_NAME, DICTIONARY_NAME_EN AS NAME_PRINTER          FROM LST_DICTIONARY          WHERE BENHVIEN_ID = 'HLU01' AND ENABLED = '1' AND DICTIONARY_TYPE_CODE = 'Report_Printer_Setting'          AND DICTIONARY_CODE = 'RIS01P00601' AND DICTIONARY_NAME = 'GMC-HAIPN6']
2019-08-19 10:15:02,072 [1] DEBUG - Statement Id: [DAO00200_GetDetail] PreparedStatement : [select *              from TM_REPORT              where TM_REPORT.REPORT_CODE  = 'RIS01P00601' AND TM_REPORT.BENHVIEN_ID = 'HLU01']
2019-08-19 10:15:02,126 [1] DEBUG - Statement Id: [DAO00201_GetList] PreparedStatement : [select *              from TM_REPORT_DETAIL               where                             TM_REPORT_DETAIL.REPORT_CODE = 'RIS01P00601'                       and                           TM_REPORT_DETAIL.BENHVIEN_ID = 'HLU01'                                     order by PARAMETER_INDEX]
2019-08-19 10:15:02,159 [1] DEBUG - Statement Id: [DAO00203_GetList] PreparedStatement : [select *              from TM_REPORT_SUB_DEFINITION               where                             TM_REPORT_SUB_DEFINITION.REPORT_CODE = 'RIS01P00601'                       and                           TM_REPORT_SUB_DEFINITION.BENHVIEN_ID = 'HLU01'                                     order by REPORT_SUB_DEFINITION_ID]
2019-08-19 10:15:02,185 [1] DEBUG - Statement Id: [DAO00201_GetListByParentReportID] PreparedStatement : [select RD.*              from TM_REPORT AS R              INNER JOIN TM_REPORT_SUB_DEFINITION AS RS ON R.REPORT_CODE = RS.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              INNER JOIN TM_REPORT_DETAIL AS RD ON RD.REPORT_CODE = RS.SUB_REPORT_CODE AND RD.BENHVIEN_ID = RS.BENHVIEN_ID              where R.REPORT_CODE  = 'RIS01P00601' AND R.BENHVIEN_ID = 'HLU01']
2019-08-19 10:15:02,246 [1] DEBUG - Statement Id: [DAO00203_GetListReportSubFileByReportID] PreparedStatement : [select R.*              from TM_REPORT_SUB_DEFINITION AS RS              inner join TM_REPORT AS R ON RS.SUB_REPORT_CODE = R.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              where RS.REPORT_CODE = 'RIS01P00601' AND RS.BENHVIEN_ID = 'HLU01']
2019-08-19 10:15:02,709 [1] DEBUG - Statement Id: [DAO00204_GetListParameter] PreparedStatement : [SELECT SUBSTRING(p.name, 2, LEN(p.name) - 1) AS PARAMETER, p.parameter_id AS Idx, CONVERT(varchar(1),p.is_nullable) as Allow_Null              FROM sys.procedures sp              INNER JOIN sys.parameters p ON sp.object_id = p.object_id              WHERE sp.name = 'RIS01P00601_PTLKQCDHA'              ORDER BY p.parameter_id]
2019-08-19 10:15:02,739 [1] DEBUG - Statement Id: [DAO00204_GetReportData] PreparedStatement : [RIS01P00601_PTLKQCDHA]
2019-08-19 10:15:02,741 [1] DEBUG - Statement Id: [DAO00204_GetReportData] Parameters: [@SOPHIEU=[PARAMETERS.SOPHIEU,95451], @IMAGES=[PARAMETERS.IMAGES,null], @MABENHVIEN=[PARAMETERS.MABENHVIEN,HLU01]]
2019-08-19 10:15:02,741 [1] DEBUG - Statement Id: [DAO00204_GetReportData] Types: [@SOPHIEU=[Int64, System.Int64], @IMAGES=[System.DBNull, null], @MABENHVIEN=[String, System.String]]
2019-08-19 10:15:02,947 [1] DEBUG - Statement Id: [DAO00200_GetSettingReportPrinting] PreparedStatement : [SELECT DICTIONARY_CODE AS REPORT_CODE, DICTIONARY_NAME AS COMPUTER_NAME, DICTIONARY_NAME_EN AS NAME_PRINTER          FROM LST_DICTIONARY          WHERE BENHVIEN_ID = 'HLU01' AND ENABLED = '1' AND DICTIONARY_TYPE_CODE = 'Report_Printer_Setting'          AND DICTIONARY_CODE = 'RIS01P00601' AND DICTIONARY_NAME = 'GMC-HAIPN6']
2019-08-19 10:15:54,637 [1] DEBUG - Statement Id: [DAO00200_GetDetail] PreparedStatement : [select *              from TM_REPORT              where TM_REPORT.REPORT_CODE  = 'RIS01P00601' AND TM_REPORT.BENHVIEN_ID = 'HLU01']
2019-08-19 10:15:54,715 [1] DEBUG - Statement Id: [DAO00201_GetList] PreparedStatement : [select *              from TM_REPORT_DETAIL               where                             TM_REPORT_DETAIL.REPORT_CODE = 'RIS01P00601'                       and                           TM_REPORT_DETAIL.BENHVIEN_ID = 'HLU01'                                     order by PARAMETER_INDEX]
2019-08-19 10:15:54,796 [1] DEBUG - Statement Id: [DAO00203_GetList] PreparedStatement : [select *              from TM_REPORT_SUB_DEFINITION               where                             TM_REPORT_SUB_DEFINITION.REPORT_CODE = 'RIS01P00601'                       and                           TM_REPORT_SUB_DEFINITION.BENHVIEN_ID = 'HLU01'                                     order by REPORT_SUB_DEFINITION_ID]
2019-08-19 10:15:54,824 [1] DEBUG - Statement Id: [DAO00201_GetListByParentReportID] PreparedStatement : [select RD.*              from TM_REPORT AS R              INNER JOIN TM_REPORT_SUB_DEFINITION AS RS ON R.REPORT_CODE = RS.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              INNER JOIN TM_REPORT_DETAIL AS RD ON RD.REPORT_CODE = RS.SUB_REPORT_CODE AND RD.BENHVIEN_ID = RS.BENHVIEN_ID              where R.REPORT_CODE  = 'RIS01P00601' AND R.BENHVIEN_ID = 'HLU01']
2019-08-19 10:15:54,880 [1] DEBUG - Statement Id: [DAO00203_GetListReportSubFileByReportID] PreparedStatement : [select R.*              from TM_REPORT_SUB_DEFINITION AS RS              inner join TM_REPORT AS R ON RS.SUB_REPORT_CODE = R.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              where RS.REPORT_CODE = 'RIS01P00601' AND RS.BENHVIEN_ID = 'HLU01']
2019-08-19 10:15:54,910 [1] DEBUG - Statement Id: [DAO00204_GetListParameter] PreparedStatement : [SELECT SUBSTRING(p.name, 2, LEN(p.name) - 1) AS PARAMETER, p.parameter_id AS Idx, CONVERT(varchar(1),p.is_nullable) as Allow_Null              FROM sys.procedures sp              INNER JOIN sys.parameters p ON sp.object_id = p.object_id              WHERE sp.name = 'RIS01P00601_PTLKQCDHA'              ORDER BY p.parameter_id]
2019-08-19 10:15:54,940 [1] DEBUG - Statement Id: [DAO00204_GetReportData] PreparedStatement : [RIS01P00601_PTLKQCDHA]
2019-08-19 10:15:54,940 [1] DEBUG - Statement Id: [DAO00204_GetReportData] Parameters: [@SOPHIEU=[PARAMETERS.SOPHIEU,95451], @IMAGES=[PARAMETERS.IMAGES,null], @MABENHVIEN=[PARAMETERS.MABENHVIEN,HLU01]]
2019-08-19 10:15:54,940 [1] DEBUG - Statement Id: [DAO00204_GetReportData] Types: [@SOPHIEU=[Int64, System.Int64], @IMAGES=[System.DBNull, null], @MABENHVIEN=[String, System.String]]
2019-08-19 10:15:55,051 [1] DEBUG - Statement Id: [DAO00200_GetSettingReportPrinting] PreparedStatement : [SELECT DICTIONARY_CODE AS REPORT_CODE, DICTIONARY_NAME AS COMPUTER_NAME, DICTIONARY_NAME_EN AS NAME_PRINTER          FROM LST_DICTIONARY          WHERE BENHVIEN_ID = 'HLU01' AND ENABLED = '1' AND DICTIONARY_TYPE_CODE = 'Report_Printer_Setting'          AND DICTIONARY_CODE = 'RIS01P00601' AND DICTIONARY_NAME = 'GMC-HAIPN6']
2019-08-19 10:16:21,598 [1] DEBUG - Statement Id: [DAO00200_GetDetail] PreparedStatement : [select *              from TM_REPORT              where TM_REPORT.REPORT_CODE  = 'RIS01P00601' AND TM_REPORT.BENHVIEN_ID = 'HLU01']
2019-08-19 10:16:21,654 [1] DEBUG - Statement Id: [DAO00201_GetList] PreparedStatement : [select *              from TM_REPORT_DETAIL               where                             TM_REPORT_DETAIL.REPORT_CODE = 'RIS01P00601'                       and                           TM_REPORT_DETAIL.BENHVIEN_ID = 'HLU01'                                     order by PARAMETER_INDEX]
2019-08-19 10:16:21,687 [1] DEBUG - Statement Id: [DAO00203_GetList] PreparedStatement : [select *              from TM_REPORT_SUB_DEFINITION               where                             TM_REPORT_SUB_DEFINITION.REPORT_CODE = 'RIS01P00601'                       and                           TM_REPORT_SUB_DEFINITION.BENHVIEN_ID = 'HLU01'                                     order by REPORT_SUB_DEFINITION_ID]
2019-08-19 10:16:21,743 [1] DEBUG - Statement Id: [DAO00201_GetListByParentReportID] PreparedStatement : [select RD.*              from TM_REPORT AS R              INNER JOIN TM_REPORT_SUB_DEFINITION AS RS ON R.REPORT_CODE = RS.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              INNER JOIN TM_REPORT_DETAIL AS RD ON RD.REPORT_CODE = RS.SUB_REPORT_CODE AND RD.BENHVIEN_ID = RS.BENHVIEN_ID              where R.REPORT_CODE  = 'RIS01P00601' AND R.BENHVIEN_ID = 'HLU01']
2019-08-19 10:16:21,818 [1] DEBUG - Statement Id: [DAO00203_GetListReportSubFileByReportID] PreparedStatement : [select R.*              from TM_REPORT_SUB_DEFINITION AS RS              inner join TM_REPORT AS R ON RS.SUB_REPORT_CODE = R.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              where RS.REPORT_CODE = 'RIS01P00601' AND RS.BENHVIEN_ID = 'HLU01']
2019-08-19 10:16:21,850 [1] DEBUG - Statement Id: [DAO00204_GetListParameter] PreparedStatement : [SELECT SUBSTRING(p.name, 2, LEN(p.name) - 1) AS PARAMETER, p.parameter_id AS Idx, CONVERT(varchar(1),p.is_nullable) as Allow_Null              FROM sys.procedures sp              INNER JOIN sys.parameters p ON sp.object_id = p.object_id              WHERE sp.name = 'RIS01P00601_PTLKQCDHA'              ORDER BY p.parameter_id]
2019-08-19 10:16:21,876 [1] DEBUG - Statement Id: [DAO00204_GetReportData] PreparedStatement : [RIS01P00601_PTLKQCDHA]
2019-08-19 10:16:21,876 [1] DEBUG - Statement Id: [DAO00204_GetReportData] Parameters: [@SOPHIEU=[PARAMETERS.SOPHIEU,95451], @IMAGES=[PARAMETERS.IMAGES,null], @MABENHVIEN=[PARAMETERS.MABENHVIEN,HLU01]]
2019-08-19 10:16:21,877 [1] DEBUG - Statement Id: [DAO00204_GetReportData] Types: [@SOPHIEU=[Int64, System.Int64], @IMAGES=[System.DBNull, null], @MABENHVIEN=[String, System.String]]
2019-08-19 10:16:21,986 [1] DEBUG - Statement Id: [DAO00200_GetSettingReportPrinting] PreparedStatement : [SELECT DICTIONARY_CODE AS REPORT_CODE, DICTIONARY_NAME AS COMPUTER_NAME, DICTIONARY_NAME_EN AS NAME_PRINTER          FROM LST_DICTIONARY          WHERE BENHVIEN_ID = 'HLU01' AND ENABLED = '1' AND DICTIONARY_TYPE_CODE = 'Report_Printer_Setting'          AND DICTIONARY_CODE = 'RIS01P00601' AND DICTIONARY_NAME = 'GMC-HAIPN6']
2019-08-19 10:17:08,384 [1] DEBUG - Statement Id: [DAO00200_GetDetail] PreparedStatement : [select *              from TM_REPORT              where TM_REPORT.REPORT_CODE  = 'RIS01P00601' AND TM_REPORT.BENHVIEN_ID = 'HLU01']
2019-08-19 10:17:08,460 [1] DEBUG - Statement Id: [DAO00201_GetList] PreparedStatement : [select *              from TM_REPORT_DETAIL               where                             TM_REPORT_DETAIL.REPORT_CODE = 'RIS01P00601'                       and                           TM_REPORT_DETAIL.BENHVIEN_ID = 'HLU01'                                     order by PARAMETER_INDEX]
2019-08-19 10:17:08,492 [1] DEBUG - Statement Id: [DAO00203_GetList] PreparedStatement : [select *              from TM_REPORT_SUB_DEFINITION               where                             TM_REPORT_SUB_DEFINITION.REPORT_CODE = 'RIS01P00601'                       and                           TM_REPORT_SUB_DEFINITION.BENHVIEN_ID = 'HLU01'                                     order by REPORT_SUB_DEFINITION_ID]
2019-08-19 10:17:08,523 [1] DEBUG - Statement Id: [DAO00201_GetListByParentReportID] PreparedStatement : [select RD.*              from TM_REPORT AS R              INNER JOIN TM_REPORT_SUB_DEFINITION AS RS ON R.REPORT_CODE = RS.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              INNER JOIN TM_REPORT_DETAIL AS RD ON RD.REPORT_CODE = RS.SUB_REPORT_CODE AND RD.BENHVIEN_ID = RS.BENHVIEN_ID              where R.REPORT_CODE  = 'RIS01P00601' AND R.BENHVIEN_ID = 'HLU01']
2019-08-19 10:17:08,600 [1] DEBUG - Statement Id: [DAO00203_GetListReportSubFileByReportID] PreparedStatement : [select R.*              from TM_REPORT_SUB_DEFINITION AS RS              inner join TM_REPORT AS R ON RS.SUB_REPORT_CODE = R.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              where RS.REPORT_CODE = 'RIS01P00601' AND RS.BENHVIEN_ID = 'HLU01']
2019-08-19 10:17:08,655 [1] DEBUG - Statement Id: [DAO00204_GetListParameter] PreparedStatement : [SELECT SUBSTRING(p.name, 2, LEN(p.name) - 1) AS PARAMETER, p.parameter_id AS Idx, CONVERT(varchar(1),p.is_nullable) as Allow_Null              FROM sys.procedures sp              INNER JOIN sys.parameters p ON sp.object_id = p.object_id              WHERE sp.name = 'RIS01P00601_PTLKQCDHA'              ORDER BY p.parameter_id]
2019-08-19 10:17:08,700 [1] DEBUG - Statement Id: [DAO00204_GetReportData] PreparedStatement : [RIS01P00601_PTLKQCDHA]
2019-08-19 10:17:08,700 [1] DEBUG - Statement Id: [DAO00204_GetReportData] Parameters: [@SOPHIEU=[PARAMETERS.SOPHIEU,95451], @IMAGES=[PARAMETERS.IMAGES,null], @MABENHVIEN=[PARAMETERS.MABENHVIEN,HLU01]]
2019-08-19 10:17:08,700 [1] DEBUG - Statement Id: [DAO00204_GetReportData] Types: [@SOPHIEU=[Int64, System.Int64], @IMAGES=[System.DBNull, null], @MABENHVIEN=[String, System.String]]
2019-08-19 10:17:08,909 [1] DEBUG - Statement Id: [DAO00200_GetSettingReportPrinting] PreparedStatement : [SELECT DICTIONARY_CODE AS REPORT_CODE, DICTIONARY_NAME AS COMPUTER_NAME, DICTIONARY_NAME_EN AS NAME_PRINTER          FROM LST_DICTIONARY          WHERE BENHVIEN_ID = 'HLU01' AND ENABLED = '1' AND DICTIONARY_TYPE_CODE = 'Report_Printer_Setting'          AND DICTIONARY_CODE = 'RIS01P00601' AND DICTIONARY_NAME = 'GMC-HAIPN6']
2019-08-19 10:18:52,434 [1] DEBUG - Statement Id: [DAO00200_GetDetail] PreparedStatement : [select *              from TM_REPORT              where TM_REPORT.REPORT_CODE  = 'RIS01P00601' AND TM_REPORT.BENHVIEN_ID = 'HLU01']
2019-08-19 10:18:52,817 [1] DEBUG - Statement Id: [DAO00201_GetList] PreparedStatement : [select *              from TM_REPORT_DETAIL               where                             TM_REPORT_DETAIL.REPORT_CODE = 'RIS01P00601'                       and                           TM_REPORT_DETAIL.BENHVIEN_ID = 'HLU01'                                     order by PARAMETER_INDEX]
2019-08-19 10:18:52,901 [1] DEBUG - Statement Id: [DAO00203_GetList] PreparedStatement : [select *              from TM_REPORT_SUB_DEFINITION               where                             TM_REPORT_SUB_DEFINITION.REPORT_CODE = 'RIS01P00601'                       and                           TM_REPORT_SUB_DEFINITION.BENHVIEN_ID = 'HLU01'                                     order by REPORT_SUB_DEFINITION_ID]
2019-08-19 10:18:52,953 [1] DEBUG - Statement Id: [DAO00201_GetListByParentReportID] PreparedStatement : [select RD.*              from TM_REPORT AS R              INNER JOIN TM_REPORT_SUB_DEFINITION AS RS ON R.REPORT_CODE = RS.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              INNER JOIN TM_REPORT_DETAIL AS RD ON RD.REPORT_CODE = RS.SUB_REPORT_CODE AND RD.BENHVIEN_ID = RS.BENHVIEN_ID              where R.REPORT_CODE  = 'RIS01P00601' AND R.BENHVIEN_ID = 'HLU01']
2019-08-19 10:18:53,071 [1] DEBUG - Statement Id: [DAO00203_GetListReportSubFileByReportID] PreparedStatement : [select R.*              from TM_REPORT_SUB_DEFINITION AS RS              inner join TM_REPORT AS R ON RS.SUB_REPORT_CODE = R.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              where RS.REPORT_CODE = 'RIS01P00601' AND RS.BENHVIEN_ID = 'HLU01']
2019-08-19 10:18:53,149 [1] DEBUG - Statement Id: [DAO00204_GetListParameter] PreparedStatement : [SELECT SUBSTRING(p.name, 2, LEN(p.name) - 1) AS PARAMETER, p.parameter_id AS Idx, CONVERT(varchar(1),p.is_nullable) as Allow_Null              FROM sys.procedures sp              INNER JOIN sys.parameters p ON sp.object_id = p.object_id              WHERE sp.name = 'RIS01P00601_PTLKQCDHA'              ORDER BY p.parameter_id]
2019-08-19 10:18:53,175 [1] DEBUG - Statement Id: [DAO00204_GetReportData] PreparedStatement : [RIS01P00601_PTLKQCDHA]
2019-08-19 10:18:53,175 [1] DEBUG - Statement Id: [DAO00204_GetReportData] Parameters: [@SOPHIEU=[PARAMETERS.SOPHIEU,95451], @IMAGES=[PARAMETERS.IMAGES,null], @MABENHVIEN=[PARAMETERS.MABENHVIEN,HLU01]]
2019-08-19 10:18:53,175 [1] DEBUG - Statement Id: [DAO00204_GetReportData] Types: [@SOPHIEU=[Int64, System.Int64], @IMAGES=[System.DBNull, null], @MABENHVIEN=[String, System.String]]
2019-08-19 10:18:53,287 [1] DEBUG - Statement Id: [DAO00200_GetSettingReportPrinting] PreparedStatement : [SELECT DICTIONARY_CODE AS REPORT_CODE, DICTIONARY_NAME AS COMPUTER_NAME, DICTIONARY_NAME_EN AS NAME_PRINTER          FROM LST_DICTIONARY          WHERE BENHVIEN_ID = 'HLU01' AND ENABLED = '1' AND DICTIONARY_TYPE_CODE = 'Report_Printer_Setting'          AND DICTIONARY_CODE = 'RIS01P00601' AND DICTIONARY_NAME = 'GMC-HAIPN6']
--------------------------------------------------------------------------------
2019-08-19 16:30:22,390 [1] DEBUG - Statement Id: [DAO00001_DBList] PreparedStatement : [select *              from TM_SYS_SERVER              where HOSPITAL_ID = '_SYSTEM_' and TYPE = 'D']
2019-08-19 16:30:22,644 [1] DEBUG - Statement Id: [DAO00001_DaoList] PreparedStatement : [select              TM_SYS_SERVICEMAP.ID,              TM_SYS_SERVICEMAP.HOSPITAL_ID,              TM_SYS_SERVICEMAP.DB_NAME,              TM_SYS_SERVICEMAP.TYPE,              TM_SYS_SERVICEMAP.NAME,              TM_SYS_SERVICEMAP.CLASS,              (TM_SYS_DIC.VALUE + '.' + TM_SYS_SERVICEMAP.CLASS) as CLASSFULL,              TM_SYS_SERVICEMAP.ASSEMBLY              from TM_SYS_SERVICEMAP              inner join TM_SYS_DIC              on TM_SYS_SERVICEMAP.NAMESPACE = TM_SYS_DIC.ID              where HOSPITAL_ID = '_SYSTEM_' AND TYPE = 'D' AND ACTIVE = '1'              order by DB_NAME]
2019-08-19 16:30:22,685 [1] DEBUG - Statement Id: [DAO00001_ServiceList] PreparedStatement : [select              TM_SYS_SERVICEMAP.ID,              TM_SYS_SERVICEMAP.HOSPITAL_ID,              TM_SYS_SERVICEMAP.DB_NAME,              TM_SYS_SERVICEMAP.TYPE,              TM_SYS_SERVICEMAP.NAME,              TM_SYS_SERVICEMAP.CLASS,              (TM_SYS_DIC.VALUE + '.' + TM_SYS_SERVICEMAP.CLASS) as CLASSFULL,              TM_SYS_SERVICEMAP.ASSEMBLY,              TM_SYS_SERVER.URL              from TM_SYS_SERVICEMAP              inner join TM_SYS_DIC on TM_SYS_SERVICEMAP.NAMESPACE = TM_SYS_DIC.ID              inner join TM_SYS_SERVER on (TM_SYS_SERVICEMAP.DB_NAME = TM_SYS_SERVER.NAME) and (TM_SYS_SERVER.HOSPITAL_ID = '_SYSTEM_')              where TM_SYS_SERVICEMAP.HOSPITAL_ID = '_SYSTEM_' AND TM_SYS_SERVICEMAP.TYPE = 'S'  AND ACTIVE = '1'              order by URL]
2019-08-19 16:30:23,440 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = '_SYSTEM_'               AND                   TM_SYS_SCREEN.PAGE = 'LOGIN'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 16:30:23,771 [1] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = '_SYSTEM_'               AND                   TM_SYS_CACHE.ACTIVE = '1']
2019-08-19 16:30:31,269 [1] DEBUG - Statement Id: [DAO00001_DBList] PreparedStatement : [select *              from TM_SYS_SERVER              where HOSPITAL_ID = 'HLU01' and TYPE = 'D']
2019-08-19 16:30:31,295 [1] DEBUG - Statement Id: [DAO00001_DaoList] PreparedStatement : [select              TM_SYS_SERVICEMAP.ID,              TM_SYS_SERVICEMAP.HOSPITAL_ID,              TM_SYS_SERVICEMAP.DB_NAME,              TM_SYS_SERVICEMAP.TYPE,              TM_SYS_SERVICEMAP.NAME,              TM_SYS_SERVICEMAP.CLASS,              (TM_SYS_DIC.VALUE + '.' + TM_SYS_SERVICEMAP.CLASS) as CLASSFULL,              TM_SYS_SERVICEMAP.ASSEMBLY              from TM_SYS_SERVICEMAP              inner join TM_SYS_DIC              on TM_SYS_SERVICEMAP.NAMESPACE = TM_SYS_DIC.ID              where HOSPITAL_ID = 'HLU01' AND TYPE = 'D' AND ACTIVE = '1'              order by DB_NAME]
2019-08-19 16:30:37,532 [1] DEBUG - Statement Id: [DAO00001_ServiceList] PreparedStatement : [select              TM_SYS_SERVICEMAP.ID,              TM_SYS_SERVICEMAP.HOSPITAL_ID,              TM_SYS_SERVICEMAP.DB_NAME,              TM_SYS_SERVICEMAP.TYPE,              TM_SYS_SERVICEMAP.NAME,              TM_SYS_SERVICEMAP.CLASS,              (TM_SYS_DIC.VALUE + '.' + TM_SYS_SERVICEMAP.CLASS) as CLASSFULL,              TM_SYS_SERVICEMAP.ASSEMBLY,              TM_SYS_SERVER.URL              from TM_SYS_SERVICEMAP              inner join TM_SYS_DIC on TM_SYS_SERVICEMAP.NAMESPACE = TM_SYS_DIC.ID              inner join TM_SYS_SERVER on (TM_SYS_SERVICEMAP.DB_NAME = TM_SYS_SERVER.NAME) and (TM_SYS_SERVER.HOSPITAL_ID = 'HLU01')              where TM_SYS_SERVICEMAP.HOSPITAL_ID = 'HLU01' AND TM_SYS_SERVICEMAP.TYPE = 'S'  AND ACTIVE = '1'              order by URL]
2019-08-19 16:30:37,647 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1']
2019-08-19 16:30:38,879 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM005']
2019-08-19 16:30:41,152 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM015']
2019-08-19 16:30:41,296 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM067']
2019-08-19 16:30:41,381 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM008']
2019-08-19 16:30:41,519 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM068']
2019-08-19 16:30:41,648 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM006']
2019-08-19 16:30:42,082 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM030']
2019-08-19 16:30:42,217 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM025']
2019-08-19 16:30:42,337 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM024']
2019-08-19 16:30:43,101 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM033']
2019-08-19 16:30:43,503 [5] DEBUG - Statement Id: [DAO00027_GetListDuocKyGuiTonKho] PreparedStatement : [select  distinct TT_TONKHO.DUOC_KEY, LTRIM(TT_TONKHO.KHODUOC_ID) as KHODUOC_ID, TM_DUOC.DUOC_ID, TM_LOAIDUOC.MALOAIDUOC,TM_DUOC.SOVISA,TM_DUOC.TYLE_VAT,TM_DUOC.COTOA,        TM_DUOC.MADUOC, TM_DUOC.TENHANG, TM_DUOC.TENDUOCDAYDU, dvt.TENDONVITINH as DONVITINH,  TM_DUOC.DONVITINH_ID,TM_DUOC.BHYT,TM_DUOC.PHAMVI,        TM_DUOC.TENHOATCHAT, TM_DUOC.HAMLUONG, TM_DUOC.HANGSANXUAT, TM_DUOC.QUOCGIA, TM_DUOC.LOAIDUOC_ID, TM_DUOC.DUONGDUNG_ID,        TM_TENDUOC.TENDUOC, TM_TENDUOC.TENDUOC_EN, TM_TENDUOC.MAQUOCTE, TM_TENDUOC.MAQUOCTEBT,        TM_LOAIDUOC.LOAIVATTU_ID, TM_DUOC.BENHVIEN_ID,TT_TONKHO.SOLUONG, TT_TONKHO.NGUONDUOC_ID, NH.TENNGUONDUOC        , TAMNGUNG = CASE WHEN TM_DUOC.TAMNGUNG = '1' OR nh.TAMNGUNG = '1' OR KD.TAMNGUNG = '1' THEN '1' ELSE '0' END        , TM_DUOC.DANGTRINHBAY        from TM_DUOC        left join TM_DONVITINH dvt on dvt.DONVITINH_ID = TM_DUOC.DONVITINH_ID        left join TM_TENDUOC on TM_DUOC.TENDUOC_ID = TM_TENDUOC.TENDUOC_ID and TM_DUOC.BENHVIEN_ID = 'HLU01' and TM_DUOC.TAMNGUNG = '0'        left join TM_LOAIDUOC on TM_LOAIDUOC.LOAIDUOC_ID = TM_DUOC.LOAIDUOC_ID and TM_LOAIDUOC.BENHVIEN_ID = 'HLU01'        left join TM_DUOC_HANDUNG on (TM_LOAIDUOC.LOAIVATTU_ID = TM_DUOC_HANDUNG.LOAIDUOC and TM_DUOC_HANDUNG.BENHVIEN_ID = 'HLU01')        inner join        (select LTRIM(A.KHODUOC_ID) + '_' + LTRIM(A.DUOC_ID) + '_' + LTRIM(ISNULL(A.NGUONDUOC_ID,'')) as DUOC_KEY, A.KHODUOC_ID, A.DUOC_ID,A.NGUONDUOC_ID,        SUM(isnull(A.SOLUONG,0)) as SOLUONG        from        (select SUM(SOLUONG) as SOLUONG, KHODUOC_ID, DUOC_ID, NGUONDUOC_ID from TT_DUOC_KYGUI_TONKHO        where BENHVIEN_ID = 'HLU01' group by KHODUOC_ID, DUOC_ID, NGUONDUOC_ID) A        group by LTRIM(A.KHODUOC_ID) + '_' + LTRIM(A.DUOC_ID) + '_' + LTRIM(A.NGUONDUOC_ID), A.KHODUOC_ID, A.DUOC_ID, A.NGUONDUOC_ID)        TT_TONKHO on TT_TONKHO.DUOC_ID = TM_DUOC.DUOC_ID        left join TM_NGUONHANG nh on nh.NGUONDUOC_ID = TT_TONKHO.NGUONDUOC_ID and nh.BENHVIEN_ID = 'HLU01'        LEFT JOIN TM_KHODUOC KD ON KD.KHODUOC_ID = TT_TONKHO.KHODUOC_ID        where TM_DUOC.BENHVIEN_ID = 'HLU01' AND TT_TONKHO.SOLUONG >= 0]
2019-08-19 16:30:43,577 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM018']
2019-08-19 16:30:43,631 [5] DEBUG - Statement Id: [DAO00027_GetListDuocTonKho] PreparedStatement : [select distinct TT_TONKHO.DUOC_KEY, LTRIM(TT_TONKHO.KHODUOC_ID) as KHODUOC_ID, TM_DUOC.DUOC_ID, TM_LOAIDUOC.MALOAIDUOC,TM_DUOC.SOVISA,TM_DUOC.TYLE_VAT,TM_DUOC.COTOA,        TM_DUOC.MADUOC, TM_DUOC.TENHANG, TM_DUOC.TENDUOCDAYDU, dvt.TENDONVITINH as DONVITINH,  TM_DUOC.DONVITINH_ID,TM_DUOC.BHYT,                TM_DUOC.TENHOATCHAT,          TM_DUOC.HAMLUONG, TM_DUOC.HANGSANXUAT, TM_DUOC.QUOCGIA, TM_DUOC.LOAIDUOC_ID, TM_DUOC.DUONGDUNG_ID,        TM_TENDUOC.TENDUOC, TM_TENDUOC.TENDUOC_EN, TM_TENDUOC.MAQUOCTE, TM_TENDUOC.MAQUOCTEBT,        TM_LOAIDUOC.LOAIVATTU_ID, TM_DUOC.BENHVIEN_ID,        TT_TONKHO.SOLUONG, TM_DUOC.VTYT_PHANLOAI, TM_DUOC.PHAMVI, TT_TONKHO.NGUONDUOC_ID, NG.TENNGUONDUOC AS TENNGUONDUOC        , TAMNGUNG = CASE WHEN TM_DUOC.TAMNGUNG = '1' OR NG.TAMNGUNG = '1' OR KD.TAMNGUNG = '1' THEN '1' ELSE '0' END        , TM_DUOC.DANGTRINHBAY        from TM_DUOC        left join TM_DONVITINH dvt on dvt.DONVITINH_ID = TM_DUOC.DONVITINH_ID        left join TM_TENDUOC on TM_DUOC.TENDUOC_ID = TM_TENDUOC.TENDUOC_ID and TM_DUOC.BENHVIEN_ID = 'HLU01' and TM_DUOC.TAMNGUNG = '0'        left join TM_LOAIDUOC on TM_LOAIDUOC.LOAIDUOC_ID = TM_DUOC.LOAIDUOC_ID and TM_LOAIDUOC.BENHVIEN_ID = 'HLU01'        left join TM_DUOC_HANDUNG on (TM_LOAIDUOC.LOAIVATTU_ID = TM_DUOC_HANDUNG.LOAIDUOC and TM_DUOC_HANDUNG.BENHVIEN_ID = 'HLU01')        inner join        (select LTRIM(A.KHODUOC_ID) + '_' + LTRIM(A.DUOC_ID) + '_' + LTRIM(ISNULL(A.NGUONDUOC_ID,'')) as DUOC_KEY, A.KHODUOC_ID, A.DUOC_ID, A.NGUONDUOC_ID,        SUM(isnull(A.SOLUONG,0)) as SOLUONG        from        (select SUM(SOLUONG) as SOLUONG, KHODUOC_ID, DUOC_ID, NGUONDUOC_ID from TT_DUOC_TONKHO        where BENHVIEN_ID = 'HLU01' group by KHODUOC_ID, DUOC_ID, NGUONDUOC_ID) A        group by LTRIM(A.KHODUOC_ID) + '_' + LTRIM(A.DUOC_ID) + '_' + LTRIM(ISNULL(A.NGUONDUOC_ID,'')), A.KHODUOC_ID, A.DUOC_ID, NGUONDUOC_ID        ) TT_TONKHO on TT_TONKHO.DUOC_ID = TM_DUOC.DUOC_ID        LEFT JOIN TM_NGUONHANG NG ON NG.NGUONDUOC_ID = TT_TONKHO.NGUONDUOC_ID        LEFT JOIN TM_KHODUOC KD ON KD.KHODUOC_ID = TT_TONKHO.KHODUOC_ID        where TM_DUOC.BENHVIEN_ID = 'HLU01' and TT_TONKHO.SOLUONG >= 0]
2019-08-19 16:30:45,024 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM023']
2019-08-19 16:30:45,059 [5] DEBUG - Statement Id: [DAO00027_GetListDuocTonKhoVaBooking] PreparedStatement : [declare @TOAMUANGOAI int = 0;        select @TOAMUANGOAI = isnull(VALUE,0) from TM_SYS_APPSETTINGS where CODE = 'OPD_TOAMUANGOAI_DUNGDANHMUC_DUOC'                if @TOAMUANGOAI = 1        begin        select  distinct '0' + '_' + LTRIM(d.DUOC_ID) + '_' + '0' as DUOC_KEY, 0 as PHAMVI_ID, 0 as NGUONDUOC_ID, null as TENNGUONDUOC, null as TINHTIEN, d.DUOC_ID, ld.MALOAIDUOC,        d.SOVISA,d.TYLE_VAT,d.COTOA, d.MADUOC, d.TENHANG, d.TENDUOCDAYDU, d.DONVITINH as DONVITINH, d.BHYT,        d.TENHOATCHAT, d.HAMLUONG, d.HANGSANXUAT, d.QUOCGIA, d.LOAIDUOC_ID, d.DUONGDUNG_ID, d.TINHTIEN_PTTT,        ten.TENDUOC, ten.TENDUOC_EN, ten.MAQUOCTE, ten.MAQUOCTEBT,        '' as BHYT_TEXT        , ld.LOAIVATTU_ID        , d.BENHVIEN_ID,        999999999 as SOLUONG, d.VTYT_PHANLOAI, d.PHAMVI, d.SUASOLUONGTONGHOP, d.MADUOCBV, d.DANGTRINHBAY        , TAMNGUNG = CASE WHEN d.TAMNGUNG = '1' THEN '1' ELSE '0' END        from TM_DUOC d        left join TM_DONVITINH dvt on dvt.DONVITINH_ID = d.DONVITINH_ID        left join TM_TENDUOC ten on d.TENDUOC_ID = ten.TENDUOC_ID        left join TM_LOAIDUOC ld on ld.LOAIDUOC_ID = d.LOAIDUOC_ID and ld.BENHVIEN_ID = 'HLU01'        left join TM_DUOC_HANDUNG hd on (ld.LOAIVATTU_ID = hd.LOAIDUOC  and hd.BENHVIEN_ID = 'HLU01')        union all        select  distinct tk.DUOC_KEY, LTRIM(tk.PHAMVI_ID) as PHAMVI_ID, tk.NGUONDUOC_ID, nh.TENNGUONDUOC, nh.TINHTIEN, d.DUOC_ID, ld.MALOAIDUOC,        d.SOVISA,d.TYLE_VAT,d.COTOA, d.MADUOC, d.TENHANG, d.TENDUOCDAYDU, dvt.TENDONVITINH as DONVITINH, d.BHYT,        d.TENHOATCHAT, d.HAMLUONG, d.HANGSANXUAT, d.QUOCGIA, d.LOAIDUOC_ID, d.DUONGDUNG_ID, d.TINHTIEN_PTTT,        ten.TENDUOC, ten.TENDUOC_EN, ten.MAQUOCTE, ten.MAQUOCTEBT,        CASE WHEN d.BHYT = '1' THEN 'BHYT' ELSE '' END as BHYT_TEXT        , ld.LOAIVATTU_ID        , d.BENHVIEN_ID,        tk.SOLUONG, d.VTYT_PHANLOAI, d.PHAMVI, d.SUASOLUONGTONGHOP, d.MADUOCBV, d.DANGTRINHBAY        , TAMNGUNG = CASE WHEN d.TAMNGUNG = '1' OR nh.TAMNGUNG = '1' OR kd.TAMNGUNG = '1' THEN '1' ELSE '0' END        from TM_DUOC d        left join TM_DONVITINH dvt on dvt.DONVITINH_ID = d.DONVITINH_ID        left join TM_TENDUOC ten on d.TENDUOC_ID = ten.TENDUOC_ID        left join TM_LOAIDUOC ld on ld.LOAIDUOC_ID = d.LOAIDUOC_ID and ld.BENHVIEN_ID = 'HLU01'        left join TM_DUOC_HANDUNG hd on (ld.LOAIVATTU_ID = hd.LOAIDUOC  and hd.BENHVIEN_ID = 'HLU01')        inner join        (        select  LTRIM(pvsd.PHAMVI_ID)  + '_' + LTRIM(dtk.DUOC_ID) + '_' + LTRIM(ISNULL(dtk.NGUONDUOC_ID,'')) DUOC_KEY, (SUM(dtk.SOLUONG) - isnull(sum(A.SOLUONG),0) - isnull(sum(B.SOLUONG),0)) SOLUONG, pvsd.PHAMVI_ID, dtk.NGUONDUOC_ID, dtk.DUOC_ID        from (select sum(soluong) soluong,duoc_id,nguonduoc_id,khoduoc_id,benhvien_id from TT_DUOC_TONKHO  group by duoc_id,nguonduoc_id,khoduoc_id,benhvien_id) dtk        inner join TM_DUOC_PHAMVISD_MAPPING pvsd on dtk.KHODUOC_ID = pvsd.KHODUOC_ID        left join (select sum(SOLUONG) SOLUONG, PHAMVI_ID, DUOC_ID, NGUONHANG_ID from  TT_DUOC_TONKHO_BOOK_NOITRU where TRANGTHAI != 'HUY'        group by  PHAMVI_ID, DUOC_ID, NGUONHANG_ID) B on B.DUOC_ID = dtk.DUOC_ID and B.SOLUONG > 0 and B.PHAMVI_ID = pvsd.PHAMVI_ID and B.NGUONHANG_ID = dtk.NGUONDUOC_ID        left join (select sum(SOLUONG) SOLUONG, PHAMVI_ID, DUOC_ID, NGUONHANG_ID from  TT_DUOC_TONKHO_BOOK_NGOAITRU where TRANGTHAI != 'HUY'        group by  PHAMVI_ID, DUOC_ID, NGUONHANG_ID) A on A.DUOC_ID = dtk.DUOC_ID and A.SOLUONG > 0 and A.PHAMVI_ID = pvsd.PHAMVI_ID and A.NGUONHANG_ID = dtk.NGUONDUOC_ID        where dtk.SOLUONG > 0 and dtk.BENHVIEN_ID = 'HLU01'        group by LTRIM(pvsd.PHAMVI_ID)  + '_' + LTRIM(dtk.DUOC_ID) + '_' + LTRIM(ISNULL(dtk.NGUONDUOC_ID,'')), pvsd.PHAMVI_ID, dtk.NGUONDUOC_ID, dtk.DUOC_ID        ) tk on tk.DUOC_ID = d.DUOC_ID        left join TM_DUOC_PHAMVISUDUNG kd on kd.PHAMVI_ID = tk.PHAMVI_ID and kd.BENHVIEN_ID = 'HLU01'        left join TM_NGUONHANG nh on nh.NGUONDUOC_ID = tk.NGUONDUOC_ID and nh.BENHVIEN_ID = 'HLU01'        where d.BENHVIEN_ID = 'HLU01'  and tk.SOLUONG >= 0         end                else        begin        select  distinct tk.DUOC_KEY, LTRIM(tk.PHAMVI_ID) as PHAMVI_ID, tk.NGUONDUOC_ID, nh.TENNGUONDUOC, nh.TINHTIEN, d.DUOC_ID, ld.MALOAIDUOC,        d.SOVISA,d.TYLE_VAT,d.COTOA, d.MADUOC, d.TENHANG, d.TENDUOCDAYDU, d.DONVITINH as DONVITINH, d.BHYT,        d.TENHOATCHAT, d.HAMLUONG, d.HANGSANXUAT, d.QUOCGIA, d.LOAIDUOC_ID, d.DUONGDUNG_ID, d.TINHTIEN_PTTT,        ten.TENDUOC, ten.TENDUOC_EN, ten.MAQUOCTE, ten.MAQUOCTEBT,        CASE WHEN d.BHYT = '1' THEN 'BHYT' ELSE '' END as BHYT_TEXT        , ld.LOAIVATTU_ID        , d.BENHVIEN_ID,        tk.SOLUONG, d.VTYT_PHANLOAI, d.PHAMVI, d.SUASOLUONGTONGHOP, d.MADUOCBV, d.DANGTRINHBAY        , TAMNGUNG = CASE WHEN d.TAMNGUNG = '1' OR nh.TAMNGUNG = '1' OR kd.TAMNGUNG = '1' THEN '1' ELSE '0' END        from TM_DUOC d        left join TM_DONVITINH dvt on dvt.DONVITINH_ID = d.DONVITINH_ID        left join TM_TENDUOC ten on d.TENDUOC_ID = ten.TENDUOC_ID        left join TM_LOAIDUOC ld on ld.LOAIDUOC_ID = d.LOAIDUOC_ID and ld.BENHVIEN_ID = 'HLU01'        left join TM_DUOC_HANDUNG hd on (ld.LOAIVATTU_ID = hd.LOAIDUOC  and hd.BENHVIEN_ID = 'HLU01')        inner join        (        select  LTRIM(pvsd.PHAMVI_ID)  + '_' + LTRIM(dtk.DUOC_ID) + '_' + LTRIM(ISNULL(dtk.NGUONDUOC_ID,'')) DUOC_KEY, (SUM(dtk.SOLUONG) - isnull(sum(A.SOLUONG),0) - isnull(sum(B.SOLUONG),0)) SOLUONG, pvsd.PHAMVI_ID, dtk.NGUONDUOC_ID, dtk.DUOC_ID        from (select sum(soluong) soluong,duoc_id,nguonduoc_id,khoduoc_id,benhvien_id from TT_DUOC_TONKHO  group by duoc_id,nguonduoc_id,khoduoc_id,benhvien_id) dtk        inner join TM_DUOC_PHAMVISD_MAPPING pvsd on dtk.KHODUOC_ID = pvsd.KHODUOC_ID        left join (select sum(SOLUONG) SOLUONG, PHAMVI_ID, DUOC_ID, NGUONHANG_ID from  TT_DUOC_TONKHO_BOOK_NOITRU where TRANGTHAI != 'HUY'        group by  PHAMVI_ID, DUOC_ID, NGUONHANG_ID) B on B.DUOC_ID = dtk.DUOC_ID and B.SOLUONG > 0 and B.PHAMVI_ID = pvsd.PHAMVI_ID and B.NGUONHANG_ID = dtk.NGUONDUOC_ID        left join (select sum(SOLUONG) SOLUONG, PHAMVI_ID, DUOC_ID, NGUONHANG_ID from  TT_DUOC_TONKHO_BOOK_NGOAITRU where TRANGTHAI != 'HUY'        group by  PHAMVI_ID, DUOC_ID, NGUONHANG_ID) A on A.DUOC_ID = dtk.DUOC_ID and A.SOLUONG > 0 and A.PHAMVI_ID = pvsd.PHAMVI_ID and A.NGUONHANG_ID = dtk.NGUONDUOC_ID        where dtk.SOLUONG > 0 and dtk.BENHVIEN_ID = 'HLU01'        group by LTRIM(pvsd.PHAMVI_ID)  + '_' + LTRIM(dtk.DUOC_ID) + '_' + LTRIM(ISNULL(dtk.NGUONDUOC_ID,'')), pvsd.PHAMVI_ID, dtk.NGUONDUOC_ID, dtk.DUOC_ID        ) tk on tk.DUOC_ID = d.DUOC_ID        left join TM_DUOC_PHAMVISUDUNG kd on kd.PHAMVI_ID = tk.PHAMVI_ID and kd.BENHVIEN_ID = 'HLU01'        left join TM_NGUONHANG nh on nh.NGUONDUOC_ID = tk.NGUONDUOC_ID and nh.BENHVIEN_ID = 'HLU01'        where d.BENHVIEN_ID = 'HLU01'  and tk.SOLUONG >= 0        end]
2019-08-19 16:30:47,443 [5] DEBUG - Statement Id: [DAO00320_GetList] PreparedStatement : [select M.*            from TM_MAU M            LEFT JOIN TM_MAU_DONVITINH DVT on M.DONVITINH_ID=DVT.DONVITINH_ID            where            M.TAMNGUNG = '0'            and M.BENHVIEN_ID = 'HLU01'            order by M.TENMAU]
2019-08-19 16:30:47,508 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM071']
2019-08-19 16:30:47,569 [5] DEBUG - Statement Id: [DAO00322_GetListMauTonKhoForCreateCached] PreparedStatement : [SELECT DISTINCT          TK.MAU_KEY, TK.KHOMAU_ID, M.MAU_ID, M.MAMAU, M.TENMAU, M.NHOM_ABO, M.NHOM_RH, M.LOAIMAU_ID,          TK.SOLONHAP_ID, SLN.SOLONHAP, SLN.SOKIEMSOAT, TK.NGUONHANG_ID, NG.TENNGUONMAU, M.BENHVIEN_ID, M.DONVITINH_ID,          SUM(tk.SOLUONG) AS SOLUONG,K.TENKHO,DVT.TENDONVITINH          FROM TT_MAU_TONKHO TK          JOIN TM_KHO K ON TK.KHOMAU_ID = K.KHO_ID          JOIN TT_MAU_CHUNGTU_SOLONHAP SLN ON TK.SOLONHAP_ID = SLN.SOLONHAP_ID          JOIN TM_MAU M on TK.MAU_ID = M.MAU_ID and M.TAMNGUNG = '0'          LEFT JOIN TM_MAU_DONVITINH DVT on M.DONVITINH_ID=DVT.DONVITINH_ID          LEFT JOIN TM_NGUONMAU NG ON NG.NGUONMAU_ID = TK.NGUONHANG_ID          WHERE TK.SOLUONG > 0          GROUP BY TK.MAU_KEY, TK.KHOMAU_ID, M.MAU_ID, M.MAMAU, M.TENMAU, M.NHOM_ABO, M.NHOM_RH, M.LOAIMAU_ID,          TK.SOLONHAP_ID, SLN.SOLONHAP, SLN.SOKIEMSOAT,TK.NGUONHANG_ID, NG.TENNGUONMAU, M.BENHVIEN_ID, M.DONVITINH_ID,K.TENKHO,DVT.TENDONVITINH]
2019-08-19 16:30:47,637 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM073']
2019-08-19 16:30:47,669 [5] DEBUG - Statement Id: [DAO00322_GetListMauTonKhoTruBooking] PreparedStatement : [select distinct          TK.MAU_KEY, TK.KHOMAU_ID, M.MAU_ID, M.MAMAU, M.TENMAU, M.NHOM_ABO, M.NHOM_RH, M.LOAIMAU_ID, M.DONVITINH_ID,          TK.SOLONHAP_ID, TK.SOLONHAP, TK.SOKIEMSOAT,M.PHAMVI, TK.NGUONHANG_ID, NG.TENNGUONMAU, M.BENHVIEN_ID,          TK.SOLUONG,TK.TENKHO,DVT.TENDONVITINH          from TM_MAU M          JOIN          (          select          A.MAU_KEY, A.KHOMAU_ID, A.MAU_ID ,a.NGUONHANG_ID, A.SOLONHAP_ID, A.SOLONHAP, A.SOKIEMSOAT, A.SOLUONG,A.TENKHO          from          (          select KHOMAU_ID, TK.MAU_ID, TK.NGUONHANG_ID, TK.MAU_KEY, SLN.SOLONHAP_ID, SLN.SOLONHAP, SLN.SOKIEMSOAT, ISNULL(TK.SOLUONG,0) - ISNULL(book.SOLUONG,0) as SOLUONG,K.TENKHO          from TT_MAU_TONKHO TK          JOIN TM_KHO K ON TK.KHOMAU_ID = K.KHO_ID          inner join TT_MAU_CHUNGTU_SOLONHAP SLN ON TK.SOLONHAP_ID = SLN.SOLONHAP_ID          left join dbo.TT_MAU_TONKHO_BOOK book ON book.MAU_KEY = TK.MAU_KEY AND book.TRANGTHAI = 'HIEULUC'          where ISNULL(TK.SOLUONG,0) - ISNULL(book.SOLUONG,0) > 0          ) A          )TK on TK.MAU_ID = M.MAU_ID and M.TAMNGUNG = '0'          LEFT JOIN TM_MAU_DONVITINH DVT on M.DONVITINH_ID=DVT.DONVITINH_ID          LEFT JOIN TM_NGUONMAU NG ON NG.NGUONMAU_ID = TK.NGUONHANG_ID]
2019-08-19 16:30:47,743 [5] DEBUG - Statement Id: [DAO00003_CacheList] PreparedStatement : [select *              from TM_SYS_CACHE              where HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_CACHE.ACTIVE = '1'               AND                   TM_SYS_CACHE.DAO_ID = 'COM072']
2019-08-19 16:30:48,722 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'MAIN'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 16:30:51,715 [1] DEBUG - Statement Id: [DAO00002_FormList] PreparedStatement : [select              TM_SYS_FORM.HOSPITAL_ID,              TM_SYS_FORM.NAME,              TM_SYS_FORM.CLASS,              TM_SYS_FORM.ASSEMBLY,              TM_SYS_FORM.TITLE_VI as TITLE              from TM_SYS_FORM              where HOSPITAL_ID = 'HLU01']
2019-08-19 16:31:00,241 [1] DEBUG - Statement Id: [DAO00300_GetShortcutListByUserID] PreparedStatement : [SELECT S.SHORTCUT_CODE, S.SHORTCUT_VALUE              FROM TM_SHORTCUT AS S              WHERE S.BENHVIEN_ID = 'HLU01' AND S.USER_ID = '1' AND TAMNGUNG = '0']
2019-08-19 16:31:00,268 [1] DEBUG - Statement Id: [DAO00087_GetList] PreparedStatement : [select CODE, VALUE, BENHVIEN_ID              from TM_SYS_APPSETTINGS              where LOCKED = '0' and BENHVIEN_ID = 'HLU01'              order by SETTING_ID]
2019-08-19 16:31:00,339 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'MSG01'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 16:31:00,477 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'MSG02'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 16:31:00,832 [1] DEBUG - Statement Id: [DAO00008_GetUserSettings] PreparedStatement : [select A.*, B.TENKHO , C.TENPHONGBAN, B.MAKHO, C.MAPHONGBAN          from TM_SYS_USERS A          left join TM_KHODUOC B on B.KHODUOC_ID = A.INVENTORY_ID          left join TM_PHONGBAN C on (C.PHONGBAN_ID = A.WORKING_DEPT_ID and C.BENHVIEN_ID =  @param0 )          left join TM_SYS_USERKHO D on (D.ACCOUNT_ID = A.ACCOUNT_ID and D.HOSPITAL_ID =  @param0 )          where          A.HOSPITAL_ID =  @param0            and                 A.ACCOUNT_ID =  @param1]
2019-08-19 16:31:00,834 [1] DEBUG - Statement Id: [DAO00008_GetUserSettings] Parameters: [@param0=[HOSPITAL_ID,HLU01], @param1=[ACCOUNT_ID,113]]
2019-08-19 16:31:00,834 [1] DEBUG - Statement Id: [DAO00008_GetUserSettings] Types: [@param0=[String, System.String], @param1=[String, System.String]]
2019-08-19 16:31:00,878 [1] DEBUG - Statement Id: [DAO00008_GetUserInvSettings] PreparedStatement : [select A.*, B.TENKHO, B.MAKHO, B.LOAIKHO_ID, B.KHOQUANLY_ID          from TM_SYS_USERKHO A          left join TM_KHO B on B.MODULE_ID = A.MODULE_ID and B.KHO_ID = A.KHO_ID          where A.HOSPITAL_ID =  @param0  and A.ACCOUNT_ID =  @param1           order by B.TENKHO]
2019-08-19 16:31:00,878 [1] DEBUG - Statement Id: [DAO00008_GetUserInvSettings] Parameters: [@param0=[HOSPITAL_ID,HLU01], @param1=[ACCOUNT_ID,113]]
2019-08-19 16:31:00,878 [1] DEBUG - Statement Id: [DAO00008_GetUserInvSettings] Types: [@param0=[String, System.String], @param1=[String, System.String]]
2019-08-19 16:31:01,143 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'COM30'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 16:31:01,472 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'RIS04'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 16:31:22,860 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'MENU1'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 16:31:23,029 [1] DEBUG - Statement Id: [DAO00011_GetList] PreparedStatement : [select              TM_SYS_MENU.ID,              TM_SYS_MENU.PARENTID,              TM_SYS_MENU.SCREEN,              TM_SYS_MENU.SMALLIMAGE,              TM_SYS_MENU.LARGEIMAGE,              TM_SYS_MENU.DESCRIPTION,              TM_SYS_MENU.TYPE,              TM_SYS_MENU.TITLE_VI as TITLE              from TM_SYS_MENU              where TM_SYS_MENU.HOSPITAL_ID = 'HLU01' and TM_SYS_MENU.ACTIVE = '1'               AND                   (TM_SYS_MENU.TYPE & '8' = '8')                             order by TM_SYS_MENU.ORDERNUM]
2019-08-19 16:31:23,460 [1] DEBUG - Statement Id: [DAO00011_usermenu_list] PreparedStatement : [select              TM_SYS_HOMEMENU.MENUID as ID,              TM_SYS_MENU.TITLE_VI as TITLE,              TM_SYS_MENU.SCREEN,              TM_SYS_MENU.SMALLIMAGE,              TM_SYS_MENU.LARGEIMAGE,              TM_SYS_MENU.TYPE              from TM_SYS_HOMEMENU              left join TM_SYS_MENU on TM_SYS_MENU.ID = TM_SYS_HOMEMENU.MENUID and TM_SYS_MENU.HOSPITAL_ID = TM_SYS_HOMEMENU.HOSPITAL_ID              where TM_SYS_HOMEMENU.HOSPITAL_ID = 'HLU01' and TM_SYS_HOMEMENU.USERID = '113' and TM_SYS_MENU.ACTIVE = '1'               AND                   (TM_SYS_MENU.TYPE & '8' = '8')                             ORDER BY TM_SYS_HOMEMENU.ORDERNUM]
2019-08-19 16:33:36,447 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'COM98'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 16:33:37,322 [1] DEBUG - Statement Id: [DAO00020_ListKhoDuocOfPhongBan] PreparedStatement : [select B.* from TM_PHONGBAN_KHODUOC A        inner join TM_KHODUOC B on B.KHODUOC_ID = A.KHODUOC_ID        where        A.PHONGBAN_ID = '91'        and A.BENHVIEN_ID = 'HLU01']
2019-08-19 16:33:42,822 [1] DEBUG - Statement Id: [DAO00020_ListKhoDuocOfPhongBan] PreparedStatement : [select B.* from TM_PHONGBAN_KHODUOC A        inner join TM_KHODUOC B on B.KHODUOC_ID = A.KHODUOC_ID        where        A.PHONGBAN_ID = '38'        and A.BENHVIEN_ID = 'HLU01']
2019-08-19 16:33:43,372 [1] DEBUG - Statement Id: [DAO00008_UpdateUserIdPhongBanKhoDuoc] PreparedStatement : [IF EXISTS            (SELECT ACCOUNT_ID FROM TM_SYS_USERS WHERE ACCOUNT_ID =  @param0  and HOSPITAL_ID =  @param1 )            BEGIN            update TM_SYS_USERS set INVENTORY_ID =  @param2 , WORKING_DEPT_ID =  @param3             WHERE ACCOUNT_ID =  @param0  and HOSPITAL_ID =  @param1             END            ELSE            BEGIN            insert into TM_SYS_USERS ([ACCOUNT_ID], [ACCOUNT_NAME], [INVENTORY_ID], [WORKING_DEPT_ID], [HOSPITAL_ID])            values ( @param0 ,  @param4 ,  @param2 ,  @param3 ,  @param1 )            END]
2019-08-19 16:33:43,373 [1] DEBUG - Statement Id: [DAO00008_UpdateUserIdPhongBanKhoDuoc] Parameters: [@param0=[ACCOUNT_ID,113], @param1=[HOSPITAL_ID,HLU01], @param2=[INVENTORY_ID,1], @param3=[WORKING_DEPT_ID,38], @param4=[ACCOUNT_NAME,admin]]
2019-08-19 16:33:43,373 [1] DEBUG - Statement Id: [DAO00008_UpdateUserIdPhongBanKhoDuoc] Types: [@param0=[String, System.String], @param1=[String, System.String], @param2=[String, System.String], @param3=[String, System.String], @param4=[String, System.String]]
2019-08-19 16:33:49,906 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'PHA34'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 16:33:50,482 [1] DEBUG - Statement Id: [DAO00030_GetDanhSachToaThuoc] PreparedStatement : [declare @tungay datetime = CONVERT(date, '8/19/2019 4:33:50 PM')            declare @denngay datetime = CONVERT(date, DATEADD(day, 1, '8/19/2019 4:33:50 PM'))                        select * from            (select * , COUNT(*) OVER() as TOTALROWS,  ROW_NUMBER() OVER(order by ds.CHUNGTU_ID asc) as ROWNUMBER            from            (            SELECT distinct CT.CHUNGTU_ID, CT.TIEPNHAN_ID,KB.DICHVU_ID,YC.DVYEUCAU_ID , KBTT.BACSI_ID,KBTT.KHAMBENH_TOATHUOC_ID   ,BN.TENBENHNHAN,BN.BENHNHAN_ID            ,BN.MAYTE,BN.NAMSINH,BN.GIOITINH AS GIOITINH_ID,TN.SOTIEPNHAN,ISNULL(CT.DAXACNHAN,'0') DAXACNHAN,CONVERT(nvarchar(10), KBTT.NGAYTOATHUOC, 103) NGAYTOATHUOC,            tn.SOBHYT, TN.NGAYTIEPNHAN, CT.NGAYCHUNGTU, ttnt.TENTOATHUOC, pb.TENPHONGBAN            FROM TT_DUOC_CHUNGTU CT            INNER JOIN TT_NGOAITRU_KHAMBENH_TOATHUOC KBTT ON (CT.CHUNGTU_ID =KBTT.CHUNGTUPHATTHUOC_ID AND KBTT.LOAITOATHUOC = 'BV')            INNER JOIN TT_NGOAITRU_TOATHUOC TT ON KBTT.KHAMBENH_TOATHUOC_ID = TT.KHAMBENH_TOATHUOC_ID            INNER JOIN TT_TIEPNHAN TN ON CT.TIEPNHAN_ID =TN.TIEPNHAN_ID            INNER JOIN TT_BENHNHAN BN ON TN.BENHNHAN_ID =BN.BENHNHAN_ID            INNER JOIN TT_XACNHANCHIPHI xncp ON xncp.TIEPNHAN_ID =TN.TIEPNHAN_ID            LEFT JOIN TT_NGOAITRU_KHAMBENH KB ON TT.KHAMBENH_ID=KB.KHAMBENH_ID            LEFT JOIN TT_DVYEUCAU YC ON KB.KHAMBENH_ID =YC.KHAMBENH_NGOAITRU_ID            left join TM_TOATHUOC_NGOAITRU ttnt on ttnt.MATOATHUOC = KBTT.MATOATHUOC            left join TM_PHONGBAN pb on pb.PHONGBAN_ID = KB.PHONGBAN_ID             where                           isnull(CT.DAXACNHAN,'0') = '0'                       and                         xncp.NGAYXACNHAN >= @tungay                       and                         xncp.NGAYXACNHAN < @denngay                       and                           CT.BENHVIEN_ID = 'HLU01'                                                   AND Ct.KHOXUAT_ID = '1'                                     ) ds            ) ls                            where              ls.ROWNUMBER between 1 and 20]
2019-08-19 16:33:57,648 [1] DEBUG - Statement Id: [DAO00020_ListKhoDuocOfPhongBan] PreparedStatement : [select B.* from TM_PHONGBAN_KHODUOC A        inner join TM_KHODUOC B on B.KHODUOC_ID = A.KHODUOC_ID        where        A.PHONGBAN_ID = ''        and A.BENHVIEN_ID = 'HLU01']
2019-08-19 16:33:57,992 [1] DEBUG - Statement Id: [DAO00020_ListKhoDuocOfPhongBan] PreparedStatement : [select B.* from TM_PHONGBAN_KHODUOC A        inner join TM_KHODUOC B on B.KHODUOC_ID = A.KHODUOC_ID        where        A.PHONGBAN_ID = '38'        and A.BENHVIEN_ID = 'HLU01']
2019-08-19 16:34:02,334 [1] DEBUG - Statement Id: [DAO00008_UpdateUserIdPhongBanKhoDuoc] PreparedStatement : [IF EXISTS            (SELECT ACCOUNT_ID FROM TM_SYS_USERS WHERE ACCOUNT_ID =  @param0  and HOSPITAL_ID =  @param1 )            BEGIN            update TM_SYS_USERS set INVENTORY_ID =  @param2 , WORKING_DEPT_ID =  @param3             WHERE ACCOUNT_ID =  @param0  and HOSPITAL_ID =  @param1             END            ELSE            BEGIN            insert into TM_SYS_USERS ([ACCOUNT_ID], [ACCOUNT_NAME], [INVENTORY_ID], [WORKING_DEPT_ID], [HOSPITAL_ID])            values ( @param0 ,  @param4 ,  @param2 ,  @param3 ,  @param1 )            END]
2019-08-19 16:34:02,335 [1] DEBUG - Statement Id: [DAO00008_UpdateUserIdPhongBanKhoDuoc] Parameters: [@param0=[ACCOUNT_ID,113], @param1=[HOSPITAL_ID,HLU01], @param2=[INVENTORY_ID,2], @param3=[WORKING_DEPT_ID,38], @param4=[ACCOUNT_NAME,admin]]
2019-08-19 16:34:02,335 [1] DEBUG - Statement Id: [DAO00008_UpdateUserIdPhongBanKhoDuoc] Types: [@param0=[String, System.String], @param1=[String, System.String], @param2=[String, System.String], @param3=[String, System.String], @param4=[String, System.String]]
2019-08-19 16:34:15,404 [1] DEBUG - Statement Id: [DAO00030_GetDanhSachToaThuoc] PreparedStatement : [declare @tungay datetime = CONVERT(date, '8/19/2019 4:34:15 PM')            declare @denngay datetime = CONVERT(date, DATEADD(day, 1, '8/19/2019 4:34:15 PM'))                        select * from            (select * , COUNT(*) OVER() as TOTALROWS,  ROW_NUMBER() OVER(order by ds.CHUNGTU_ID asc) as ROWNUMBER            from            (            SELECT distinct CT.CHUNGTU_ID, CT.TIEPNHAN_ID,KB.DICHVU_ID,YC.DVYEUCAU_ID , KBTT.BACSI_ID,KBTT.KHAMBENH_TOATHUOC_ID   ,BN.TENBENHNHAN,BN.BENHNHAN_ID            ,BN.MAYTE,BN.NAMSINH,BN.GIOITINH AS GIOITINH_ID,TN.SOTIEPNHAN,ISNULL(CT.DAXACNHAN,'0') DAXACNHAN,CONVERT(nvarchar(10), KBTT.NGAYTOATHUOC, 103) NGAYTOATHUOC,            tn.SOBHYT, TN.NGAYTIEPNHAN, CT.NGAYCHUNGTU, ttnt.TENTOATHUOC, pb.TENPHONGBAN            FROM TT_DUOC_CHUNGTU CT            INNER JOIN TT_NGOAITRU_KHAMBENH_TOATHUOC KBTT ON (CT.CHUNGTU_ID =KBTT.CHUNGTUPHATTHUOC_ID AND KBTT.LOAITOATHUOC = 'BV')            INNER JOIN TT_NGOAITRU_TOATHUOC TT ON KBTT.KHAMBENH_TOATHUOC_ID = TT.KHAMBENH_TOATHUOC_ID            INNER JOIN TT_TIEPNHAN TN ON CT.TIEPNHAN_ID =TN.TIEPNHAN_ID            INNER JOIN TT_BENHNHAN BN ON TN.BENHNHAN_ID =BN.BENHNHAN_ID            INNER JOIN TT_XACNHANCHIPHI xncp ON xncp.TIEPNHAN_ID =TN.TIEPNHAN_ID            LEFT JOIN TT_NGOAITRU_KHAMBENH KB ON TT.KHAMBENH_ID=KB.KHAMBENH_ID            LEFT JOIN TT_DVYEUCAU YC ON KB.KHAMBENH_ID =YC.KHAMBENH_NGOAITRU_ID            left join TM_TOATHUOC_NGOAITRU ttnt on ttnt.MATOATHUOC = KBTT.MATOATHUOC            left join TM_PHONGBAN pb on pb.PHONGBAN_ID = KB.PHONGBAN_ID             where                           isnull(CT.DAXACNHAN,'0') = '0'                       and                         xncp.NGAYXACNHAN >= @tungay                       and                         xncp.NGAYXACNHAN < @denngay                       and                           CT.BENHVIEN_ID = 'HLU01'                                                   AND Ct.KHOXUAT_ID = '2'                                     ) ds            ) ls                            where              ls.ROWNUMBER between 1 and 20]
2019-08-19 16:34:26,144 [1] DEBUG - Statement Id: [DAO00030_GetDanhSachToaThuoc] PreparedStatement : [declare @tungay datetime = CONVERT(date, '8/1/2019 12:00:00 AM')            declare @denngay datetime = CONVERT(date, DATEADD(day, 1, '8/19/2019 4:34:15 PM'))                        select * from            (select * , COUNT(*) OVER() as TOTALROWS,  ROW_NUMBER() OVER(order by ds.CHUNGTU_ID asc) as ROWNUMBER            from            (            SELECT distinct CT.CHUNGTU_ID, CT.TIEPNHAN_ID,KB.DICHVU_ID,YC.DVYEUCAU_ID , KBTT.BACSI_ID,KBTT.KHAMBENH_TOATHUOC_ID   ,BN.TENBENHNHAN,BN.BENHNHAN_ID            ,BN.MAYTE,BN.NAMSINH,BN.GIOITINH AS GIOITINH_ID,TN.SOTIEPNHAN,ISNULL(CT.DAXACNHAN,'0') DAXACNHAN,CONVERT(nvarchar(10), KBTT.NGAYTOATHUOC, 103) NGAYTOATHUOC,            tn.SOBHYT, TN.NGAYTIEPNHAN, CT.NGAYCHUNGTU, ttnt.TENTOATHUOC, pb.TENPHONGBAN            FROM TT_DUOC_CHUNGTU CT            INNER JOIN TT_NGOAITRU_KHAMBENH_TOATHUOC KBTT ON (CT.CHUNGTU_ID =KBTT.CHUNGTUPHATTHUOC_ID AND KBTT.LOAITOATHUOC = 'BV')            INNER JOIN TT_NGOAITRU_TOATHUOC TT ON KBTT.KHAMBENH_TOATHUOC_ID = TT.KHAMBENH_TOATHUOC_ID            INNER JOIN TT_TIEPNHAN TN ON CT.TIEPNHAN_ID =TN.TIEPNHAN_ID            INNER JOIN TT_BENHNHAN BN ON TN.BENHNHAN_ID =BN.BENHNHAN_ID            INNER JOIN TT_XACNHANCHIPHI xncp ON xncp.TIEPNHAN_ID =TN.TIEPNHAN_ID            LEFT JOIN TT_NGOAITRU_KHAMBENH KB ON TT.KHAMBENH_ID=KB.KHAMBENH_ID            LEFT JOIN TT_DVYEUCAU YC ON KB.KHAMBENH_ID =YC.KHAMBENH_NGOAITRU_ID            left join TM_TOATHUOC_NGOAITRU ttnt on ttnt.MATOATHUOC = KBTT.MATOATHUOC            left join TM_PHONGBAN pb on pb.PHONGBAN_ID = KB.PHONGBAN_ID             where                           isnull(CT.DAXACNHAN,'0') = '0'                       and                         xncp.NGAYXACNHAN >= @tungay                       and                         xncp.NGAYXACNHAN < @denngay                       and                           CT.BENHVIEN_ID = 'HLU01'                                                   AND Ct.KHOXUAT_ID = '2'                                     ) ds            ) ls                            where              ls.ROWNUMBER between 1 and 20]
2019-08-19 16:34:38,185 [1] DEBUG - Statement Id: [DAO00030_GetDanhSachToaThuoc] PreparedStatement : [declare @tungay datetime = CONVERT(date, '7/1/2019 12:00:00 AM')            declare @denngay datetime = CONVERT(date, DATEADD(day, 1, '8/19/2019 4:34:15 PM'))                        select * from            (select * , COUNT(*) OVER() as TOTALROWS,  ROW_NUMBER() OVER(order by ds.CHUNGTU_ID asc) as ROWNUMBER            from            (            SELECT distinct CT.CHUNGTU_ID, CT.TIEPNHAN_ID,KB.DICHVU_ID,YC.DVYEUCAU_ID , KBTT.BACSI_ID,KBTT.KHAMBENH_TOATHUOC_ID   ,BN.TENBENHNHAN,BN.BENHNHAN_ID            ,BN.MAYTE,BN.NAMSINH,BN.GIOITINH AS GIOITINH_ID,TN.SOTIEPNHAN,ISNULL(CT.DAXACNHAN,'0') DAXACNHAN,CONVERT(nvarchar(10), KBTT.NGAYTOATHUOC, 103) NGAYTOATHUOC,            tn.SOBHYT, TN.NGAYTIEPNHAN, CT.NGAYCHUNGTU, ttnt.TENTOATHUOC, pb.TENPHONGBAN            FROM TT_DUOC_CHUNGTU CT            INNER JOIN TT_NGOAITRU_KHAMBENH_TOATHUOC KBTT ON (CT.CHUNGTU_ID =KBTT.CHUNGTUPHATTHUOC_ID AND KBTT.LOAITOATHUOC = 'BV')            INNER JOIN TT_NGOAITRU_TOATHUOC TT ON KBTT.KHAMBENH_TOATHUOC_ID = TT.KHAMBENH_TOATHUOC_ID            INNER JOIN TT_TIEPNHAN TN ON CT.TIEPNHAN_ID =TN.TIEPNHAN_ID            INNER JOIN TT_BENHNHAN BN ON TN.BENHNHAN_ID =BN.BENHNHAN_ID            INNER JOIN TT_XACNHANCHIPHI xncp ON xncp.TIEPNHAN_ID =TN.TIEPNHAN_ID            LEFT JOIN TT_NGOAITRU_KHAMBENH KB ON TT.KHAMBENH_ID=KB.KHAMBENH_ID            LEFT JOIN TT_DVYEUCAU YC ON KB.KHAMBENH_ID =YC.KHAMBENH_NGOAITRU_ID            left join TM_TOATHUOC_NGOAITRU ttnt on ttnt.MATOATHUOC = KBTT.MATOATHUOC            left join TM_PHONGBAN pb on pb.PHONGBAN_ID = KB.PHONGBAN_ID             where                           isnull(CT.DAXACNHAN,'0') = '0'                       and                         xncp.NGAYXACNHAN >= @tungay                       and                         xncp.NGAYXACNHAN < @denngay                       and                           CT.BENHVIEN_ID = 'HLU01'                                                   AND Ct.KHOXUAT_ID = '2'                                     ) ds            ) ls                            where              ls.ROWNUMBER between 1 and 20]
2019-08-19 16:34:44,348 [1] DEBUG - Statement Id: [DAO00030_GetDanhSachToaThuoc] PreparedStatement : [declare @tungay datetime = CONVERT(date, '6/1/2019 12:00:00 AM')            declare @denngay datetime = CONVERT(date, DATEADD(day, 1, '8/19/2019 4:34:15 PM'))                        select * from            (select * , COUNT(*) OVER() as TOTALROWS,  ROW_NUMBER() OVER(order by ds.CHUNGTU_ID asc) as ROWNUMBER            from            (            SELECT distinct CT.CHUNGTU_ID, CT.TIEPNHAN_ID,KB.DICHVU_ID,YC.DVYEUCAU_ID , KBTT.BACSI_ID,KBTT.KHAMBENH_TOATHUOC_ID   ,BN.TENBENHNHAN,BN.BENHNHAN_ID            ,BN.MAYTE,BN.NAMSINH,BN.GIOITINH AS GIOITINH_ID,TN.SOTIEPNHAN,ISNULL(CT.DAXACNHAN,'0') DAXACNHAN,CONVERT(nvarchar(10), KBTT.NGAYTOATHUOC, 103) NGAYTOATHUOC,            tn.SOBHYT, TN.NGAYTIEPNHAN, CT.NGAYCHUNGTU, ttnt.TENTOATHUOC, pb.TENPHONGBAN            FROM TT_DUOC_CHUNGTU CT            INNER JOIN TT_NGOAITRU_KHAMBENH_TOATHUOC KBTT ON (CT.CHUNGTU_ID =KBTT.CHUNGTUPHATTHUOC_ID AND KBTT.LOAITOATHUOC = 'BV')            INNER JOIN TT_NGOAITRU_TOATHUOC TT ON KBTT.KHAMBENH_TOATHUOC_ID = TT.KHAMBENH_TOATHUOC_ID            INNER JOIN TT_TIEPNHAN TN ON CT.TIEPNHAN_ID =TN.TIEPNHAN_ID            INNER JOIN TT_BENHNHAN BN ON TN.BENHNHAN_ID =BN.BENHNHAN_ID            INNER JOIN TT_XACNHANCHIPHI xncp ON xncp.TIEPNHAN_ID =TN.TIEPNHAN_ID            LEFT JOIN TT_NGOAITRU_KHAMBENH KB ON TT.KHAMBENH_ID=KB.KHAMBENH_ID            LEFT JOIN TT_DVYEUCAU YC ON KB.KHAMBENH_ID =YC.KHAMBENH_NGOAITRU_ID            left join TM_TOATHUOC_NGOAITRU ttnt on ttnt.MATOATHUOC = KBTT.MATOATHUOC            left join TM_PHONGBAN pb on pb.PHONGBAN_ID = KB.PHONGBAN_ID             where                           isnull(CT.DAXACNHAN,'0') = '0'                       and                         xncp.NGAYXACNHAN >= @tungay                       and                         xncp.NGAYXACNHAN < @denngay                       and                           CT.BENHVIEN_ID = 'HLU01'                                                   AND Ct.KHOXUAT_ID = '2'                                     ) ds            ) ls                            where              ls.ROWNUMBER between 1 and 20]
2019-08-19 16:38:01,317 [1] DEBUG - Statement Id: [DAO00030_GetDetailToaThuoc] PreparedStatement : [SELECT CTCT.DUOC_ID,CTCT.DONVITINH_ID,CTCT.HANDUNG,SOLO.SOLONHAP,CTCT.SOLUONGDAXUAT,SOLO.SOLOSANPHAM SOCHUNGTUGOC,CT.KHOXUAT_ID,CONVERT(nvarchar(10), CT.NGAYCHUNGTU, 103) NGAYCHUNGTU,CT.MACHUNGTU, CTCT.DONGIAVON AS DONGIA             FROM TT_DUOC_CHUNGTU CT            INNER JOIN TT_DUOC_CHUNGTU_CHITIET CTCT ON CT.CHUNGTU_ID=CTCT.CHUNGTU_ID            INNER JOIN TT_DUOC_CHUNGTU_SOLONHAP SOLO ON CTCT.SOLONHAP_ID=SOLO.SOLONHAP_ID            WHERE CT.CHUNGTU_ID='131751' AND CT.BENHVIEN_ID='HLU01']
2019-08-19 16:38:01,815 [1] DEBUG - Statement Id: [DAO00035_GetList] PreparedStatement : [select *              from TM_DONVITINH              where BENHVIEN_ID = 'HLU01'                             order by DONVITINH_ID]
2019-08-19 16:38:07,572 [1] DEBUG - Statement Id: [DAO00030_GetDetailToaThuoc] PreparedStatement : [SELECT CTCT.DUOC_ID,CTCT.DONVITINH_ID,CTCT.HANDUNG,SOLO.SOLONHAP,CTCT.SOLUONGDAXUAT,SOLO.SOLOSANPHAM SOCHUNGTUGOC,CT.KHOXUAT_ID,CONVERT(nvarchar(10), CT.NGAYCHUNGTU, 103) NGAYCHUNGTU,CT.MACHUNGTU, CTCT.DONGIAVON AS DONGIA             FROM TT_DUOC_CHUNGTU CT            INNER JOIN TT_DUOC_CHUNGTU_CHITIET CTCT ON CT.CHUNGTU_ID=CTCT.CHUNGTU_ID            INNER JOIN TT_DUOC_CHUNGTU_SOLONHAP SOLO ON CTCT.SOLONHAP_ID=SOLO.SOLONHAP_ID            WHERE CT.CHUNGTU_ID='131753' AND CT.BENHVIEN_ID='HLU01']
2019-08-19 16:38:19,488 [1] DEBUG - Statement Id: [DAO00087_GetServiceParams] PreparedStatement : [select CODE, VALUE              from TM_SYS_APPSETTINGS              where LOCKED = '0' and BENHVIEN_ID = 'HLU01']
2019-08-19 16:38:19,778 [1] DEBUG - Statement Id: [DAO00030_GetMucDichChungTuID] PreparedStatement : [SELECT DICTIONARY_ID              FROM              LST_DICTIONARY              WHERE              DICTIONARY_TYPE_CODE = 'MucDichChungTu'              and DICTIONARY_CODE = 'X13']
2019-08-19 16:38:19,924 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'PHA22'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 16:38:21,236 [1] DEBUG - Statement Id: [DAO00030_GET_SOLONHAP] PreparedStatement : [SELECT DISTINCT            SLN.SOLONHAP_ID, SLN.SOLONHAP, SLN.SOLOSANPHAM, SLN.SOKIEMSOAT, SLN.SOVISA, CONVERT(varchar(20), SLN.SOLOSANPHAM) + '/' + CONVERT(varchar(20), TK.SOLUONG) AS SOLOSOTON,            SLN.NGAYNHAP AS NGAYNHAPLO, SLN.HANDUNG AS HANSUDUNG,  SLN.HANDUNG, SLN.NGUONDUOC_ID, SLN.NGUONDUOC_ID as NGUONHANG_ID,            SLNGB.DONGIAMUA, SLNGB.DONGIAVON, SLNGB.TYLEVAT_DAUVAO as TYLEVAT, d.TYLE_VAT, SLNGB.DONGIAVONVAT, SLNGB.DONGIABAN, SLNGB.DONGIABANVAT_DAUVAO as DONGIABAN_VAT,            TK.DUOCTONKHO_ID, TK.KHODUOC_ID, TK.DUOC_ID, TK.SOLUONG, TK.SOLUONG AS SOLUONGTON,            D.TENDUOCDAYDU,D.DONVITINH_ID, D.DONVITINH, D.BHYT, NH.TENNGUONDUOC AS NGUONHANG,            LTRIM(TK.KHODUOC_ID) + '_' + LTRIM(TK.DUOC_ID) + '_' + LTRIM(TK.NGUONDUOC_ID) as DUOC_KEY, D.SO_QDTT            FROM            TT_DUOC_CHUNGTU_SOLONHAP SLN,            TT_DUOC_TONKHO TK,            TT_DUOC_SOLONHAP_GIABAN SLNGB,            TM_DUOC D,            TM_NGUONHANG NH            WHERE            SLN.SOLONHAP_ID = TK.SOLONHAP_ID            AND SLN.SOLONHAP_ID = SLNGB.SOLONHAP_ID            AND SLN.NGUONDUOC_ID = NH.NGUONDUOC_ID            AND SLN.DUOC_ID = D.DUOC_ID            AND TK.DUOC_ID = ''            AND TK.KHODUOC_ID = ''            AND SLN.BENHVIEN_ID = 'HLU01'            AND TK.SOLUONG > 0                 and                     SLN.NGUONDUOC_ID = '1'                                      ORDER BY NGAYNHAP]
2019-08-19 16:38:21,296 [1] DEBUG - Statement Id: [DAO00030_GetMucDichChungTuID] PreparedStatement : [SELECT DICTIONARY_ID              FROM              LST_DICTIONARY              WHERE              DICTIONARY_TYPE_CODE = 'MucDichChungTu'              and DICTIONARY_CODE = 'X13']
2019-08-19 16:38:21,398 [1] DEBUG - Statement Id: [DAO00030_GetMucDichChungTuID] PreparedStatement : [SELECT DICTIONARY_ID              FROM              LST_DICTIONARY              WHERE              DICTIONARY_TYPE_CODE = 'MucDichChungTu'              and DICTIONARY_CODE = 'X13']
2019-08-19 16:38:21,731 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'PHA74'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 16:38:29,212 [1] DEBUG - Statement Id: [DAO00030_Search_PhieuXuatSD] PreparedStatement : [SELECT DISTINCT phieuxuat.* FROM          (          select DISTINCT          CT.CHUNGTU_ID,          CT.SOCHUNGTU,          CT.MACHUNGTU,          CT.NGAYCHUNGTU,          CT.NGAYTAO,          CT.KHOXUAT_ID,          CT.NGUOIGIAO_ID,          CT.KHONHAP_ID,          CT.NGUOINHAN_ID,          PL.MACHUNGTU as MAPHIEULINH,          PL.NGAYCHUNGTU as NGAYPHIEULINH,          bn.MAYTE,          bn.TENBENHNHAN,          CONVERT(VARCHAR(10), KB.THOIGIANKHAM, 103) + ' - ' + CONVERT(VARCHAR(5), KB.THOIGIANKHAM, 108) as THOIGIANKHAM,          nl.TENNHANVIEN as NGUOILAP,          CT.DIENGIAI          from TT_DUOC_CHUNGTU CT          inner join TT_DUOC_CHUNGTU_CHITIET ctct on ct.CHUNGTU_ID = ctct.CHUNGTU_ID          inner join TT_NOITRU_TOATHUOC TT on ctct.TOATHUOCNOITRU_ID = TT.TOATHUOC_ID          inner join TT_NOITRU_KHAMBENH KB on kb.KHAMBENH_ID = TT.KHAMBENH_ID          inner join TT_BENHNHAN BN on TT.BENHNHAN_ID = BN.BENHNHAN_ID          left join TT_DUOC_PHIEULINH PL on PL.CHUNGTU_ID = CT.PHIEULINH_ID          left join TM_NHANVIEN nl on nl.NHANVIEN_ID = TT.NGUOITAO_ID           where                   CT.MUCDICHCHUNGTU_ID = '1060'               and                 CT.KHOXUAT_ID = '2'               and                 CONVERT(date, CT.NGAYCHUNGTU) BETWEEN CONVERT(date, '8/19/2019 12:00:00 AM')  and  CONVERT(date, '8/19/2019 12:00:00 AM')               and                 CT.BENHVIEN_ID = 'HLU01'                           UNION            select DISTINCT          CT.CHUNGTU_ID,          CT.SOCHUNGTU,          CT.MACHUNGTU,          CT.NGAYCHUNGTU,          CT.NGAYTAO,          CT.KHOXUAT_ID,          CT.NGUOIGIAO_ID,          CT.KHONHAP_ID,          CT.NGUOINHAN_ID,          PL.MACHUNGTU as MAPHIEULINH,          PL.NGAYCHUNGTU as NGAYPHIEULINH,          bn.MAYTE,          bn.TENBENHNHAN,          CONVERT(VARCHAR(10), KB.THOIGIANKHAM, 103) + ' - ' + CONVERT(VARCHAR(5), KB.THOIGIANKHAM, 108) as THOIGIANKHAM,          nl.TENNHANVIEN as NGUOILAP,          CT.DIENGIAI          from TT_DUOC_CHUNGTU CT          inner join TT_DUOC_CHUNGTU_CHITIET ctct on ct.CHUNGTU_ID = ctct.CHUNGTU_ID          inner join TT_NGOAITRU_KHAMBENH_VTYT vt on ctct.KHAMBENH_VTYT_ID = vt.KHAMBENH_VTYT_ID          inner join TT_NGOAITRU_KHAMBENH kb on kb.KHAMBENH_ID = vt.KHAMBENH_ID          inner join TT_BENHNHAN BN on bn.BENHNHAN_ID = kb.BENHNHAN_ID          left join TT_DUOC_PHIEULINH PL on PL.CHUNGTU_ID = CT.PHIEULINH_ID          left join TM_NHANVIEN nl on nl.NHANVIEN_ID = vt.NGUOITAO_ID           where                   CT.MUCDICHCHUNGTU_ID = '1060'               and                 CT.KHOXUAT_ID = '2'               and                 CONVERT(date, CT.NGAYCHUNGTU) BETWEEN CONVERT(date, '8/19/2019 12:00:00 AM')  and  CONVERT(date, '8/19/2019 12:00:00 AM')               and                 CT.BENHVIEN_ID = 'HLU01'                           UNION            select DISTINCT          CT.CHUNGTU_ID,          CT.SOCHUNGTU,          CT.MACHUNGTU,          CT.NGAYCHUNGTU,          CT.NGAYTAO,          CT.KHOXUAT_ID,          CT.NGUOIGIAO_ID,          CT.KHONHAP_ID,          CT.NGUOINHAN_ID,          PL.MACHUNGTU as MAPHIEULINH,          PL.NGAYCHUNGTU as NGAYPHIEULINH,          bn.MAYTE,          bn.TENBENHNHAN,          CONVERT(VARCHAR(10), pt.NGAYTHUCHIEN, 103) + ' - ' + CONVERT(VARCHAR(5), pt.NGAYTHUCHIEN, 108) as THOIGIANKHAM,          nl.TENNHANVIEN as NGUOILAP,          CT.DIENGIAI          from TT_DUOC_CHUNGTU CT          inner join TT_DUOC_CHUNGTU_CHITIET ctct on ct.CHUNGTU_ID = ctct.CHUNGTU_ID          inner join TT_PHAUTHUAT_VTYT vt on ctct.PHAUTHUAT_VTYT_ID = vt.PHAUTHUAT_VTYT_ID          inner join TT_PHAUTHUAT pt on pt.PHAUTHUAT_ID = vt.PHAUTHUAT_ID          inner join TT_TIEPNHAN tn on tn.TIEPNHAN_ID = pt.TIEPNHAN_ID          inner join TT_BENHNHAN bn on bn.BENHNHAN_ID = tn.BENHNHAN_ID          left join TT_DUOC_PHIEULINH PL on PL.CHUNGTU_ID = CT.PHIEULINH_ID          left join TM_NHANVIEN nl on nl.NHANVIEN_ID = pt.NGUOITAO_ID           where                   CT.MUCDICHCHUNGTU_ID = '1060'               and                 CT.KHOXUAT_ID = '2'               and                 CONVERT(date, CT.NGAYCHUNGTU) BETWEEN CONVERT(date, '8/19/2019 12:00:00 AM')  and  CONVERT(date, '8/19/2019 12:00:00 AM')               and                 CT.BENHVIEN_ID = 'HLU01'                           UNION            select DISTINCT          CT.CHUNGTU_ID,          CT.SOCHUNGTU,          CT.MACHUNGTU,          CT.NGAYCHUNGTU,          CT.NGAYTAO,          CT.KHOXUAT_ID,          CT.NGUOIGIAO_ID,          CT.KHONHAP_ID,          CT.NGUOINHAN_ID,          PL.MACHUNGTU as MAPHIEULINH,          PL.NGAYCHUNGTU as NGAYPHIEULINH,          bn.MAYTE,          bn.TENBENHNHAN,          CONVERT(VARCHAR(10), cls.NGAYTAO, 103) + ' - ' + CONVERT(VARCHAR(5), cls.NGAYTAO, 108) as THOIGIANKHAM,          nl.TENNHANVIEN as NGUOILAP,          CT.DIENGIAI          from TT_DUOC_CHUNGTU CT          inner join TT_DUOC_CHUNGTU_CHITIET ctct on ct.CHUNGTU_ID = ctct.CHUNGTU_ID          inner join TT_CLSKETQUA_VTYT cls on ctct.CLSKETQUA_VTYT_ID = cls.CLSKETQUA_VTYT_ID          inner join TT_DVYEUCAU DV on DV.DVYEUCAU_ID = CLS.DVYEUCAU_ID          inner join TT_BENHNHAN bn on bn.BENHNHAN_ID = DV.BENHNHAN_ID          left join TT_DUOC_PHIEULINH PL on PL.CHUNGTU_ID = CT.PHIEULINH_ID          left join TM_NHANVIEN nl on nl.NHANVIEN_ID = cls.NGUOITAO_ID           where                   CT.MUCDICHCHUNGTU_ID = '1060'               and                 CT.KHOXUAT_ID = '2'               and                 CONVERT(date, CT.NGAYCHUNGTU) BETWEEN CONVERT(date, '8/19/2019 12:00:00 AM')  and  CONVERT(date, '8/19/2019 12:00:00 AM')               and                 CT.BENHVIEN_ID = 'HLU01'                           UNION            select DISTINCT          CT.CHUNGTU_ID,          CT.SOCHUNGTU,          CT.MACHUNGTU,          CT.NGAYCHUNGTU,          CT.NGAYTAO,          CT.KHOXUAT_ID,          CT.NGUOIGIAO_ID,          CT.KHONHAP_ID,          CT.NGUOINHAN_ID,          PL.MACHUNGTU as MAPHIEULINH,          PL.NGAYCHUNGTU as NGAYPHIEULINH,          null as MAYTE,          null as TENBENHNHAN,          null as THOIGIANKHAM,          nl.TENNHANVIEN as NGUOILAP,          CT.DIENGIAI          from TT_DUOC_CHUNGTU CT          inner join TT_DUOC_CHUNGTU_CHITIET ctct on ct.CHUNGTU_ID = ctct.CHUNGTU_ID          left join TT_DUOC_PHIEULINH PL on PL.CHUNGTU_ID = CT.PHIEULINH_ID          left join TM_NHANVIEN nl on nl.NHANVIEN_ID = ct.NGUOITAO_ID          WHERE (ctct.TOATHUOCNOITRU_ID IS NULL AND ctct.KHAMBENH_VTYT_ID IS NULL AND ctct.PHAUTHUAT_VTYT_ID IS NULL AND ctct.CLSKETQUA_VTYT_ID IS NULL)             and                 CT.MUCDICHCHUNGTU_ID = '1060'               and                 CT.KHOXUAT_ID = '2'               and                 CONVERT(date, CT.NGAYCHUNGTU) BETWEEN CONVERT(date, '8/19/2019 12:00:00 AM')  and  CONVERT(date, '8/19/2019 12:00:00 AM')               and                 CT.BENHVIEN_ID = 'HLU01'                         )PhieuXuat          ORDER BY PhieuXuat.CHUNGTU_ID desc]
2019-08-19 16:38:35,555 [1] DEBUG - Statement Id: [DAO00030_Search_PhieuXuatSD] PreparedStatement : [SELECT DISTINCT phieuxuat.* FROM          (          select DISTINCT          CT.CHUNGTU_ID,          CT.SOCHUNGTU,          CT.MACHUNGTU,          CT.NGAYCHUNGTU,          CT.NGAYTAO,          CT.KHOXUAT_ID,          CT.NGUOIGIAO_ID,          CT.KHONHAP_ID,          CT.NGUOINHAN_ID,          PL.MACHUNGTU as MAPHIEULINH,          PL.NGAYCHUNGTU as NGAYPHIEULINH,          bn.MAYTE,          bn.TENBENHNHAN,          CONVERT(VARCHAR(10), KB.THOIGIANKHAM, 103) + ' - ' + CONVERT(VARCHAR(5), KB.THOIGIANKHAM, 108) as THOIGIANKHAM,          nl.TENNHANVIEN as NGUOILAP,          CT.DIENGIAI          from TT_DUOC_CHUNGTU CT          inner join TT_DUOC_CHUNGTU_CHITIET ctct on ct.CHUNGTU_ID = ctct.CHUNGTU_ID          inner join TT_NOITRU_TOATHUOC TT on ctct.TOATHUOCNOITRU_ID = TT.TOATHUOC_ID          inner join TT_NOITRU_KHAMBENH KB on kb.KHAMBENH_ID = TT.KHAMBENH_ID          inner join TT_BENHNHAN BN on TT.BENHNHAN_ID = BN.BENHNHAN_ID          left join TT_DUOC_PHIEULINH PL on PL.CHUNGTU_ID = CT.PHIEULINH_ID          left join TM_NHANVIEN nl on nl.NHANVIEN_ID = TT.NGUOITAO_ID           where                   CT.MUCDICHCHUNGTU_ID = '1060'               and                 CT.KHOXUAT_ID = '2'               and                 CONVERT(date, CT.NGAYCHUNGTU) BETWEEN CONVERT(date, '6/1/2019 12:00:00 AM')  and  CONVERT(date, '8/19/2019 12:00:00 AM')               and                 CT.BENHVIEN_ID = 'HLU01'                           UNION            select DISTINCT          CT.CHUNGTU_ID,          CT.SOCHUNGTU,          CT.MACHUNGTU,          CT.NGAYCHUNGTU,          CT.NGAYTAO,          CT.KHOXUAT_ID,          CT.NGUOIGIAO_ID,          CT.KHONHAP_ID,          CT.NGUOINHAN_ID,          PL.MACHUNGTU as MAPHIEULINH,          PL.NGAYCHUNGTU as NGAYPHIEULINH,          bn.MAYTE,          bn.TENBENHNHAN,          CONVERT(VARCHAR(10), KB.THOIGIANKHAM, 103) + ' - ' + CONVERT(VARCHAR(5), KB.THOIGIANKHAM, 108) as THOIGIANKHAM,          nl.TENNHANVIEN as NGUOILAP,          CT.DIENGIAI          from TT_DUOC_CHUNGTU CT          inner join TT_DUOC_CHUNGTU_CHITIET ctct on ct.CHUNGTU_ID = ctct.CHUNGTU_ID          inner join TT_NGOAITRU_KHAMBENH_VTYT vt on ctct.KHAMBENH_VTYT_ID = vt.KHAMBENH_VTYT_ID          inner join TT_NGOAITRU_KHAMBENH kb on kb.KHAMBENH_ID = vt.KHAMBENH_ID          inner join TT_BENHNHAN BN on bn.BENHNHAN_ID = kb.BENHNHAN_ID          left join TT_DUOC_PHIEULINH PL on PL.CHUNGTU_ID = CT.PHIEULINH_ID          left join TM_NHANVIEN nl on nl.NHANVIEN_ID = vt.NGUOITAO_ID           where                   CT.MUCDICHCHUNGTU_ID = '1060'               and                 CT.KHOXUAT_ID = '2'               and                 CONVERT(date, CT.NGAYCHUNGTU) BETWEEN CONVERT(date, '6/1/2019 12:00:00 AM')  and  CONVERT(date, '8/19/2019 12:00:00 AM')               and                 CT.BENHVIEN_ID = 'HLU01'                           UNION            select DISTINCT          CT.CHUNGTU_ID,          CT.SOCHUNGTU,          CT.MACHUNGTU,          CT.NGAYCHUNGTU,          CT.NGAYTAO,          CT.KHOXUAT_ID,          CT.NGUOIGIAO_ID,          CT.KHONHAP_ID,          CT.NGUOINHAN_ID,          PL.MACHUNGTU as MAPHIEULINH,          PL.NGAYCHUNGTU as NGAYPHIEULINH,          bn.MAYTE,          bn.TENBENHNHAN,          CONVERT(VARCHAR(10), pt.NGAYTHUCHIEN, 103) + ' - ' + CONVERT(VARCHAR(5), pt.NGAYTHUCHIEN, 108) as THOIGIANKHAM,          nl.TENNHANVIEN as NGUOILAP,          CT.DIENGIAI          from TT_DUOC_CHUNGTU CT          inner join TT_DUOC_CHUNGTU_CHITIET ctct on ct.CHUNGTU_ID = ctct.CHUNGTU_ID          inner join TT_PHAUTHUAT_VTYT vt on ctct.PHAUTHUAT_VTYT_ID = vt.PHAUTHUAT_VTYT_ID          inner join TT_PHAUTHUAT pt on pt.PHAUTHUAT_ID = vt.PHAUTHUAT_ID          inner join TT_TIEPNHAN tn on tn.TIEPNHAN_ID = pt.TIEPNHAN_ID          inner join TT_BENHNHAN bn on bn.BENHNHAN_ID = tn.BENHNHAN_ID          left join TT_DUOC_PHIEULINH PL on PL.CHUNGTU_ID = CT.PHIEULINH_ID          left join TM_NHANVIEN nl on nl.NHANVIEN_ID = pt.NGUOITAO_ID           where                   CT.MUCDICHCHUNGTU_ID = '1060'               and                 CT.KHOXUAT_ID = '2'               and                 CONVERT(date, CT.NGAYCHUNGTU) BETWEEN CONVERT(date, '6/1/2019 12:00:00 AM')  and  CONVERT(date, '8/19/2019 12:00:00 AM')               and                 CT.BENHVIEN_ID = 'HLU01'                           UNION            select DISTINCT          CT.CHUNGTU_ID,          CT.SOCHUNGTU,          CT.MACHUNGTU,          CT.NGAYCHUNGTU,          CT.NGAYTAO,          CT.KHOXUAT_ID,          CT.NGUOIGIAO_ID,          CT.KHONHAP_ID,          CT.NGUOINHAN_ID,          PL.MACHUNGTU as MAPHIEULINH,          PL.NGAYCHUNGTU as NGAYPHIEULINH,          bn.MAYTE,          bn.TENBENHNHAN,          CONVERT(VARCHAR(10), cls.NGAYTAO, 103) + ' - ' + CONVERT(VARCHAR(5), cls.NGAYTAO, 108) as THOIGIANKHAM,          nl.TENNHANVIEN as NGUOILAP,          CT.DIENGIAI          from TT_DUOC_CHUNGTU CT          inner join TT_DUOC_CHUNGTU_CHITIET ctct on ct.CHUNGTU_ID = ctct.CHUNGTU_ID          inner join TT_CLSKETQUA_VTYT cls on ctct.CLSKETQUA_VTYT_ID = cls.CLSKETQUA_VTYT_ID          inner join TT_DVYEUCAU DV on DV.DVYEUCAU_ID = CLS.DVYEUCAU_ID          inner join TT_BENHNHAN bn on bn.BENHNHAN_ID = DV.BENHNHAN_ID          left join TT_DUOC_PHIEULINH PL on PL.CHUNGTU_ID = CT.PHIEULINH_ID          left join TM_NHANVIEN nl on nl.NHANVIEN_ID = cls.NGUOITAO_ID           where                   CT.MUCDICHCHUNGTU_ID = '1060'               and                 CT.KHOXUAT_ID = '2'               and                 CONVERT(date, CT.NGAYCHUNGTU) BETWEEN CONVERT(date, '6/1/2019 12:00:00 AM')  and  CONVERT(date, '8/19/2019 12:00:00 AM')               and                 CT.BENHVIEN_ID = 'HLU01'                           UNION            select DISTINCT          CT.CHUNGTU_ID,          CT.SOCHUNGTU,          CT.MACHUNGTU,          CT.NGAYCHUNGTU,          CT.NGAYTAO,          CT.KHOXUAT_ID,          CT.NGUOIGIAO_ID,          CT.KHONHAP_ID,          CT.NGUOINHAN_ID,          PL.MACHUNGTU as MAPHIEULINH,          PL.NGAYCHUNGTU as NGAYPHIEULINH,          null as MAYTE,          null as TENBENHNHAN,          null as THOIGIANKHAM,          nl.TENNHANVIEN as NGUOILAP,          CT.DIENGIAI          from TT_DUOC_CHUNGTU CT          inner join TT_DUOC_CHUNGTU_CHITIET ctct on ct.CHUNGTU_ID = ctct.CHUNGTU_ID          left join TT_DUOC_PHIEULINH PL on PL.CHUNGTU_ID = CT.PHIEULINH_ID          left join TM_NHANVIEN nl on nl.NHANVIEN_ID = ct.NGUOITAO_ID          WHERE (ctct.TOATHUOCNOITRU_ID IS NULL AND ctct.KHAMBENH_VTYT_ID IS NULL AND ctct.PHAUTHUAT_VTYT_ID IS NULL AND ctct.CLSKETQUA_VTYT_ID IS NULL)             and                 CT.MUCDICHCHUNGTU_ID = '1060'               and                 CT.KHOXUAT_ID = '2'               and                 CONVERT(date, CT.NGAYCHUNGTU) BETWEEN CONVERT(date, '6/1/2019 12:00:00 AM')  and  CONVERT(date, '8/19/2019 12:00:00 AM')               and                 CT.BENHVIEN_ID = 'HLU01'                         )PhieuXuat          ORDER BY PhieuXuat.CHUNGTU_ID desc]
2019-08-19 16:40:49,401 [1] DEBUG - Statement Id: [DAO00030_Search_PhieuXuatSD] PreparedStatement : [SELECT DISTINCT phieuxuat.* FROM          (          select DISTINCT          CT.CHUNGTU_ID,          CT.SOCHUNGTU,          CT.MACHUNGTU,          CT.NGAYCHUNGTU,          CT.NGAYTAO,          CT.KHOXUAT_ID,          CT.NGUOIGIAO_ID,          CT.KHONHAP_ID,          CT.NGUOINHAN_ID,          PL.MACHUNGTU as MAPHIEULINH,          PL.NGAYCHUNGTU as NGAYPHIEULINH,          bn.MAYTE,          bn.TENBENHNHAN,          CONVERT(VARCHAR(10), KB.THOIGIANKHAM, 103) + ' - ' + CONVERT(VARCHAR(5), KB.THOIGIANKHAM, 108) as THOIGIANKHAM,          nl.TENNHANVIEN as NGUOILAP,          CT.DIENGIAI          from TT_DUOC_CHUNGTU CT          inner join TT_DUOC_CHUNGTU_CHITIET ctct on ct.CHUNGTU_ID = ctct.CHUNGTU_ID          inner join TT_NOITRU_TOATHUOC TT on ctct.TOATHUOCNOITRU_ID = TT.TOATHUOC_ID          inner join TT_NOITRU_KHAMBENH KB on kb.KHAMBENH_ID = TT.KHAMBENH_ID          inner join TT_BENHNHAN BN on TT.BENHNHAN_ID = BN.BENHNHAN_ID          left join TT_DUOC_PHIEULINH PL on PL.CHUNGTU_ID = CT.PHIEULINH_ID          left join TM_NHANVIEN nl on nl.NHANVIEN_ID = TT.NGUOITAO_ID           where                   CT.MUCDICHCHUNGTU_ID = '1060'               and                 CT.KHOXUAT_ID = '2'               and                 CONVERT(date, CT.NGAYCHUNGTU) BETWEEN CONVERT(date, '4/1/2019 12:00:00 AM')  and  CONVERT(date, '8/19/2019 12:00:00 AM')               and                 CT.BENHVIEN_ID = 'HLU01'                           UNION            select DISTINCT          CT.CHUNGTU_ID,          CT.SOCHUNGTU,          CT.MACHUNGTU,          CT.NGAYCHUNGTU,          CT.NGAYTAO,          CT.KHOXUAT_ID,          CT.NGUOIGIAO_ID,          CT.KHONHAP_ID,          CT.NGUOINHAN_ID,          PL.MACHUNGTU as MAPHIEULINH,          PL.NGAYCHUNGTU as NGAYPHIEULINH,          bn.MAYTE,          bn.TENBENHNHAN,          CONVERT(VARCHAR(10), KB.THOIGIANKHAM, 103) + ' - ' + CONVERT(VARCHAR(5), KB.THOIGIANKHAM, 108) as THOIGIANKHAM,          nl.TENNHANVIEN as NGUOILAP,          CT.DIENGIAI          from TT_DUOC_CHUNGTU CT          inner join TT_DUOC_CHUNGTU_CHITIET ctct on ct.CHUNGTU_ID = ctct.CHUNGTU_ID          inner join TT_NGOAITRU_KHAMBENH_VTYT vt on ctct.KHAMBENH_VTYT_ID = vt.KHAMBENH_VTYT_ID          inner join TT_NGOAITRU_KHAMBENH kb on kb.KHAMBENH_ID = vt.KHAMBENH_ID          inner join TT_BENHNHAN BN on bn.BENHNHAN_ID = kb.BENHNHAN_ID          left join TT_DUOC_PHIEULINH PL on PL.CHUNGTU_ID = CT.PHIEULINH_ID          left join TM_NHANVIEN nl on nl.NHANVIEN_ID = vt.NGUOITAO_ID           where                   CT.MUCDICHCHUNGTU_ID = '1060'               and                 CT.KHOXUAT_ID = '2'               and                 CONVERT(date, CT.NGAYCHUNGTU) BETWEEN CONVERT(date, '4/1/2019 12:00:00 AM')  and  CONVERT(date, '8/19/2019 12:00:00 AM')               and                 CT.BENHVIEN_ID = 'HLU01'                           UNION            select DISTINCT          CT.CHUNGTU_ID,          CT.SOCHUNGTU,          CT.MACHUNGTU,          CT.NGAYCHUNGTU,          CT.NGAYTAO,          CT.KHOXUAT_ID,          CT.NGUOIGIAO_ID,          CT.KHONHAP_ID,          CT.NGUOINHAN_ID,          PL.MACHUNGTU as MAPHIEULINH,          PL.NGAYCHUNGTU as NGAYPHIEULINH,          bn.MAYTE,          bn.TENBENHNHAN,          CONVERT(VARCHAR(10), pt.NGAYTHUCHIEN, 103) + ' - ' + CONVERT(VARCHAR(5), pt.NGAYTHUCHIEN, 108) as THOIGIANKHAM,          nl.TENNHANVIEN as NGUOILAP,          CT.DIENGIAI          from TT_DUOC_CHUNGTU CT          inner join TT_DUOC_CHUNGTU_CHITIET ctct on ct.CHUNGTU_ID = ctct.CHUNGTU_ID          inner join TT_PHAUTHUAT_VTYT vt on ctct.PHAUTHUAT_VTYT_ID = vt.PHAUTHUAT_VTYT_ID          inner join TT_PHAUTHUAT pt on pt.PHAUTHUAT_ID = vt.PHAUTHUAT_ID          inner join TT_TIEPNHAN tn on tn.TIEPNHAN_ID = pt.TIEPNHAN_ID          inner join TT_BENHNHAN bn on bn.BENHNHAN_ID = tn.BENHNHAN_ID          left join TT_DUOC_PHIEULINH PL on PL.CHUNGTU_ID = CT.PHIEULINH_ID          left join TM_NHANVIEN nl on nl.NHANVIEN_ID = pt.NGUOITAO_ID           where                   CT.MUCDICHCHUNGTU_ID = '1060'               and                 CT.KHOXUAT_ID = '2'               and                 CONVERT(date, CT.NGAYCHUNGTU) BETWEEN CONVERT(date, '4/1/2019 12:00:00 AM')  and  CONVERT(date, '8/19/2019 12:00:00 AM')               and                 CT.BENHVIEN_ID = 'HLU01'                           UNION            select DISTINCT          CT.CHUNGTU_ID,          CT.SOCHUNGTU,          CT.MACHUNGTU,          CT.NGAYCHUNGTU,          CT.NGAYTAO,          CT.KHOXUAT_ID,          CT.NGUOIGIAO_ID,          CT.KHONHAP_ID,          CT.NGUOINHAN_ID,          PL.MACHUNGTU as MAPHIEULINH,          PL.NGAYCHUNGTU as NGAYPHIEULINH,          bn.MAYTE,          bn.TENBENHNHAN,          CONVERT(VARCHAR(10), cls.NGAYTAO, 103) + ' - ' + CONVERT(VARCHAR(5), cls.NGAYTAO, 108) as THOIGIANKHAM,          nl.TENNHANVIEN as NGUOILAP,          CT.DIENGIAI          from TT_DUOC_CHUNGTU CT          inner join TT_DUOC_CHUNGTU_CHITIET ctct on ct.CHUNGTU_ID = ctct.CHUNGTU_ID          inner join TT_CLSKETQUA_VTYT cls on ctct.CLSKETQUA_VTYT_ID = cls.CLSKETQUA_VTYT_ID          inner join TT_DVYEUCAU DV on DV.DVYEUCAU_ID = CLS.DVYEUCAU_ID          inner join TT_BENHNHAN bn on bn.BENHNHAN_ID = DV.BENHNHAN_ID          left join TT_DUOC_PHIEULINH PL on PL.CHUNGTU_ID = CT.PHIEULINH_ID          left join TM_NHANVIEN nl on nl.NHANVIEN_ID = cls.NGUOITAO_ID           where                   CT.MUCDICHCHUNGTU_ID = '1060'               and                 CT.KHOXUAT_ID = '2'               and                 CONVERT(date, CT.NGAYCHUNGTU) BETWEEN CONVERT(date, '4/1/2019 12:00:00 AM')  and  CONVERT(date, '8/19/2019 12:00:00 AM')               and                 CT.BENHVIEN_ID = 'HLU01'                           UNION            select DISTINCT          CT.CHUNGTU_ID,          CT.SOCHUNGTU,          CT.MACHUNGTU,          CT.NGAYCHUNGTU,          CT.NGAYTAO,          CT.KHOXUAT_ID,          CT.NGUOIGIAO_ID,          CT.KHONHAP_ID,          CT.NGUOINHAN_ID,          PL.MACHUNGTU as MAPHIEULINH,          PL.NGAYCHUNGTU as NGAYPHIEULINH,          null as MAYTE,          null as TENBENHNHAN,          null as THOIGIANKHAM,          nl.TENNHANVIEN as NGUOILAP,          CT.DIENGIAI          from TT_DUOC_CHUNGTU CT          inner join TT_DUOC_CHUNGTU_CHITIET ctct on ct.CHUNGTU_ID = ctct.CHUNGTU_ID          left join TT_DUOC_PHIEULINH PL on PL.CHUNGTU_ID = CT.PHIEULINH_ID          left join TM_NHANVIEN nl on nl.NHANVIEN_ID = ct.NGUOITAO_ID          WHERE (ctct.TOATHUOCNOITRU_ID IS NULL AND ctct.KHAMBENH_VTYT_ID IS NULL AND ctct.PHAUTHUAT_VTYT_ID IS NULL AND ctct.CLSKETQUA_VTYT_ID IS NULL)             and                 CT.MUCDICHCHUNGTU_ID = '1060'               and                 CT.KHOXUAT_ID = '2'               and                 CONVERT(date, CT.NGAYCHUNGTU) BETWEEN CONVERT(date, '4/1/2019 12:00:00 AM')  and  CONVERT(date, '8/19/2019 12:00:00 AM')               and                 CT.BENHVIEN_ID = 'HLU01'                         )PhieuXuat          ORDER BY PhieuXuat.CHUNGTU_ID desc]
2019-08-19 16:41:02,409 [1] DEBUG - Statement Id: [DAO00030_GetList] PreparedStatement : [select *              from TT_DUOC_CHUNGTU              where BENHVIEN_ID = 'HLU01'                and                   TT_DUOC_CHUNGTU.CHUNGTU_ID = '65412'                               order by CHUNGTU_ID]
2019-08-19 16:41:02,541 [1] DEBUG - Statement Id: [DAO00030_CHUNGTUXUAT_CHITIET_GetList] PreparedStatement : [SELECT            ctct.*,            d.MADUOC, d.TENHANG, d.TENDUOCDAYDU, dvt.TENDONVITINH as DONVITINH,n.TENNGUONDUOC as NGUONHANG,            sln.SOLONHAP, sln.SOLOSANPHAM, sln.NGAYNHAP as NGAYNHAPLO, sln.HANDUNG as HANSUDUNG,            isnull(tk.SOLUONG,0) as SOLUONGTON,            LTRIM(ct.KHOXUAT_ID) + '_' + LTRIM(sln.DUOC_ID) + '_' + LTRIM(sln.NGUONDUOC_ID) as DUOC_KEY            , NLD.MANHOMLOAIDUOC, ld.MALOAIDUOC, D.SO_QDTT            FROM            TT_DUOC_CHUNGTU_CHITIET ctct            INNER JOIN TT_DUOC_CHUNGTU ct ON (ct.CHUNGTU_ID = ctct.CHUNGTU_ID)            INNER JOIN TT_DUOC_CHUNGTU_SOLONHAP sln ON (sln.SOLONHAP_ID = ctct.SOLONHAP_ID)            LEFT JOIN (            select xx.DUOCTONKHO_ID, xx.KHODUOC_ID, xx.DUOC_ID, xx.SOLONHAP_ID, xx.SOLUONG, xx.NGUONDUOC_ID, xx.BENHVIEN_ID from TT_DUOC_TONKHO xx            join ( select max(DUOCTONKHO_ID) as DUOCTONKHO_ID, KHODUOC_ID, DUOC_ID, SOLONHAP_ID, NGUONDUOC_ID            from TT_DUOC_TONKHO group by KHODUOC_ID, DUOC_ID, SOLONHAP_ID, NGUONDUOC_ID) yy on xx.DUOCTONKHO_ID=yy.DUOCTONKHO_ID            ) tk ON (tk.SOLONHAP_ID = sln.SOLONHAP_ID AND tk.DUOC_ID = sln.DUOC_ID and tk.KHODUOC_ID = ct.KHOXUAT_ID)            INNER JOIN TM_DUOC d ON (d.DUOC_ID = ctct.DUOC_ID)            INNER JOIN TM_NGUONHANG n ON (n.NGUONDUOC_ID = ctct.NGUONHANG_ID)            LEFT JOIN TM_DONVITINH dvt ON (dvt.DONVITINH_ID = ctct.DONVITINH_ID)            left join TM_LOAIDUOC LD on LD.LOAIDUOC_ID = D.LOAIDUOC_ID            LEFT JOIN TM_NHOMLOAIDUOC NLD on NLD.NHOMLOAIDUOC_ID = LD.NHOMLOAIDUOC_ID             where                             ct.CHUNGTU_ID = '65412'                       and                           ct.BENHVIEN_ID = 'HLU01'                                     order by CHUNGTUCHITIET_ID]
2019-08-19 16:41:04,676 [1] DEBUG - Statement Id: [DAO00030_KiemTraChungTuKhoaSo] PreparedStatement : [SELECT CHUNGTU_ID              FROM TT_DUOC_CHUNGTU              WHERE              MACHUNGTU = 'KHO_BHYTX1319000010'              and BENHVIEN_ID = 'HLU01'              and              convert(date, NGAYCHUNGTU) <=              (              SELECT TOP 1 convert(date, KHOADENNGAY)              FROM TT_DUOC_KHOASOCHUNGTU              WHERE              KHODUOC_ID = '2'              and BENHVIEN_ID = 'HLU01'              AND KHOASO = '1'              ORDER BY KHOADENNGAY DESC              )]
2019-08-19 16:41:04,892 [1] DEBUG - Statement Id: [DAO00030_DUOCTONKHO_GetSoTonTheoDuoc] PreparedStatement : [SELECT              DUOC_ID,              SUM(SOLUONG) AS TONGTON              FROM              TT_DUOC_TONKHO              WHERE              KHODUOC_ID = '2'              and BENHVIEN_ID = 'HLU01'              and DUOC_ID IN (906,998,919)              GROUP BY DUOC_ID]
2019-08-19 16:41:05,083 [1] DEBUG - Statement Id: [DAO00030_DUOCTONKHO_GetSoTonTheoDuocTheoLo] PreparedStatement : [SELECT              DUOC_ID,SOLONHAP_ID,              SUM(SOLUONG) AS SOLUONGTONLO              FROM              TT_DUOC_TONKHO              WHERE              KHODUOC_ID = '2'              and BENHVIEN_ID = 'HLU01'              and DUOC_ID IN (906,998,919)              and SOLONHAP_ID IN (1241,5491,3895)              GROUP BY DUOC_ID, SOLONHAP_ID]
2019-08-19 16:41:05,250 [1] DEBUG - Statement Id: [DAO00030_DUOCTONKHO_GetSoTonTheoDuoc] PreparedStatement : [SELECT              DUOC_ID,              SUM(SOLUONG) AS TONGTON              FROM              TT_DUOC_TONKHO              WHERE              KHODUOC_ID = '2'              and BENHVIEN_ID = 'HLU01'              and DUOC_ID IN (906,998,919)              GROUP BY DUOC_ID]
2019-08-19 16:41:05,403 [1] DEBUG - Statement Id: [DAO00030_KTDaPhatSinhBienLai] PreparedStatement : [SELECT CHUNGTU_ID            FROM TT_NOITRU_TOATHUOC tt            INNER JOIN TT_VIENPHI vp on (tt.TOATHUOC_ID = vp.REF_ID and REF_TABLE = 'TT_NOITRU_TOATHUOC')            WHERE            CHUNGTU_ID = '65412'            AND tt.BENHVIEN_ID = 'HLU01'            AND HOADON_ID is not NULL            AND vp.HUY = '0'              union all            SELECT  kbtt.CHUNGTUPHATTHUOC_ID as CHUNGTU_ID            FROM TT_NGOAITRU_TOATHUOC tt            INNER JOIN TT_NGOAITRU_KHAMBENH_TOATHUOC kbtt on (kbtt.KHAMBENH_TOATHUOC_ID = tt.KHAMBENH_TOATHUOC_ID)            INNER JOIN TT_VIENPHI vp on (tt.TOATHUOC_ID = vp.REF_ID and REF_TABLE = 'TT_NGOAITRU_TOATHUOC')            WHERE            kbtt.CHUNGTUPHATTHUOC_ID = '65412'            AND tt.BENHVIEN_ID = 'HLU01'            AND HOADON_ID is not NULL            AND vp.HUY = '0'              union all            SELECT ctct.CHUNGTU_ID from            TT_DUOC_CHUNGTU_CHITIET ctct            INNER JOIN TT_HOADON_CHITIET_NGOAITRU hdct on (hdct.REF_ID = ctct.CHUNGTUCHITIET_ID and hdct.REF_TABLE = 'TT_DUOC_CHUNGTU_CHITIET')            INNER JOIN TT_HOADON hd on hd.HOADON_ID = hdct.HOADON_ID            WHERE            ctct.CHUNGTU_ID = '65412'                            AND hd.HUYHOADON = '0'              AND hd.HOANTRA = '0'                                  AND ctct.BENHVIEN_ID = 'HLU01'                        union all            SELECT CHUNGTU_ID            FROM TT_NGOAITRU_KHAMBENH_VTYT tt            INNER JOIN TT_VIENPHI vp on (tt.KHAMBENH_VTYT_ID = vp.REF_ID and REF_TABLE = 'TT_NGOAITRU_KHAMBENH_VTYT')            WHERE            CHUNGTU_ID = '65412'            AND tt.BENHVIEN_ID = 'HLU01'            AND HOADON_ID is not NULL            AND vp.HUY = '0'                        union all            SELECT CHUNGTU_ID            FROM TT_PHAUTHUAT_VTYT tt            INNER JOIN TT_VIENPHI vp on (tt.PHAUTHUAT_VTYT_ID = vp.REF_ID and REF_TABLE = 'TT_PHAUTHUAT_VTYT')            WHERE            CHUNGTU_ID = '65412'            AND tt.BENHVIEN_ID = 'HLU01'            AND HOADON_ID is not NULL            AND vp.HUY = '0'                        union all            SELECT CHUNGTU_ID            FROM TT_CLSKETQUA_VTYT tt            INNER JOIN TT_VIENPHI vp on (tt.CLSKETQUA_VTYT_ID = vp.REF_ID and REF_TABLE = 'TT_CLSKETQUA_VTYT')            WHERE            CHUNGTU_ID = '65412'            AND tt.BENHVIEN_ID = 'HLU01'            AND HOADON_ID is not NULL            AND vp.HUY = '0']
2019-08-19 16:41:12,537 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'RPT02'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 16:41:13,717 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'RPT01'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 16:41:14,796 [1] DEBUG - Statement Id: [DAO00200_GetDetail] PreparedStatement : [select *              from TM_REPORT              where TM_REPORT.REPORT_CODE  = 'PHA22P01601' AND TM_REPORT.BENHVIEN_ID = 'HLU01']
2019-08-19 16:41:14,850 [1] DEBUG - Statement Id: [DAO00201_GetList] PreparedStatement : [select *              from TM_REPORT_DETAIL               where                             TM_REPORT_DETAIL.REPORT_CODE = 'PHA22P01601'                       and                           TM_REPORT_DETAIL.BENHVIEN_ID = 'HLU01'                                     order by PARAMETER_INDEX]
2019-08-19 16:41:14,902 [1] DEBUG - Statement Id: [DAO00203_GetList] PreparedStatement : [select *              from TM_REPORT_SUB_DEFINITION               where                             TM_REPORT_SUB_DEFINITION.REPORT_CODE = 'PHA22P01601'                       and                           TM_REPORT_SUB_DEFINITION.BENHVIEN_ID = 'HLU01'                                     order by REPORT_SUB_DEFINITION_ID]
2019-08-19 16:41:14,936 [1] DEBUG - Statement Id: [DAO00201_GetListByParentReportID] PreparedStatement : [select RD.*              from TM_REPORT AS R              INNER JOIN TM_REPORT_SUB_DEFINITION AS RS ON R.REPORT_CODE = RS.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              INNER JOIN TM_REPORT_DETAIL AS RD ON RD.REPORT_CODE = RS.SUB_REPORT_CODE AND RD.BENHVIEN_ID = RS.BENHVIEN_ID              where R.REPORT_CODE  = 'PHA22P01601' AND R.BENHVIEN_ID = 'HLU01']
2019-08-19 16:41:15,102 [1] DEBUG - Statement Id: [DAO00203_GetListReportSubFileByReportID] PreparedStatement : [select R.*              from TM_REPORT_SUB_DEFINITION AS RS              inner join TM_REPORT AS R ON RS.SUB_REPORT_CODE = R.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              where RS.REPORT_CODE = 'PHA22P01601' AND RS.BENHVIEN_ID = 'HLU01']
2019-08-19 16:41:15,160 [1] DEBUG - Statement Id: [DAO00204_GetListParameter] PreparedStatement : [SELECT SUBSTRING(p.name, 2, LEN(p.name) - 1) AS PARAMETER, p.parameter_id AS Idx, CONVERT(varchar(1),p.is_nullable) as Allow_Null              FROM sys.procedures sp              INNER JOIN sys.parameters p ON sp.object_id = p.object_id              WHERE sp.name = 'PHA22P01601_PXSD'              ORDER BY p.parameter_id]
2019-08-19 16:41:15,368 [1] DEBUG - Statement Id: [DAO00204_GetReportData] PreparedStatement : [PHA22P01601_PXSD]
2019-08-19 16:41:15,368 [1] DEBUG - Statement Id: [DAO00204_GetReportData] Parameters: [@CHUNGTU_ID=[PARAMETERS.CHUNGTU_ID,65412], @MABENHVIEN=[PARAMETERS.MABENHVIEN,HLU01]]
2019-08-19 16:41:15,368 [1] DEBUG - Statement Id: [DAO00204_GetReportData] Types: [@CHUNGTU_ID=[Int64, System.Int64], @MABENHVIEN=[String, System.String]]
2019-08-19 16:41:15,611 [1] DEBUG - Statement Id: [DAO00200_GetSettingReportPrinting] PreparedStatement : [SELECT DICTIONARY_CODE AS REPORT_CODE, DICTIONARY_NAME AS COMPUTER_NAME, DICTIONARY_NAME_EN AS NAME_PRINTER          FROM LST_DICTIONARY          WHERE BENHVIEN_ID = 'HLU01' AND ENABLED = '1' AND DICTIONARY_TYPE_CODE = 'Report_Printer_Setting'          AND DICTIONARY_CODE = 'PHA22P01601' AND DICTIONARY_NAME = 'GMC-HAIPN6']
2019-08-19 16:41:45,127 [1] DEBUG - Statement Id: [DAO00020_ListKhoDuocOfPhongBan] PreparedStatement : [select B.* from TM_PHONGBAN_KHODUOC A        inner join TM_KHODUOC B on B.KHODUOC_ID = A.KHODUOC_ID        where        A.PHONGBAN_ID = ''        and A.BENHVIEN_ID = 'HLU01']
2019-08-19 16:41:45,426 [1] DEBUG - Statement Id: [DAO00020_ListKhoDuocOfPhongBan] PreparedStatement : [select B.* from TM_PHONGBAN_KHODUOC A        inner join TM_KHODUOC B on B.KHODUOC_ID = A.KHODUOC_ID        where        A.PHONGBAN_ID = '38'        and A.BENHVIEN_ID = 'HLU01']
2019-08-19 16:41:49,170 [1] DEBUG - Statement Id: [DAO00020_ListKhoDuocOfPhongBan] PreparedStatement : [select B.* from TM_PHONGBAN_KHODUOC A        inner join TM_KHODUOC B on B.KHODUOC_ID = A.KHODUOC_ID        where        A.PHONGBAN_ID = '20'        and A.BENHVIEN_ID = 'HLU01']
2019-08-19 16:41:50,040 [1] DEBUG - Statement Id: [DAO00008_UpdateUserIdPhongBanKhoDuoc] PreparedStatement : [IF EXISTS            (SELECT ACCOUNT_ID FROM TM_SYS_USERS WHERE ACCOUNT_ID =  @param0  and HOSPITAL_ID =  @param1 )            BEGIN            update TM_SYS_USERS set INVENTORY_ID =  @param2 , WORKING_DEPT_ID =  @param3             WHERE ACCOUNT_ID =  @param0  and HOSPITAL_ID =  @param1             END            ELSE            BEGIN            insert into TM_SYS_USERS ([ACCOUNT_ID], [ACCOUNT_NAME], [INVENTORY_ID], [WORKING_DEPT_ID], [HOSPITAL_ID])            values ( @param0 ,  @param4 ,  @param2 ,  @param3 ,  @param1 )            END]
2019-08-19 16:41:50,040 [1] DEBUG - Statement Id: [DAO00008_UpdateUserIdPhongBanKhoDuoc] Parameters: [@param0=[ACCOUNT_ID,113], @param1=[HOSPITAL_ID,HLU01], @param2=[INVENTORY_ID,16], @param3=[WORKING_DEPT_ID,20], @param4=[ACCOUNT_NAME,admin]]
2019-08-19 16:41:50,040 [1] DEBUG - Statement Id: [DAO00008_UpdateUserIdPhongBanKhoDuoc] Types: [@param0=[String, System.String], @param1=[String, System.String], @param2=[String, System.String], @param3=[String, System.String], @param4=[String, System.String]]
2019-08-19 16:42:11,608 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'PHA07'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 16:42:12,606 [1] DEBUG - Statement Id: [DAO00406_GetList] PreparedStatement : [SELECT             KN.TENKHO AS TENKHONGUON            ,KD.TENKHO AS TENKHODICH            ,MP.KHONGUON_ID            ,MP.KHODICH_ID            ,MP.NGUONTINHTIEN            ,MP.NGUONMIENPHI            ,MP.T            ,MP.V            ,MP.H            ,MP.K            FROM TM_KHODUOC_MAPPING MP            inner join TM_KHODUOC KN on KN.KHODUOC_ID = MP.KHONGUON_ID            inner join TM_KHODUOC KD on KD.KHODUOC_ID = MP.KHODICH_ID            where            MP.TAMNGUNG = '0'            and MP.BENHVIEN_ID = 'HLU01'            order by MP.KHONGUON_ID]
2019-08-19 16:42:12,959 [1] DEBUG - Statement Id: [DAO00030_GetPhamViByKhoDuoc] PreparedStatement : [SELECT DISTINCT pv.PHAMVI_ID          FROM TM_DUOC_PHAMVISD_MAPPING mp          INNER JOIN TM_DUOC_PHAMVISUDUNG pv ON mp.PHAMVI_ID = pv.PHAMVI_ID          WHERE          mp.KHODUOC_ID IN (1)          AND mp.BENHVIEN_ID ='HLU01'          AND mp.TAMNGUNG = '0'          AND pv.TAMNGUNG = '0']
2019-08-19 16:42:13,060 [1] DEBUG - Statement Id: [DAO00027_GetListDuocTonKhoVaBookingCOM23UpdateRedis_TheoPhamvi] PreparedStatement : [select distinct tk.DUOC_KEY, tk.SOLUONG        from TM_DUOC d        left join TM_DONVITINH dvt on dvt.DONVITINH_ID = d.DONVITINH_ID        left join TM_TENDUOC ten on d.TENDUOC_ID = ten.TENDUOC_ID        left join TM_LOAIDUOC ld on ld.LOAIDUOC_ID = d.LOAIDUOC_ID and ld.BENHVIEN_ID = 'HLU01'        left join TM_DUOC_HANDUNG hd on (ld.LOAIVATTU_ID = hd.LOAIDUOC  and hd.BENHVIEN_ID = 'HLU01')        inner join        (        select  LTRIM(pvsd.PHAMVI_ID)  + '_' + LTRIM(dtk.DUOC_ID) + '_' + LTRIM(ISNULL(dtk.NGUONDUOC_ID,'')) DUOC_KEY, (SUM(dtk.SOLUONG) - isnull(sum(A.SOLUONG),0) - isnull(sum(B.SOLUONG),0)) SOLUONG, pvsd.PHAMVI_ID, dtk.NGUONDUOC_ID, dtk.DUOC_ID        from (select sum(soluong) soluong,duoc_id,nguonduoc_id,khoduoc_id,benhvien_id from TT_DUOC_TONKHO  group by duoc_id,nguonduoc_id,khoduoc_id,benhvien_id) dtk        inner join TM_DUOC_PHAMVISD_MAPPING pvsd on dtk.KHODUOC_ID = pvsd.KHODUOC_ID        left join (select sum(SOLUONG) SOLUONG, PHAMVI_ID, DUOC_ID, NGUONHANG_ID from  TT_DUOC_TONKHO_BOOK_NOITRU where TRANGTHAI != 'HUY'        group by  PHAMVI_ID, DUOC_ID, NGUONHANG_ID) B on B.DUOC_ID = dtk.DUOC_ID and B.SOLUONG > 0 and B.PHAMVI_ID = pvsd.PHAMVI_ID and B.NGUONHANG_ID = dtk.NGUONDUOC_ID        left join (select sum(SOLUONG) SOLUONG, PHAMVI_ID, DUOC_ID, NGUONHANG_ID from  TT_DUOC_TONKHO_BOOK_NGOAITRU where TRANGTHAI != 'HUY'        group by  PHAMVI_ID, DUOC_ID, NGUONHANG_ID) A on A.DUOC_ID = dtk.DUOC_ID and A.SOLUONG > 0 and A.PHAMVI_ID = pvsd.PHAMVI_ID and A.NGUONHANG_ID = dtk.NGUONDUOC_ID        where dtk.SOLUONG > 0 and dtk.BENHVIEN_ID = 'HLU01'        group by LTRIM(pvsd.PHAMVI_ID)  + '_' + LTRIM(dtk.DUOC_ID) + '_' + LTRIM(ISNULL(dtk.NGUONDUOC_ID,'')), pvsd.PHAMVI_ID, dtk.NGUONDUOC_ID, dtk.DUOC_ID        ) tk on tk.DUOC_ID = d.DUOC_ID        left join TM_DUOC_PHAMVISUDUNG kd on kd.PHAMVI_ID = tk.PHAMVI_ID and kd.BENHVIEN_ID = 'HLU01'        left join TM_NGUONHANG nh on nh.NGUONDUOC_ID = tk.NGUONDUOC_ID and nh.BENHVIEN_ID = 'HLU01'        where  d.BENHVIEN_ID = 'HLU01' and tk.PHAMVI_ID =  @param0]
2019-08-19 16:42:13,061 [1] DEBUG - Statement Id: [DAO00027_GetListDuocTonKhoVaBookingCOM23UpdateRedis_TheoPhamvi] Parameters: [@param0=[PHAMVI_ID,1027]]
2019-08-19 16:42:13,061 [1] DEBUG - Statement Id: [DAO00027_GetListDuocTonKhoVaBookingCOM23UpdateRedis_TheoPhamvi] Types: [@param0=[Int64, System.Int64]]
2019-08-19 16:42:20,066 [1] DEBUG - Statement Id: [DAO00030_GetPhamViByKhoDuoc] PreparedStatement : [SELECT DISTINCT pv.PHAMVI_ID          FROM TM_DUOC_PHAMVISD_MAPPING mp          INNER JOIN TM_DUOC_PHAMVISUDUNG pv ON mp.PHAMVI_ID = pv.PHAMVI_ID          WHERE          mp.KHODUOC_ID IN (1)          AND mp.BENHVIEN_ID ='HLU01'          AND mp.TAMNGUNG = '0'          AND pv.TAMNGUNG = '0']
2019-08-19 16:42:20,101 [1] DEBUG - Statement Id: [DAO00027_GetListDuocTonKhoVaBookingCOM23UpdateRedis_TheoPhamvi] PreparedStatement : [select distinct tk.DUOC_KEY, tk.SOLUONG        from TM_DUOC d        left join TM_DONVITINH dvt on dvt.DONVITINH_ID = d.DONVITINH_ID        left join TM_TENDUOC ten on d.TENDUOC_ID = ten.TENDUOC_ID        left join TM_LOAIDUOC ld on ld.LOAIDUOC_ID = d.LOAIDUOC_ID and ld.BENHVIEN_ID = 'HLU01'        left join TM_DUOC_HANDUNG hd on (ld.LOAIVATTU_ID = hd.LOAIDUOC  and hd.BENHVIEN_ID = 'HLU01')        inner join        (        select  LTRIM(pvsd.PHAMVI_ID)  + '_' + LTRIM(dtk.DUOC_ID) + '_' + LTRIM(ISNULL(dtk.NGUONDUOC_ID,'')) DUOC_KEY, (SUM(dtk.SOLUONG) - isnull(sum(A.SOLUONG),0) - isnull(sum(B.SOLUONG),0)) SOLUONG, pvsd.PHAMVI_ID, dtk.NGUONDUOC_ID, dtk.DUOC_ID        from (select sum(soluong) soluong,duoc_id,nguonduoc_id,khoduoc_id,benhvien_id from TT_DUOC_TONKHO  group by duoc_id,nguonduoc_id,khoduoc_id,benhvien_id) dtk        inner join TM_DUOC_PHAMVISD_MAPPING pvsd on dtk.KHODUOC_ID = pvsd.KHODUOC_ID        left join (select sum(SOLUONG) SOLUONG, PHAMVI_ID, DUOC_ID, NGUONHANG_ID from  TT_DUOC_TONKHO_BOOK_NOITRU where TRANGTHAI != 'HUY'        group by  PHAMVI_ID, DUOC_ID, NGUONHANG_ID) B on B.DUOC_ID = dtk.DUOC_ID and B.SOLUONG > 0 and B.PHAMVI_ID = pvsd.PHAMVI_ID and B.NGUONHANG_ID = dtk.NGUONDUOC_ID        left join (select sum(SOLUONG) SOLUONG, PHAMVI_ID, DUOC_ID, NGUONHANG_ID from  TT_DUOC_TONKHO_BOOK_NGOAITRU where TRANGTHAI != 'HUY'        group by  PHAMVI_ID, DUOC_ID, NGUONHANG_ID) A on A.DUOC_ID = dtk.DUOC_ID and A.SOLUONG > 0 and A.PHAMVI_ID = pvsd.PHAMVI_ID and A.NGUONHANG_ID = dtk.NGUONDUOC_ID        where dtk.SOLUONG > 0 and dtk.BENHVIEN_ID = 'HLU01'        group by LTRIM(pvsd.PHAMVI_ID)  + '_' + LTRIM(dtk.DUOC_ID) + '_' + LTRIM(ISNULL(dtk.NGUONDUOC_ID,'')), pvsd.PHAMVI_ID, dtk.NGUONDUOC_ID, dtk.DUOC_ID        ) tk on tk.DUOC_ID = d.DUOC_ID        left join TM_DUOC_PHAMVISUDUNG kd on kd.PHAMVI_ID = tk.PHAMVI_ID and kd.BENHVIEN_ID = 'HLU01'        left join TM_NGUONHANG nh on nh.NGUONDUOC_ID = tk.NGUONDUOC_ID and nh.BENHVIEN_ID = 'HLU01'        where  d.BENHVIEN_ID = 'HLU01' and tk.PHAMVI_ID =  @param0]
2019-08-19 16:42:20,101 [1] DEBUG - Statement Id: [DAO00027_GetListDuocTonKhoVaBookingCOM23UpdateRedis_TheoPhamvi] Parameters: [@param0=[PHAMVI_ID,1027]]
2019-08-19 16:42:20,101 [1] DEBUG - Statement Id: [DAO00027_GetListDuocTonKhoVaBookingCOM23UpdateRedis_TheoPhamvi] Types: [@param0=[Int64, System.Int64]]
2019-08-19 16:42:20,420 [1] DEBUG - Statement Id: [DAO00027_GetListDuocTonKhoVaBookingCOM23UpdateRedis_TheoPhamvi] PreparedStatement : [select distinct tk.DUOC_KEY, tk.SOLUONG        from TM_DUOC d        left join TM_DONVITINH dvt on dvt.DONVITINH_ID = d.DONVITINH_ID        left join TM_TENDUOC ten on d.TENDUOC_ID = ten.TENDUOC_ID        left join TM_LOAIDUOC ld on ld.LOAIDUOC_ID = d.LOAIDUOC_ID and ld.BENHVIEN_ID = 'HLU01'        left join TM_DUOC_HANDUNG hd on (ld.LOAIVATTU_ID = hd.LOAIDUOC  and hd.BENHVIEN_ID = 'HLU01')        inner join        (        select  LTRIM(pvsd.PHAMVI_ID)  + '_' + LTRIM(dtk.DUOC_ID) + '_' + LTRIM(ISNULL(dtk.NGUONDUOC_ID,'')) DUOC_KEY, (SUM(dtk.SOLUONG) - isnull(sum(A.SOLUONG),0) - isnull(sum(B.SOLUONG),0)) SOLUONG, pvsd.PHAMVI_ID, dtk.NGUONDUOC_ID, dtk.DUOC_ID        from (select sum(soluong) soluong,duoc_id,nguonduoc_id,khoduoc_id,benhvien_id from TT_DUOC_TONKHO  group by duoc_id,nguonduoc_id,khoduoc_id,benhvien_id) dtk        inner join TM_DUOC_PHAMVISD_MAPPING pvsd on dtk.KHODUOC_ID = pvsd.KHODUOC_ID        left join (select sum(SOLUONG) SOLUONG, PHAMVI_ID, DUOC_ID, NGUONHANG_ID from  TT_DUOC_TONKHO_BOOK_NOITRU where TRANGTHAI != 'HUY'        group by  PHAMVI_ID, DUOC_ID, NGUONHANG_ID) B on B.DUOC_ID = dtk.DUOC_ID and B.SOLUONG > 0 and B.PHAMVI_ID = pvsd.PHAMVI_ID and B.NGUONHANG_ID = dtk.NGUONDUOC_ID        left join (select sum(SOLUONG) SOLUONG, PHAMVI_ID, DUOC_ID, NGUONHANG_ID from  TT_DUOC_TONKHO_BOOK_NGOAITRU where TRANGTHAI != 'HUY'        group by  PHAMVI_ID, DUOC_ID, NGUONHANG_ID) A on A.DUOC_ID = dtk.DUOC_ID and A.SOLUONG > 0 and A.PHAMVI_ID = pvsd.PHAMVI_ID and A.NGUONHANG_ID = dtk.NGUONDUOC_ID        where dtk.SOLUONG > 0 and dtk.BENHVIEN_ID = 'HLU01'        group by LTRIM(pvsd.PHAMVI_ID)  + '_' + LTRIM(dtk.DUOC_ID) + '_' + LTRIM(ISNULL(dtk.NGUONDUOC_ID,'')), pvsd.PHAMVI_ID, dtk.NGUONDUOC_ID, dtk.DUOC_ID        ) tk on tk.DUOC_ID = d.DUOC_ID        left join TM_DUOC_PHAMVISUDUNG kd on kd.PHAMVI_ID = tk.PHAMVI_ID and kd.BENHVIEN_ID = 'HLU01'        left join TM_NGUONHANG nh on nh.NGUONDUOC_ID = tk.NGUONDUOC_ID and nh.BENHVIEN_ID = 'HLU01'        where  d.BENHVIEN_ID = 'HLU01' and tk.PHAMVI_ID =  @param0]
2019-08-19 16:42:20,420 [1] DEBUG - Statement Id: [DAO00027_GetListDuocTonKhoVaBookingCOM23UpdateRedis_TheoPhamvi] Parameters: [@param0=[PHAMVI_ID,1027]]
2019-08-19 16:42:20,420 [1] DEBUG - Statement Id: [DAO00027_GetListDuocTonKhoVaBookingCOM23UpdateRedis_TheoPhamvi] Types: [@param0=[Int64, System.Int64]]
2019-08-19 16:42:26,900 [1] DEBUG - Statement Id: [DAO00002_ScreenList] PreparedStatement : [select TM_SYS_SCREEN.*                             from TM_SYS_SCREEN                             where TM_SYS_SCREEN.HOSPITAL_ID = 'HLU01'               AND                   TM_SYS_SCREEN.PAGE = 'PHA88'                             order by TM_SYS_SCREEN.ID, TM_SYS_SCREEN.PARENTNAME, TM_SYS_SCREEN.TABINDEX]
2019-08-19 16:42:27,173 [1] DEBUG - Statement Id: [DAO00030_PHIEULINH_SEARCH] PreparedStatement : [select *              from TT_DUOC_PHIEULINH               where                         TT_DUOC_PHIEULINH.KHONHAP_ID = '16'                     and                         CONVERT(date, NGAYCHUNGTU) BETWEEN  CONVERT(date, '8/19/2019 12:00:00 AM') and  CONVERT(date, '8/19/2019 12:00:00 AM')                                   order by NGAYCHUNGTU DESC]
2019-08-19 16:42:32,281 [1] DEBUG - Statement Id: [DAO00030_PHIEULINH_SEARCH] PreparedStatement : [select *              from TT_DUOC_PHIEULINH               where                         TT_DUOC_PHIEULINH.KHONHAP_ID = '16'                     and                         CONVERT(date, NGAYCHUNGTU) BETWEEN  CONVERT(date, '5/1/2019 12:00:00 AM') and  CONVERT(date, '8/19/2019 12:00:00 AM')                                   order by NGAYCHUNGTU DESC]
2019-08-19 16:44:54,251 [1] DEBUG - Statement Id: [DAO00030_DUOCPHIEULINH_GetList] PreparedStatement : [select *              from TT_DUOC_PHIEULINH               where                             TT_DUOC_PHIEULINH.CHUNGTU_ID = '5451'                                     order by CHUNGTU_ID]
2019-08-19 16:44:54,363 [1] DEBUG - Statement Id: [DAO00030_GetPhamViByKhoDuoc] PreparedStatement : [SELECT DISTINCT pv.PHAMVI_ID          FROM TM_DUOC_PHAMVISD_MAPPING mp          INNER JOIN TM_DUOC_PHAMVISUDUNG pv ON mp.PHAMVI_ID = pv.PHAMVI_ID          WHERE          mp.KHODUOC_ID IN (6)          AND mp.BENHVIEN_ID ='HLU01'          AND mp.TAMNGUNG = '0'          AND pv.TAMNGUNG = '0']
2019-08-19 16:44:54,536 [1] DEBUG - Statement Id: [DAO00030_GetPhamViByKhoDuoc] PreparedStatement : [SELECT DISTINCT pv.PHAMVI_ID          FROM TM_DUOC_PHAMVISD_MAPPING mp          INNER JOIN TM_DUOC_PHAMVISUDUNG pv ON mp.PHAMVI_ID = pv.PHAMVI_ID          WHERE          mp.KHODUOC_ID IN (6)          AND mp.BENHVIEN_ID ='HLU01'          AND mp.TAMNGUNG = '0'          AND pv.TAMNGUNG = '0']
2019-08-19 16:44:54,579 [1] DEBUG - Statement Id: [DAO00030_DUOCPHIEULINHCT_GetList] PreparedStatement : [select CT.*, NLD.TENNHOMLOAIDUOC, LD.MALOAIDUOC, D.TENDUOCDAYDU, D.DONVITINH, CT.TOATHUOCNOITRU_ID AS TOATHUOC_ID,            LTRIM(PL.KHOXUAT_ID) + '_' + LTRIM(ct.DUOC_ID) + '_' + LTRIM(ct.NGUONHANG_ID) as DUOC_KEY            from TT_DUOC_PHIEULINH_CHITIET CT            inner join TT_DUOC_PHIEULINH PL ON PL.CHUNGTU_ID = CT.CHUNGTU_ID            left join TM_DUOC D on D.DUOC_ID = CT.DUOC_ID            left join TM_LOAIDUOC LD on LD.LOAIDUOC_ID = D.LOAIDUOC_ID            left join TM_NHOMLOAIDUOC NLD on NLD.NHOMLOAIDUOC_ID = LD.NHOMLOAIDUOC_ID             where                             CT.CHUNGTU_ID = '5451'                                     order by CHUNGTUCHITIET_ID]
2019-08-19 16:44:54,800 [1] DEBUG - Statement Id: [DAO00030_YLENH_NOITRU_NGAYCAPNHAT] PreparedStatement : [SELECT              TT.NGAYCAPNHAT              FROM              TT_NOITRU_TOATHUOC TT              inner join TM_DUOC D on D.DUOC_ID = TT.DUOC_ID              inner join TM_LOAIDUOC LD on LD.LOAIDUOC_ID = D.LOAIDUOC_ID              WHERE              tt.KHAMBENH_ID IN (42439)              AND tt.BENHVIEN_ID = 'HLU01'                             order by NGAYCAPNHAT]
2019-08-19 16:44:54,916 [1] DEBUG - Statement Id: [DAO00030_DUOCTONKHO_GetSoTonTheoDuoc] PreparedStatement : [SELECT              DUOC_ID,              SUM(SOLUONG) AS TONGTON              FROM              TT_DUOC_TONKHO              WHERE              KHODUOC_ID = '6'              and BENHVIEN_ID = 'HLU01'              and DUOC_ID IN (634)              GROUP BY DUOC_ID]
2019-08-19 16:44:59,252 [1] DEBUG - Statement Id: [DAO00200_GetDetail] PreparedStatement : [select *              from TM_REPORT              where TM_REPORT.REPORT_CODE  = 'PHA07P00009' AND TM_REPORT.BENHVIEN_ID = 'HLU01']
2019-08-19 16:44:59,305 [1] DEBUG - Statement Id: [DAO00201_GetList] PreparedStatement : [select *              from TM_REPORT_DETAIL               where                             TM_REPORT_DETAIL.REPORT_CODE = 'PHA07P00009'                       and                           TM_REPORT_DETAIL.BENHVIEN_ID = 'HLU01'                                     order by PARAMETER_INDEX]
2019-08-19 16:44:59,339 [1] DEBUG - Statement Id: [DAO00203_GetList] PreparedStatement : [select *              from TM_REPORT_SUB_DEFINITION               where                             TM_REPORT_SUB_DEFINITION.REPORT_CODE = 'PHA07P00009'                       and                           TM_REPORT_SUB_DEFINITION.BENHVIEN_ID = 'HLU01'                                     order by REPORT_SUB_DEFINITION_ID]
2019-08-19 16:44:59,365 [1] DEBUG - Statement Id: [DAO00201_GetListByParentReportID] PreparedStatement : [select RD.*              from TM_REPORT AS R              INNER JOIN TM_REPORT_SUB_DEFINITION AS RS ON R.REPORT_CODE = RS.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              INNER JOIN TM_REPORT_DETAIL AS RD ON RD.REPORT_CODE = RS.SUB_REPORT_CODE AND RD.BENHVIEN_ID = RS.BENHVIEN_ID              where R.REPORT_CODE  = 'PHA07P00009' AND R.BENHVIEN_ID = 'HLU01']
2019-08-19 16:44:59,430 [1] DEBUG - Statement Id: [DAO00203_GetListReportSubFileByReportID] PreparedStatement : [select R.*              from TM_REPORT_SUB_DEFINITION AS RS              inner join TM_REPORT AS R ON RS.SUB_REPORT_CODE = R.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              where RS.REPORT_CODE = 'PHA07P00009' AND RS.BENHVIEN_ID = 'HLU01']
2019-08-19 16:44:59,496 [1] DEBUG - Statement Id: [DAO00218_GetListParameter] PreparedStatement : [SELECT SUBSTRING(p.name, 2, LEN(p.name) - 1) AS PARAMETER, p.parameter_id AS Idx, CONVERT(varchar(1),p.is_nullable) as Allow_Null              FROM sys.procedures sp              INNER JOIN sys.parameters p ON sp.object_id = p.object_id              WHERE sp.name = 'PHA07P00009'              ORDER BY p.parameter_id]
2019-08-19 16:44:59,729 [1] DEBUG - Statement Id: [DAO00218_GetReportData] PreparedStatement : [PHA07P00009]
2019-08-19 16:44:59,729 [1] DEBUG - Statement Id: [DAO00218_GetReportData] Parameters: [@SOCHUNGTU=[PARAMETERS.SOCHUNGTU,5451], @MABENHVIEN=[PARAMETERS.MABENHVIEN,HLU01]]
2019-08-19 16:44:59,729 [1] DEBUG - Statement Id: [DAO00218_GetReportData] Types: [@SOCHUNGTU=[Int64, System.Int64], @MABENHVIEN=[String, System.String]]
2019-08-19 16:45:00,528 [1] DEBUG - Statement Id: [DAO00200_GetSettingReportPrinting] PreparedStatement : [SELECT DICTIONARY_CODE AS REPORT_CODE, DICTIONARY_NAME AS COMPUTER_NAME, DICTIONARY_NAME_EN AS NAME_PRINTER          FROM LST_DICTIONARY          WHERE BENHVIEN_ID = 'HLU01' AND ENABLED = '1' AND DICTIONARY_TYPE_CODE = 'Report_Printer_Setting'          AND DICTIONARY_CODE = 'PHA07P00009' AND DICTIONARY_NAME = 'GMC-HAIPN6']
2019-08-19 16:45:39,898 [1] DEBUG - Statement Id: [DAO00030_PHIEULINH_SEARCH] PreparedStatement : [select *              from TT_DUOC_PHIEULINH               where                         TT_DUOC_PHIEULINH.KHONHAP_ID = '16'                     and                         CONVERT(date, NGAYCHUNGTU) BETWEEN  CONVERT(date, '5/1/2019 12:00:00 AM') and  CONVERT(date, '8/19/2019 12:00:00 AM')                                   order by NGAYCHUNGTU DESC]
2019-08-19 16:45:50,405 [1] DEBUG - Statement Id: [DAO00030_DUOCPHIEULINH_GetList] PreparedStatement : [select *              from TT_DUOC_PHIEULINH               where                             TT_DUOC_PHIEULINH.CHUNGTU_ID = '5492'                                     order by CHUNGTU_ID]
2019-08-19 16:45:50,507 [1] DEBUG - Statement Id: [DAO00030_GetPhamViByKhoDuoc] PreparedStatement : [SELECT DISTINCT pv.PHAMVI_ID          FROM TM_DUOC_PHAMVISD_MAPPING mp          INNER JOIN TM_DUOC_PHAMVISUDUNG pv ON mp.PHAMVI_ID = pv.PHAMVI_ID          WHERE          mp.KHODUOC_ID IN (1)          AND mp.BENHVIEN_ID ='HLU01'          AND mp.TAMNGUNG = '0'          AND pv.TAMNGUNG = '0']
2019-08-19 16:45:50,637 [1] DEBUG - Statement Id: [DAO00030_GetPhamViByKhoDuoc] PreparedStatement : [SELECT DISTINCT pv.PHAMVI_ID          FROM TM_DUOC_PHAMVISD_MAPPING mp          INNER JOIN TM_DUOC_PHAMVISUDUNG pv ON mp.PHAMVI_ID = pv.PHAMVI_ID          WHERE          mp.KHODUOC_ID IN (1)          AND mp.BENHVIEN_ID ='HLU01'          AND mp.TAMNGUNG = '0'          AND pv.TAMNGUNG = '0']
2019-08-19 16:45:50,682 [1] DEBUG - Statement Id: [DAO00030_DUOCPHIEULINHCT_GetList] PreparedStatement : [select CT.*, NLD.TENNHOMLOAIDUOC, LD.MALOAIDUOC, D.TENDUOCDAYDU, D.DONVITINH, CT.TOATHUOCNOITRU_ID AS TOATHUOC_ID,            LTRIM(PL.KHOXUAT_ID) + '_' + LTRIM(ct.DUOC_ID) + '_' + LTRIM(ct.NGUONHANG_ID) as DUOC_KEY            from TT_DUOC_PHIEULINH_CHITIET CT            inner join TT_DUOC_PHIEULINH PL ON PL.CHUNGTU_ID = CT.CHUNGTU_ID            left join TM_DUOC D on D.DUOC_ID = CT.DUOC_ID            left join TM_LOAIDUOC LD on LD.LOAIDUOC_ID = D.LOAIDUOC_ID            left join TM_NHOMLOAIDUOC NLD on NLD.NHOMLOAIDUOC_ID = LD.NHOMLOAIDUOC_ID             where                             CT.CHUNGTU_ID = '5492'                                     order by CHUNGTUCHITIET_ID]
2019-08-19 16:45:52,447 [1] DEBUG - Statement Id: [DAO00030_YLENH_NOITRU_NGAYCAPNHAT] PreparedStatement : [SELECT              TT.NGAYCAPNHAT              FROM              TT_NOITRU_TOATHUOC TT              inner join TM_DUOC D on D.DUOC_ID = TT.DUOC_ID              inner join TM_LOAIDUOC LD on LD.LOAIDUOC_ID = D.LOAIDUOC_ID              WHERE              tt.KHAMBENH_ID IN (42439,42400,42400,42402,42402,42406,42410,42410,42410,42422,42422,42422,42432,42432,42432,42432,42461,42461,42461,42461,42461,42461,42484,42488,42497,42497,42497,42497,42508,42508,42508,42520,42520,42520,42523,42523,42543,42543,42543,42543,42543,42543,42543,42543,42553,42553,42553,42553,42558,42558,42558,42558,42571,42571,42571,42585,42585,42585,42585,42588,42588,42588,42595,42595,42595,42595,42609,42609,42615,42615,42615,42621,42621,42636,42636,42636,42639,42639,42639,42642,42642,42648,42648,42648,42653,42653,42720,42720,42724,42724,42724,42728,42731,42731,42736,42736,42736,42740,42740,42740,42743,42743,42747,42747,42747,42747,42752,42752,42752,42402,42768,42770,42770,42772,42772)              AND tt.BENHVIEN_ID = 'HLU01'                             order by NGAYCAPNHAT]
2019-08-19 16:45:52,557 [1] DEBUG - Statement Id: [DAO00030_DUOCTONKHO_GetSoTonTheoDuoc] PreparedStatement : [SELECT              DUOC_ID,              SUM(SOLUONG) AS TONGTON              FROM              TT_DUOC_TONKHO              WHERE              KHODUOC_ID = '1'              and BENHVIEN_ID = 'HLU01'              and DUOC_ID IN (921,958,943,992,943,921,958,943,921,958,901,921,958,940,1226,948,969,976,921,958,1028,870,870,921,958,940,1226,1641,958,1226,921,958,943,921,958,940,921,958,1018,963,970,807,868,921,958,940,1226,921,958,940,901,921,958,901,921,958,940,901,921,958,1226,921,958,940,901,921,958,921,958,901,921,958,921,958,1226,921,958,943,921,958,921,969,958,921,958,1641,948,921,958,943,943,948,969,921,958,943,921,958,969,879,1226,948,969,921,958,921,958,1226,839,943,969,948,943,1296)              GROUP BY DUOC_ID]
2019-08-19 16:45:58,399 [1] DEBUG - Statement Id: [DAO00200_GetDetail] PreparedStatement : [select *              from TM_REPORT              where TM_REPORT.REPORT_CODE  = 'PHA07P00009' AND TM_REPORT.BENHVIEN_ID = 'HLU01']
2019-08-19 16:45:58,451 [1] DEBUG - Statement Id: [DAO00201_GetList] PreparedStatement : [select *              from TM_REPORT_DETAIL               where                             TM_REPORT_DETAIL.REPORT_CODE = 'PHA07P00009'                       and                           TM_REPORT_DETAIL.BENHVIEN_ID = 'HLU01'                                     order by PARAMETER_INDEX]
2019-08-19 16:45:58,480 [1] DEBUG - Statement Id: [DAO00203_GetList] PreparedStatement : [select *              from TM_REPORT_SUB_DEFINITION               where                             TM_REPORT_SUB_DEFINITION.REPORT_CODE = 'PHA07P00009'                       and                           TM_REPORT_SUB_DEFINITION.BENHVIEN_ID = 'HLU01'                                     order by REPORT_SUB_DEFINITION_ID]
2019-08-19 16:45:58,506 [1] DEBUG - Statement Id: [DAO00201_GetListByParentReportID] PreparedStatement : [select RD.*              from TM_REPORT AS R              INNER JOIN TM_REPORT_SUB_DEFINITION AS RS ON R.REPORT_CODE = RS.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              INNER JOIN TM_REPORT_DETAIL AS RD ON RD.REPORT_CODE = RS.SUB_REPORT_CODE AND RD.BENHVIEN_ID = RS.BENHVIEN_ID              where R.REPORT_CODE  = 'PHA07P00009' AND R.BENHVIEN_ID = 'HLU01']
2019-08-19 16:45:58,561 [1] DEBUG - Statement Id: [DAO00203_GetListReportSubFileByReportID] PreparedStatement : [select R.*              from TM_REPORT_SUB_DEFINITION AS RS              inner join TM_REPORT AS R ON RS.SUB_REPORT_CODE = R.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              where RS.REPORT_CODE = 'PHA07P00009' AND RS.BENHVIEN_ID = 'HLU01']
2019-08-19 16:45:58,591 [1] DEBUG - Statement Id: [DAO00218_GetListParameter] PreparedStatement : [SELECT SUBSTRING(p.name, 2, LEN(p.name) - 1) AS PARAMETER, p.parameter_id AS Idx, CONVERT(varchar(1),p.is_nullable) as Allow_Null              FROM sys.procedures sp              INNER JOIN sys.parameters p ON sp.object_id = p.object_id              WHERE sp.name = 'PHA07P00009'              ORDER BY p.parameter_id]
2019-08-19 16:45:58,616 [1] DEBUG - Statement Id: [DAO00218_GetReportData] PreparedStatement : [PHA07P00009]
2019-08-19 16:45:58,617 [1] DEBUG - Statement Id: [DAO00218_GetReportData] Parameters: [@SOCHUNGTU=[PARAMETERS.SOCHUNGTU,5492], @MABENHVIEN=[PARAMETERS.MABENHVIEN,HLU01]]
2019-08-19 16:45:58,617 [1] DEBUG - Statement Id: [DAO00218_GetReportData] Types: [@SOCHUNGTU=[Int64, System.Int64], @MABENHVIEN=[String, System.String]]
2019-08-19 16:45:59,447 [1] DEBUG - Statement Id: [DAO00200_GetSettingReportPrinting] PreparedStatement : [SELECT DICTIONARY_CODE AS REPORT_CODE, DICTIONARY_NAME AS COMPUTER_NAME, DICTIONARY_NAME_EN AS NAME_PRINTER          FROM LST_DICTIONARY          WHERE BENHVIEN_ID = 'HLU01' AND ENABLED = '1' AND DICTIONARY_TYPE_CODE = 'Report_Printer_Setting'          AND DICTIONARY_CODE = 'PHA07P00009' AND DICTIONARY_NAME = 'GMC-HAIPN6']
2019-08-19 16:50:49,520 [1] DEBUG - Statement Id: [DAO00200_GetDetail] PreparedStatement : [select *              from TM_REPORT              where TM_REPORT.REPORT_CODE  = 'PHA07P00009' AND TM_REPORT.BENHVIEN_ID = 'HLU01']
2019-08-19 16:50:49,572 [1] DEBUG - Statement Id: [DAO00201_GetList] PreparedStatement : [select *              from TM_REPORT_DETAIL               where                             TM_REPORT_DETAIL.REPORT_CODE = 'PHA07P00009'                       and                           TM_REPORT_DETAIL.BENHVIEN_ID = 'HLU01'                                     order by PARAMETER_INDEX]
2019-08-19 16:50:49,602 [1] DEBUG - Statement Id: [DAO00203_GetList] PreparedStatement : [select *              from TM_REPORT_SUB_DEFINITION               where                             TM_REPORT_SUB_DEFINITION.REPORT_CODE = 'PHA07P00009'                       and                           TM_REPORT_SUB_DEFINITION.BENHVIEN_ID = 'HLU01'                                     order by REPORT_SUB_DEFINITION_ID]
2019-08-19 16:50:49,628 [1] DEBUG - Statement Id: [DAO00201_GetListByParentReportID] PreparedStatement : [select RD.*              from TM_REPORT AS R              INNER JOIN TM_REPORT_SUB_DEFINITION AS RS ON R.REPORT_CODE = RS.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              INNER JOIN TM_REPORT_DETAIL AS RD ON RD.REPORT_CODE = RS.SUB_REPORT_CODE AND RD.BENHVIEN_ID = RS.BENHVIEN_ID              where R.REPORT_CODE  = 'PHA07P00009' AND R.BENHVIEN_ID = 'HLU01']
2019-08-19 16:50:49,682 [1] DEBUG - Statement Id: [DAO00203_GetListReportSubFileByReportID] PreparedStatement : [select R.*              from TM_REPORT_SUB_DEFINITION AS RS              inner join TM_REPORT AS R ON RS.SUB_REPORT_CODE = R.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              where RS.REPORT_CODE = 'PHA07P00009' AND RS.BENHVIEN_ID = 'HLU01']
2019-08-19 16:50:49,710 [1] DEBUG - Statement Id: [DAO00218_GetListParameter] PreparedStatement : [SELECT SUBSTRING(p.name, 2, LEN(p.name) - 1) AS PARAMETER, p.parameter_id AS Idx, CONVERT(varchar(1),p.is_nullable) as Allow_Null              FROM sys.procedures sp              INNER JOIN sys.parameters p ON sp.object_id = p.object_id              WHERE sp.name = 'PHA07P00009'              ORDER BY p.parameter_id]
2019-08-19 16:50:49,840 [1] DEBUG - Statement Id: [DAO00218_GetReportData] PreparedStatement : [PHA07P00009]
2019-08-19 16:50:49,841 [1] DEBUG - Statement Id: [DAO00218_GetReportData] Parameters: [@SOCHUNGTU=[PARAMETERS.SOCHUNGTU,5492], @MABENHVIEN=[PARAMETERS.MABENHVIEN,HLU01]]
2019-08-19 16:50:49,841 [1] DEBUG - Statement Id: [DAO00218_GetReportData] Types: [@SOCHUNGTU=[Int64, System.Int64], @MABENHVIEN=[String, System.String]]
2019-08-19 16:50:50,012 [1] DEBUG - Statement Id: [DAO00200_GetSettingReportPrinting] PreparedStatement : [SELECT DICTIONARY_CODE AS REPORT_CODE, DICTIONARY_NAME AS COMPUTER_NAME, DICTIONARY_NAME_EN AS NAME_PRINTER          FROM LST_DICTIONARY          WHERE BENHVIEN_ID = 'HLU01' AND ENABLED = '1' AND DICTIONARY_TYPE_CODE = 'Report_Printer_Setting'          AND DICTIONARY_CODE = 'PHA07P00009' AND DICTIONARY_NAME = 'GMC-HAIPN6']
2019-08-19 16:53:47,490 [1] DEBUG - Statement Id: [DAO00200_GetDetail] PreparedStatement : [select *              from TM_REPORT              where TM_REPORT.REPORT_CODE  = 'PHA07P00009' AND TM_REPORT.BENHVIEN_ID = 'HLU01']
2019-08-19 16:53:47,540 [1] DEBUG - Statement Id: [DAO00201_GetList] PreparedStatement : [select *              from TM_REPORT_DETAIL               where                             TM_REPORT_DETAIL.REPORT_CODE = 'PHA07P00009'                       and                           TM_REPORT_DETAIL.BENHVIEN_ID = 'HLU01'                                     order by PARAMETER_INDEX]
2019-08-19 16:53:47,570 [1] DEBUG - Statement Id: [DAO00203_GetList] PreparedStatement : [select *              from TM_REPORT_SUB_DEFINITION               where                             TM_REPORT_SUB_DEFINITION.REPORT_CODE = 'PHA07P00009'                       and                           TM_REPORT_SUB_DEFINITION.BENHVIEN_ID = 'HLU01'                                     order by REPORT_SUB_DEFINITION_ID]
2019-08-19 16:53:47,596 [1] DEBUG - Statement Id: [DAO00201_GetListByParentReportID] PreparedStatement : [select RD.*              from TM_REPORT AS R              INNER JOIN TM_REPORT_SUB_DEFINITION AS RS ON R.REPORT_CODE = RS.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              INNER JOIN TM_REPORT_DETAIL AS RD ON RD.REPORT_CODE = RS.SUB_REPORT_CODE AND RD.BENHVIEN_ID = RS.BENHVIEN_ID              where R.REPORT_CODE  = 'PHA07P00009' AND R.BENHVIEN_ID = 'HLU01']
2019-08-19 16:53:47,650 [1] DEBUG - Statement Id: [DAO00203_GetListReportSubFileByReportID] PreparedStatement : [select R.*              from TM_REPORT_SUB_DEFINITION AS RS              inner join TM_REPORT AS R ON RS.SUB_REPORT_CODE = R.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              where RS.REPORT_CODE = 'PHA07P00009' AND RS.BENHVIEN_ID = 'HLU01']
2019-08-19 16:53:47,679 [1] DEBUG - Statement Id: [DAO00218_GetListParameter] PreparedStatement : [SELECT SUBSTRING(p.name, 2, LEN(p.name) - 1) AS PARAMETER, p.parameter_id AS Idx, CONVERT(varchar(1),p.is_nullable) as Allow_Null              FROM sys.procedures sp              INNER JOIN sys.parameters p ON sp.object_id = p.object_id              WHERE sp.name = 'PHA07P00009'              ORDER BY p.parameter_id]
2019-08-19 16:53:47,705 [1] DEBUG - Statement Id: [DAO00218_GetReportData] PreparedStatement : [PHA07P00009]
2019-08-19 16:53:47,705 [1] DEBUG - Statement Id: [DAO00218_GetReportData] Parameters: [@SOCHUNGTU=[PARAMETERS.SOCHUNGTU,5492], @MABENHVIEN=[PARAMETERS.MABENHVIEN,HLU01]]
2019-08-19 16:53:47,705 [1] DEBUG - Statement Id: [DAO00218_GetReportData] Types: [@SOCHUNGTU=[Int64, System.Int64], @MABENHVIEN=[String, System.String]]
2019-08-19 16:54:40,078 [1] DEBUG - Statement Id: [DAO00200_GetDetail] PreparedStatement : [select *              from TM_REPORT              where TM_REPORT.REPORT_CODE  = 'PHA07P00009' AND TM_REPORT.BENHVIEN_ID = 'HLU01']
2019-08-19 16:54:40,130 [1] DEBUG - Statement Id: [DAO00201_GetList] PreparedStatement : [select *              from TM_REPORT_DETAIL               where                             TM_REPORT_DETAIL.REPORT_CODE = 'PHA07P00009'                       and                           TM_REPORT_DETAIL.BENHVIEN_ID = 'HLU01'                                     order by PARAMETER_INDEX]
2019-08-19 16:54:40,161 [1] DEBUG - Statement Id: [DAO00203_GetList] PreparedStatement : [select *              from TM_REPORT_SUB_DEFINITION               where                             TM_REPORT_SUB_DEFINITION.REPORT_CODE = 'PHA07P00009'                       and                           TM_REPORT_SUB_DEFINITION.BENHVIEN_ID = 'HLU01'                                     order by REPORT_SUB_DEFINITION_ID]
2019-08-19 16:54:40,187 [1] DEBUG - Statement Id: [DAO00201_GetListByParentReportID] PreparedStatement : [select RD.*              from TM_REPORT AS R              INNER JOIN TM_REPORT_SUB_DEFINITION AS RS ON R.REPORT_CODE = RS.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              INNER JOIN TM_REPORT_DETAIL AS RD ON RD.REPORT_CODE = RS.SUB_REPORT_CODE AND RD.BENHVIEN_ID = RS.BENHVIEN_ID              where R.REPORT_CODE  = 'PHA07P00009' AND R.BENHVIEN_ID = 'HLU01']
2019-08-19 16:54:40,241 [1] DEBUG - Statement Id: [DAO00203_GetListReportSubFileByReportID] PreparedStatement : [select R.*              from TM_REPORT_SUB_DEFINITION AS RS              inner join TM_REPORT AS R ON RS.SUB_REPORT_CODE = R.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              where RS.REPORT_CODE = 'PHA07P00009' AND RS.BENHVIEN_ID = 'HLU01']
2019-08-19 16:54:40,271 [1] DEBUG - Statement Id: [DAO00218_GetListParameter] PreparedStatement : [SELECT SUBSTRING(p.name, 2, LEN(p.name) - 1) AS PARAMETER, p.parameter_id AS Idx, CONVERT(varchar(1),p.is_nullable) as Allow_Null              FROM sys.procedures sp              INNER JOIN sys.parameters p ON sp.object_id = p.object_id              WHERE sp.name = 'PHA07P00009'              ORDER BY p.parameter_id]
2019-08-19 16:54:40,298 [1] DEBUG - Statement Id: [DAO00218_GetReportData] PreparedStatement : [PHA07P00009]
2019-08-19 16:54:40,298 [1] DEBUG - Statement Id: [DAO00218_GetReportData] Parameters: [@SOCHUNGTU=[PARAMETERS.SOCHUNGTU,5492], @MABENHVIEN=[PARAMETERS.MABENHVIEN,HLU01]]
2019-08-19 16:54:40,298 [1] DEBUG - Statement Id: [DAO00218_GetReportData] Types: [@SOCHUNGTU=[Int64, System.Int64], @MABENHVIEN=[String, System.String]]
2019-08-19 16:54:40,495 [1] DEBUG - Statement Id: [DAO00200_GetSettingReportPrinting] PreparedStatement : [SELECT DICTIONARY_CODE AS REPORT_CODE, DICTIONARY_NAME AS COMPUTER_NAME, DICTIONARY_NAME_EN AS NAME_PRINTER          FROM LST_DICTIONARY          WHERE BENHVIEN_ID = 'HLU01' AND ENABLED = '1' AND DICTIONARY_TYPE_CODE = 'Report_Printer_Setting'          AND DICTIONARY_CODE = 'PHA07P00009' AND DICTIONARY_NAME = 'GMC-HAIPN6']
2019-08-19 17:23:58,311 [1] DEBUG - Statement Id: [DAO00030_PHIEULINH_SEARCH] PreparedStatement : [select *              from TT_DUOC_PHIEULINH               where                         TT_DUOC_PHIEULINH.KHONHAP_ID = '16'                     and                         CONVERT(date, NGAYCHUNGTU) BETWEEN  CONVERT(date, '5/1/2019 12:00:00 AM') and  CONVERT(date, '8/19/2019 12:00:00 AM')                                   order by NGAYCHUNGTU DESC]
2019-08-19 17:24:22,674 [1] DEBUG - Statement Id: [DAO00030_DUOCPHIEULINH_GetList] PreparedStatement : [select *              from TT_DUOC_PHIEULINH               where                             TT_DUOC_PHIEULINH.CHUNGTU_ID = '5430'                                     order by CHUNGTU_ID]
2019-08-19 17:24:22,774 [1] DEBUG - Statement Id: [DAO00030_GetPhamViByKhoDuoc] PreparedStatement : [SELECT DISTINCT pv.PHAMVI_ID          FROM TM_DUOC_PHAMVISD_MAPPING mp          INNER JOIN TM_DUOC_PHAMVISUDUNG pv ON mp.PHAMVI_ID = pv.PHAMVI_ID          WHERE          mp.KHODUOC_ID IN (6)          AND mp.BENHVIEN_ID ='HLU01'          AND mp.TAMNGUNG = '0'          AND pv.TAMNGUNG = '0']
2019-08-19 17:24:22,902 [1] DEBUG - Statement Id: [DAO00030_GetPhamViByKhoDuoc] PreparedStatement : [SELECT DISTINCT pv.PHAMVI_ID          FROM TM_DUOC_PHAMVISD_MAPPING mp          INNER JOIN TM_DUOC_PHAMVISUDUNG pv ON mp.PHAMVI_ID = pv.PHAMVI_ID          WHERE          mp.KHODUOC_ID IN (6)          AND mp.BENHVIEN_ID ='HLU01'          AND mp.TAMNGUNG = '0'          AND pv.TAMNGUNG = '0']
2019-08-19 17:24:22,939 [1] DEBUG - Statement Id: [DAO00030_DUOCPHIEULINHCT_GetList] PreparedStatement : [select CT.*, NLD.TENNHOMLOAIDUOC, LD.MALOAIDUOC, D.TENDUOCDAYDU, D.DONVITINH, CT.TOATHUOCNOITRU_ID AS TOATHUOC_ID,            LTRIM(PL.KHOXUAT_ID) + '_' + LTRIM(ct.DUOC_ID) + '_' + LTRIM(ct.NGUONHANG_ID) as DUOC_KEY            from TT_DUOC_PHIEULINH_CHITIET CT            inner join TT_DUOC_PHIEULINH PL ON PL.CHUNGTU_ID = CT.CHUNGTU_ID            left join TM_DUOC D on D.DUOC_ID = CT.DUOC_ID            left join TM_LOAIDUOC LD on LD.LOAIDUOC_ID = D.LOAIDUOC_ID            left join TM_NHOMLOAIDUOC NLD on NLD.NHOMLOAIDUOC_ID = LD.NHOMLOAIDUOC_ID             where                             CT.CHUNGTU_ID = '5430'                                     order by CHUNGTUCHITIET_ID]
2019-08-19 17:24:23,196 [1] DEBUG - Statement Id: [DAO00030_YLENH_NOITRU_NGAYCAPNHAT] PreparedStatement : [SELECT              TT.NGAYCAPNHAT              FROM              TT_NOITRU_TOATHUOC TT              inner join TM_DUOC D on D.DUOC_ID = TT.DUOC_ID              inner join TM_LOAIDUOC LD on LD.LOAIDUOC_ID = D.LOAIDUOC_ID              WHERE              tt.KHAMBENH_ID IN (42439,42400,42400,42402,42402,42406,42410,42410,42410,42422,42422,42422,42432,42432,42432,42432,42461,42461,42461,42461,42461,42461,42484,42488,42497,42497,42497,42497,42508,42508,42508,42520,42520,42520,42523,42523,42543,42543,42543,42543,42543,42543,42543,42543,42553,42553,42553,42553,42558,42558,42558,42558,42571,42571,42571,42585,42585,42585,42585,42588,42588,42588,42595,42595,42595,42595,42609,42609,42615,42615,42615,42621,42621,42636,42636,42636,42639,42639,42639,42642,42642,42648,42648,42648,42653,42653,42720,42720,42724,42724,42724,42728,42731,42731,42736,42736,42736,42740,42740,42740,42743,42743,42747,42747,42747,42747,42752,42752,42752,42402,42768,42770,42770,42772,42772,42152,42152,42152,42152,42153,42153,42153,42153)              AND tt.BENHVIEN_ID = 'HLU01'                             order by NGAYCAPNHAT]
2019-08-19 17:24:23,299 [1] DEBUG - Statement Id: [DAO00030_DUOCTONKHO_GetSoTonTheoDuoc] PreparedStatement : [SELECT              DUOC_ID,              SUM(SOLUONG) AS TONGTON              FROM              TT_DUOC_TONKHO              WHERE              KHODUOC_ID = '6'              and BENHVIEN_ID = 'HLU01'              and DUOC_ID IN (1,3,305,11,1,3,305,11)              GROUP BY DUOC_ID]
2019-08-19 17:24:28,181 [1] DEBUG - Statement Id: [DAO00030_PHIEULINH_SEARCH] PreparedStatement : [select *              from TT_DUOC_PHIEULINH               where                         TT_DUOC_PHIEULINH.KHONHAP_ID = '16'                     and                         CONVERT(date, NGAYCHUNGTU) BETWEEN  CONVERT(date, '5/1/2019 12:00:00 AM') and  CONVERT(date, '8/19/2019 12:00:00 AM')                                   order by NGAYCHUNGTU DESC]
2019-08-19 17:24:42,140 [1] DEBUG - Statement Id: [DAO00030_DUOCPHIEULINH_GetList] PreparedStatement : [select *              from TT_DUOC_PHIEULINH               where                             TT_DUOC_PHIEULINH.CHUNGTU_ID = '6037'                                     order by CHUNGTU_ID]
2019-08-19 17:24:42,257 [1] DEBUG - Statement Id: [DAO00030_GetPhamViByKhoDuoc] PreparedStatement : [SELECT DISTINCT pv.PHAMVI_ID          FROM TM_DUOC_PHAMVISD_MAPPING mp          INNER JOIN TM_DUOC_PHAMVISUDUNG pv ON mp.PHAMVI_ID = pv.PHAMVI_ID          WHERE          mp.KHODUOC_ID IN (1)          AND mp.BENHVIEN_ID ='HLU01'          AND mp.TAMNGUNG = '0'          AND pv.TAMNGUNG = '0']
2019-08-19 17:24:42,425 [1] DEBUG - Statement Id: [DAO00030_GetPhamViByKhoDuoc] PreparedStatement : [SELECT DISTINCT pv.PHAMVI_ID          FROM TM_DUOC_PHAMVISD_MAPPING mp          INNER JOIN TM_DUOC_PHAMVISUDUNG pv ON mp.PHAMVI_ID = pv.PHAMVI_ID          WHERE          mp.KHODUOC_ID IN (1)          AND mp.BENHVIEN_ID ='HLU01'          AND mp.TAMNGUNG = '0'          AND pv.TAMNGUNG = '0']
2019-08-19 17:24:42,813 [1] DEBUG - Statement Id: [DAO00030_DUOCPHIEULINHCT_GetList] PreparedStatement : [select CT.*, NLD.TENNHOMLOAIDUOC, LD.MALOAIDUOC, D.TENDUOCDAYDU, D.DONVITINH, CT.TOATHUOCNOITRU_ID AS TOATHUOC_ID,            LTRIM(PL.KHOXUAT_ID) + '_' + LTRIM(ct.DUOC_ID) + '_' + LTRIM(ct.NGUONHANG_ID) as DUOC_KEY            from TT_DUOC_PHIEULINH_CHITIET CT            inner join TT_DUOC_PHIEULINH PL ON PL.CHUNGTU_ID = CT.CHUNGTU_ID            left join TM_DUOC D on D.DUOC_ID = CT.DUOC_ID            left join TM_LOAIDUOC LD on LD.LOAIDUOC_ID = D.LOAIDUOC_ID            left join TM_NHOMLOAIDUOC NLD on NLD.NHOMLOAIDUOC_ID = LD.NHOMLOAIDUOC_ID             where                             CT.CHUNGTU_ID = '6037'                                     order by CHUNGTUCHITIET_ID]
2019-08-19 17:24:44,138 [1] DEBUG - Statement Id: [DAO00030_YLENH_NOITRU_NGAYCAPNHAT] PreparedStatement : [SELECT              TT.NGAYCAPNHAT              FROM              TT_NOITRU_TOATHUOC TT              inner join TM_DUOC D on D.DUOC_ID = TT.DUOC_ID              inner join TM_LOAIDUOC LD on LD.LOAIDUOC_ID = D.LOAIDUOC_ID              WHERE              tt.KHAMBENH_ID IN (42439,42400,42400,42402,42402,42406,42410,42410,42410,42422,42422,42422,42432,42432,42432,42432,42461,42461,42461,42461,42461,42461,42484,42488,42497,42497,42497,42497,42508,42508,42508,42520,42520,42520,42523,42523,42543,42543,42543,42543,42543,42543,42543,42543,42553,42553,42553,42553,42558,42558,42558,42558,42571,42571,42571,42585,42585,42585,42585,42588,42588,42588,42595,42595,42595,42595,42609,42609,42615,42615,42615,42621,42621,42636,42636,42636,42639,42639,42639,42642,42642,42648,42648,42648,42653,42653,42720,42720,42724,42724,42724,42728,42731,42731,42736,42736,42736,42740,42740,42740,42743,42743,42747,42747,42747,42747,42752,42752,42752,42402,42768,42770,42770,42772,42772,42152,42152,42152,42152,42153,42153,42153,42153,46672,46673,46673,46674,46675,46677,46677,46678,46678,46679,46680,46682,46682,46682,46682,46682,46882,46882,46882,46883,46884,46885,46885,46885,46885,46885,46886,46886,46886,46886,46887,46887,46887,46887,46888,46888,46888,46889,46889,46889,46889,46891,46891,46891,46891,46892,46892,46892,46893,46894,46894,46894,46894,46926,46939,46946,46946,46946,46947,46958,46958,46958,46958,46959,46959,46959,46960,46961,46961,46961,46961,46961,46976,46976,46976,46976,46977)              AND tt.BENHVIEN_ID = 'HLU01'                             order by NGAYCAPNHAT]
2019-08-19 17:24:44,268 [1] DEBUG - Statement Id: [DAO00030_DUOCTONKHO_GetSoTonTheoDuoc] PreparedStatement : [SELECT              DUOC_ID,              SUM(SOLUONG) AS TONGTON              FROM              TT_DUOC_TONKHO              WHERE              KHODUOC_ID = '1'              and BENHVIEN_ID = 'HLU01'              and DUOC_ID IN (943,963,970,995,995,992,948,1292,958,901,901,921,958,1388,940,969,1388,1244,810,943,943,948,1388,921,958,969,948,969,921,958,969,948,870,1388,948,969,870,948,969,921,958,921,958,940,943,921,958,943,1037,921,958,940,969,992,943,921,958,969,992,974,855,816,958,921,958,1388,943,882,1030,938,958,887,882,992,887,1030,995)              GROUP BY DUOC_ID]
2019-08-19 17:24:51,567 [1] DEBUG - Statement Id: [DAO00200_GetDetail] PreparedStatement : [select *              from TM_REPORT              where TM_REPORT.REPORT_CODE  = 'PHA07P00009' AND TM_REPORT.BENHVIEN_ID = 'HLU01']
2019-08-19 17:24:51,621 [1] DEBUG - Statement Id: [DAO00201_GetList] PreparedStatement : [select *              from TM_REPORT_DETAIL               where                             TM_REPORT_DETAIL.REPORT_CODE = 'PHA07P00009'                       and                           TM_REPORT_DETAIL.BENHVIEN_ID = 'HLU01'                                     order by PARAMETER_INDEX]
2019-08-19 17:24:51,684 [1] DEBUG - Statement Id: [DAO00203_GetList] PreparedStatement : [select *              from TM_REPORT_SUB_DEFINITION               where                             TM_REPORT_SUB_DEFINITION.REPORT_CODE = 'PHA07P00009'                       and                           TM_REPORT_SUB_DEFINITION.BENHVIEN_ID = 'HLU01'                                     order by REPORT_SUB_DEFINITION_ID]
2019-08-19 17:24:51,713 [1] DEBUG - Statement Id: [DAO00201_GetListByParentReportID] PreparedStatement : [select RD.*              from TM_REPORT AS R              INNER JOIN TM_REPORT_SUB_DEFINITION AS RS ON R.REPORT_CODE = RS.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              INNER JOIN TM_REPORT_DETAIL AS RD ON RD.REPORT_CODE = RS.SUB_REPORT_CODE AND RD.BENHVIEN_ID = RS.BENHVIEN_ID              where R.REPORT_CODE  = 'PHA07P00009' AND R.BENHVIEN_ID = 'HLU01']
2019-08-19 17:24:51,773 [1] DEBUG - Statement Id: [DAO00203_GetListReportSubFileByReportID] PreparedStatement : [select R.*              from TM_REPORT_SUB_DEFINITION AS RS              inner join TM_REPORT AS R ON RS.SUB_REPORT_CODE = R.REPORT_CODE AND R.BENHVIEN_ID = RS.BENHVIEN_ID              where RS.REPORT_CODE = 'PHA07P00009' AND RS.BENHVIEN_ID = 'HLU01']
2019-08-19 17:24:51,805 [1] DEBUG - Statement Id: [DAO00218_GetListParameter] PreparedStatement : [SELECT SUBSTRING(p.name, 2, LEN(p.name) - 1) AS PARAMETER, p.parameter_id AS Idx, CONVERT(varchar(1),p.is_nullable) as Allow_Null              FROM sys.procedures sp              INNER JOIN sys.parameters p ON sp.object_id = p.object_id              WHERE sp.name = 'PHA07P00009'              ORDER BY p.parameter_id]
2019-08-19 17:24:51,958 [1] DEBUG - Statement Id: [DAO00218_GetReportData] PreparedStatement : [PHA07P00009]
2019-08-19 17:24:51,958 [1] DEBUG - Statement Id: [DAO00218_GetReportData] Parameters: [@SOCHUNGTU=[PARAMETERS.SOCHUNGTU,6037], @MABENHVIEN=[PARAMETERS.MABENHVIEN,HLU01]]
2019-08-19 17:24:51,958 [1] DEBUG - Statement Id: [DAO00218_GetReportData] Types: [@SOCHUNGTU=[Int64, System.Int64], @MABENHVIEN=[String, System.String]]
2019-08-19 17:24:52,269 [1] DEBUG - Statement Id: [DAO00200_GetSettingReportPrinting] PreparedStatement : [SELECT DICTIONARY_CODE AS REPORT_CODE, DICTIONARY_NAME AS COMPUTER_NAME, DICTIONARY_NAME_EN AS NAME_PRINTER          FROM LST_DICTIONARY          WHERE BENHVIEN_ID = 'HLU01' AND ENABLED = '1' AND DICTIONARY_TYPE_CODE = 'Report_Printer_Setting'          AND DICTIONARY_CODE = 'PHA07P00009' AND DICTIONARY_NAME = 'GMC-HAIPN6']
