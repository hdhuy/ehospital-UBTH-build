<?xml version="1.0" encoding="utf-8" ?>
<!--iBatis Map File-->
<sqlMap namespace="eHospital" xmlns="http://ibatis.apache.org/mapping" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <statements>
        <!--Revision:0-->
        <statement id="DAO00081_GetListOrderByTime" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
            select DISTINCT '0' as TESTAGAIN, A.BENHNHAN_ID, D.TENBENHNHAN, A.NGAYYEUCAU,D.NAMSINH,
            D.MAYTE, A.SOPHIEUYEUCAU SOPHIEU ,A.DVYEUCAU_ID, A.NGAYTAO,D.GIOITINH,D.NGAYSINH,D.DIACHI,NV.MANHANVIEN MABACSICHIDINH, NV.TENNHANVIEN BACSICHIDINH
            ,DT.TENDOITUONG,DT.MADOITUONG
            from TT_DVYEUCAU A
            inner join TM_DICHVU B on A.DICHVU_ID = B.DICHVU_ID
            inner join TM_NHOMDICHVU C on C.NHOMDICHVU_ID = B.NHOMDICHVU_ID
            inner join TT_BENHNHAN D on D.BENHNHAN_ID = A.BENHNHAN_ID
            LEFT JOIN TT_LAB_SIDSTATUS  E ON E.CLSYEUCAU_ID = A.DVYEUCAU_ID
            LEFT JOIN TM_NHANVIEN NV ON A.BACSICHIDINH_ID=NV.NHANVIEN_ID
            left join TM_DOITUONG dt on A.DOITUONG_ID=dt.DOITUONG_ID
            where
            A.TRANGTHAI = 'CHUAKETQUA'
            <!--and A.DUOCPHEPTHUCHIEN = '1'-->
            and TRUNC(A.NGAYYEUCAU) BETWEEN TRUNC(#TUNGAY#)  and  TRUNC(#DENNGAY#)
            and c.MANHOMDICHVU IN ('0101','0105','0109','0110')
            and E.CLSYEUCAU_ID is null
        </statement>
        <!--Revision:0-->
        <statement id="DAO00081_GetOrder" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
            select A.DVYEUCAU_ID, A.SOPHIEUYEUCAU, A.NGAYYEUCAU, A.CHANDOAN,
            B.BENHNHAN_ID, B.TENBENHNHAN as HOTEN, B.NGAYSINH, B.NAMSINH, B.MAYTE, B.NGAYTAO,
            case when B.GIOITINH = '1' then 'M' else 'F' end GIOITINH, B.DIACHILIENLAC AS DIACHI,
            C.TENDICHVU, C.MADICHVU AS MADV, C.DICHVU_ID,
            D.TENPHONGBAN, D.PHONGBAN_ID,
            DT.TENDOITUONG, DT.MADOITUONG ,
            DV.TENDICHVU AS TENDICHVUCON, DV.MADICHVU AS MADVCON,
            NVL(DV.DICHVU_ID,C.DICHVU_ID) AS IDDICHVUCON,
            NVL(DV.CAPTREN_ID,C.DICHVU_ID) AS CAPTREN_ID,
            '' AS MUCNGUYHIEMMIN, '' AS MUCNGUYHIEMMAX,
            NV.MANHANVIEN, NV.TENNHANVIEN, NV.NHANVIEN_ID,
            N.TENNHOMDICHVU, N.MANHOMDICHVU,
            CASE WHEN  SUBSTR(E.SOBENHAN,0,2) = 'CC' THEN 1 ELSE 0 END CAPCUU
            ,TO_NUMBER(TO_CHAR(sysdate, 'YYYY')) - TO_NUMBER(TO_CHAR(B.NGAYSINH, 'YYYY'))   SOTUOI
            from TT_DVYEUCAU A
            INNER JOIN TT_BENHNHAN B on A.BENHNHAN_ID = B.BENHNHAN_ID
            INNER JOIN TM_DICHVU C ON C.DICHVU_ID = A.DICHVU_ID
            INNER JOIN TM_PHONGBAN D ON D.PHONGBAN_ID = A.NOIYEUCAU_ID
            LEFT JOIN TT_NOITRU_BENHAN E ON E.BENHAN_ID = A.BENHAN_ID
            LEFT JOIN TT_TIEPNHAN TN  ON NVL(A.TIEPNHAN_ID, E.TIEPNHAN_ID) = TN.TIEPNHAN_ID
            INNER JOIN TM_DOITUONG DT ON DT.DOITUONG_ID = TN.DOITUONG_ID
            LEFT JOIN TM_DICHVU_GIATRICHUAN GTC ON GTC.DICHVU_ID = C.DICHVU_ID
            LEFT JOIN TM_DICHVU DV ON DV.CAPTREN_ID = C.DICHVU_ID
            LEFT JOIN TM_DICHVU_GIATRICHUAN GTCCON ON GTCCON.DICHVU_ID = DV.DICHVU_ID
            LEFT JOIN TM_NHANVIEN NV ON NV.NHANVIEN_ID = A.BACSICHIDINH_ID
            JOIN TM_NHOMDICHVU N ON N.NHOMDICHVU_ID = C.NHOMDICHVU_ID
            WHERE
            A.SOPHIEUYEUCAU  = '$SOPHIEUYEUCAU$'
            AND A.TRANGTHAI = 'CHUAKETQUA';
        </statement>
        <!--Revision:0-->
        <statement id="DAO00081_GetExaminationOrder" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
            select A.DVYEUCAU_ID, A.SOPHIEUYEUCAU, A.NGAYYEUCAU, A.CHANDOAN,
            B.BENHNHAN_ID, B.TENBENHNHAN as HOTEN, B.NGAYSINH, B.NAMSINH, B.MAYTE, B.NGAYTAO,
            case when B.GIOITINH = '1' then 'M' else 'F' end GIOITINH, B.DIACHILIENLAC AS DIACHI,
            C.TENDICHVU, C.MADICHVU AS MADV, C.DICHVU_ID,
            D.TENPHONGBAN, D.PHONGBAN_ID,
            DT.TENDOITUONG, DT.MADOITUONG ,
            DV.TENDICHVU AS TENDICHVUCON, DV.MADICHVU AS MADVCON,
            NVL(DV.DICHVU_ID,C.DICHVU_ID) AS IDDICHVUCON,
            NVL(DV.CAPTREN_ID,C.DICHVU_ID) AS CAPTREN_ID,
            '' AS MUCNGUYHIEMMIN, '' AS MUCNGUYHIEMMAX,
            NV.MANHANVIEN, NV.TENNHANVIEN, NV.NHANVIEN_ID,
            N.TENNHOMDICHVU, N.MANHOMDICHVU,
            CASE WHEN  SUBSTR(E.SOBENHAN,0,2) = 'CC' THEN 1 ELSE 0 END CAPCUU
            ,TO_NUMBER(TO_CHAR(sysdate, 'YYYY')) - TO_NUMBER(TO_CHAR(B.NGAYSINH, 'YYYY'))   SOTUOI
            from TT_DVYEUCAU A
            INNER JOIN TT_BENHNHAN B on A.BENHNHAN_ID = B.BENHNHAN_ID
            INNER JOIN TM_DICHVU C ON C.DICHVU_ID = A.DICHVU_ID
            INNER JOIN TM_PHONGBAN D ON D.PHONGBAN_ID = A.NOIYEUCAU_ID
            LEFT JOIN TT_NOITRU_BENHAN E ON E.BENHAN_ID = A.BENHAN_ID
            LEFT JOIN TT_TIEPNHAN TN  ON NVL(A.TIEPNHAN_ID, E.TIEPNHAN_ID) = TN.TIEPNHAN_ID
            INNER JOIN TM_DOITUONG DT ON DT.DOITUONG_ID = TN.DOITUONG_ID
            LEFT JOIN TM_DICHVU_GIATRICHUAN GTC ON GTC.DICHVU_ID = C.DICHVU_ID
            LEFT JOIN TM_DICHVU DV ON DV.CAPTREN_ID = C.DICHVU_ID
            LEFT JOIN TM_DICHVU_GIATRICHUAN GTCCON ON GTCCON.DICHVU_ID = DV.DICHVU_ID
            LEFT JOIN TM_NHANVIEN NV ON NV.NHANVIEN_ID = A.BACSICHIDINH_ID
            JOIN TM_NHOMDICHVU N ON N.NHOMDICHVU_ID = C.NHOMDICHVU_ID
            WHERE
            B.MAYTE  = '$MAYTE$' AND A.NGAYYEUCAU = '$NGAYYEUCAU$'
            AND A.TRANGTHAI = 'CHUAKETQUA'
            ORDER BY A.SOPHIEUYEUCAU, DV.CAPTREN_ID
        </statement>
        <!--Revision:0-->
        <statement id="DAO00081_GetCLSKETQUA_ID" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
            select CLSKETQUA_ID from TT_CLSKETQUA
            where
            DVYEUCAU_ID = '$DVYEUCAU_ID$'
        </statement>
        <!--Revision:0-->
        <statement id="DAO00081_GetCLSKETQUACHITIET_ID" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
            select CLSKETQUACHITIET_ID from TT_CLSKETQUACHITIET
            where
            CLSKETQUA_ID = '$CLSKETQUA_ID$' and DICHVU_ID = '$DICHVU_ID$'
        </statement>
        <!--Revision:0-->
        <update id="DAO00081_UpdateTRANGTHAI_TT_DVYEUCAU" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
            update TT_DVYEUCAU set TRANGTHAI = '$TRANGTHAI$'
            where
            DVYEUCAU_ID = '$DVYEUCAU_ID$'
        </update>
        <!--Revision:0-->
        <insert id="DAO00081_Add" parameterClass="System.Collections.IDictionary" resultClass="System.Int64">
            <selectKey property="ID" type="pre" resultClass="System.Int64">
              select TT_CLSKETQUA_S.nextval as value from dual
            </selectKey>
            insert into TT_CLSKETQUA (
            CLSKETQUA_ID
            , SOPHIEUXETNGHIEM
            , TIEPNHAN_ID
            , BENHAN_ID
            , LUUTRU_ID
            , DVYEUCAU_ID
            , DICHVU_ID
            , NHOMDICHVU_ID
            , NGAYTHUCHIEN
            , THOIGIANTHUCHIEN
            , NGAYGIOTHUCHIEN
            , GIOTHUCHIEN
            , NAMTHUCHIEN
            , THANGTHUCHIEN
            , NOITHUCHIEN_ID
            , BACSICHIDINH_ID
            , BACSICHIDINH
            , NGAYCHIDINH
            , BACSITHUCHIEN_ID
            , BACSIKETLUAN_ID
            , KYTHUATVIEN01_ID
            , KYTHUATVIEN02_ID
            , CHANDOANLAMSANG
            , DENGHI
            , SINHTHIET
            , CLOTEST
            , PHOTO
            , VIDEO
            , TIEMCANQUANG
            , PHANLOAIKETQUA_ID
            , THUCHIENBENNGOAI
            , BENHVIENTHUCHIEN_ID
            , TENBACSIBENNGOAI
            , KHOABENNGOAI_ID
            , VUNGKHAOSAT
            , MOTA
            , MOTA_TEXT
            , KETLUAN
            , GHICHU
            , MAPHIM
            , GPB_AMSO
            , GPB_PHANLOAIKETQUA_ID
            , GPB_PHUONGPHAPLAYBENHPHAM_ID
            , GPB_SOMAU
            , GPB_SOLUONGMAU
            , GPB_TOPO_ID
            , GPB_TOPOREGIONS_ID
            , GPB_MORPHO_ID
            , GPB_ETIO_ID
            , GPB_DAITHE
            , GPB_VITHE
            , GPB_NHUOM_HE
            , GPB_NHUOM_PAS
            , GPB_NHUOM_TRI
            , GPB_NHUOM_AFB
            , GPB_NHUOM_GIEMSA
            , GPB_NHUOM_OTHER
            , GPB_HOAMIENDICH
            , GPB_HOAMIENDICHHUYNHQUANG
            , GPB_HOICHAN
            , LOAIFILM_ID
            , SOPHIMSUDUNG
            , THIETBI_ID
            , SOTHUOCSUDUNG
            , KHOADULIEU
            , NGAYKHOADULIEU
            , THOIGIANKHOADULIEU
            , NGUOIKHOA_ID
            , MANGUOIKHOA
            , TENNGUOIKHOA
            , TRANGTHAI
            , MACH
            , HUYETAP
            , NHIPTHO
            , NHIETDO
            , CHIEUCAO
            , CANNANG
            , BSA
            , TINHTRANGDIENNAO
            , SOVAOVIEN
            , MAYTE
            , TENBENHNHAN
            , NAMSINH
            , GIOITINH
            , DIACHI
            , NOICHIDINH_ID
            , MAUTHU_ID
            , THOIGIANNHAN
            , MAU
            , LOAITHUOCCANQUANG_ID
            , MA
            , IDHINH
            , SOPHIMHU
            , LOAIPHIMHU_ID
            , DOSOI
            , DOSOI_ID
            , BANKINHSOI
            , SODT
            , KYTHUAT
            , KYTHUAT_TEXT
            , SOPHIMSUDUNG2
            , LOAIFILM_ID2
            , SOPHIMSUDUNG3
            , LOAIFILM_ID3
            , RESISTANCEMARKERS
            , BENHVIEN_ID
            , NGAYTAO
            , NGUOITAO_ID
            , NGAYCAPNHAT
            , NGUOICAPNHAT_ID
            , SOLUONGONG
            , SOMLMAU
            , THOIGIANLAYMAU
            , THOIGIANNHANMAU
            , SOONGTHUCNHAN
            , VITRISOI
            , SAMPLEID
            ) values (
            #ID#
            , #SOPHIEUXETNGHIEM#
            , #TIEPNHAN_ID#
            , #BENHAN_ID#
            , #LUUTRU_ID#
            , #DVYEUCAU_ID#
            , #DICHVU_ID#
            , #NHOMDICHVU_ID#
            , #NGAYTHUCHIEN#
            , #THOIGIANTHUCHIEN#
            , #NGAYGIOTHUCHIEN#
            , #GIOTHUCHIEN#
            , #NAMTHUCHIEN#
            , #THANGTHUCHIEN#
            , #NOITHUCHIEN_ID#
            , #BACSICHIDINH_ID#
            , #BACSICHIDINH#
            , #NGAYCHIDINH#
            , #BACSITHUCHIEN_ID#
            , #BACSIKETLUAN_ID#
            , #KYTHUATVIEN01_ID#
            , #KYTHUATVIEN02_ID#
            , #CHANDOANLAMSANG#
            , #DENGHI#
            , #SINHTHIET#
            , #CLOTEST#
            , #PHOTO#
            , #VIDEO#
            , #TIEMCANQUANG#
            , #PHANLOAIKETQUA_ID#
            , #THUCHIENBENNGOAI#
            , #BENHVIENTHUCHIEN_ID#
            , #TENBACSIBENNGOAI#
            , #KHOABENNGOAI_ID#
            , #VUNGKHAOSAT#
            , #MOTA#
            , #MOTA_TEXT#
            , #KETLUAN#
            , #GHICHU#
            , #MAPHIM#
            , #GPB_AMSO#
            , #GPB_PHANLOAIKETQUA_ID#
            , #GPB_PHUONGPHAPLAYBENHPHAM_ID#
            , #GPB_SOMAU#
            , #GPB_SOLUONGMAU#
            , #GPB_TOPO_ID#
            , #GPB_TOPOREGIONS_ID#
            , #GPB_MORPHO_ID#
            , #GPB_ETIO_ID#
            , #GPB_DAITHE#
            , #GPB_VITHE#
            , #GPB_NHUOM_HE#
            , #GPB_NHUOM_PAS#
            , #GPB_NHUOM_TRI#
            , #GPB_NHUOM_AFB#
            , #GPB_NHUOM_GIEMSA#
            , #GPB_NHUOM_OTHER#
            , #GPB_HOAMIENDICH#
            , #GPB_HOAMIENDICHHUYNHQUANG#
            , #GPB_HOICHAN#
            , #LOAIFILM_ID#
            , #SOPHIMSUDUNG#
            , #THIETBI_ID#
            , #SOTHUOCSUDUNG#
            , #KHOADULIEU#
            , #NGAYKHOADULIEU#
            , #THOIGIANKHOADULIEU#
            , #NGUOIKHOA_ID#
            , #MANGUOIKHOA#
            , #TENNGUOIKHOA#
            , #TRANGTHAI#
            , #MACH#
            , #HUYETAP#
            , #NHIPTHO#
            , #NHIETDO#
            , #CHIEUCAO#
            , #CANNANG#
            , #BSA#
            , #TINHTRANGDIENNAO#
            , #SOVAOVIEN#
            , #MAYTE#
            , #TENBENHNHAN#
            , #NAMSINH#
            , #GIOITINH#
            , #DIACHI#
            , #NOICHIDINH_ID#
            , #MAUTHU_ID#
            , #THOIGIANNHAN#
            , #MAU#
            , #LOAITHUOCCANQUANG_ID#
            , #MA#
            , #IDHINH#
            , #SOPHIMHU#
            , #LOAIPHIMHU_ID#
            , #DOSOI#
            , #DOSOI_ID#
            , #BANKINHSOI#
            , #SODT#
            , #KYTHUAT#
            , #KYTHUAT_TEXT#
            , #SOPHIMSUDUNG2#
            , #LOAIFILM_ID2#
            , #SOPHIMSUDUNG3#
            , #LOAIFILM_ID3#
            , #RESISTANCEMARKERS#
            , #BENHVIEN_ID#
            , #NGAYTAO#
            , #NGUOITAO_ID#
            , #NGAYCAPNHAT#
            , #NGUOICAPNHAT_ID#
            , #SOLUONGONG#
            , #SOMLMAU#
            , #THOIGIANLAYMAU#
            , #THOIGIANNHANMAU#
            , #SOONGTHUCNHAN#
            , #VITRISOI#
            , #SAMPLEID#
            )
        </insert>
        <!--Revision:0-->
        <insert id="DAO00081_Add_CLSKETQUACHITIET" parameterClass="System.Collections.IDictionary" resultClass="System.Int64">
            <selectKey property="ID" type="pre" resultClass="System.Int64">
              select TT_CLSKETQUACHITIET_S.nextval as value from dual
            </selectKey>
            insert into TT_CLSKETQUACHITIET (
            CLSKETQUACHITIET_ID
            , CLSKETQUA_ID
            , DICHVU_ID
            , DVYEUCAU_ID
            , NHOMDICHVU_ID
            , DONVITINH
            , KETQUA
            , KETQUA2
            , MUCBINHTHUONG
            , MUCBINHTHUONGMIN
            , MUCBINHTHUONGMAX
            , BATTHUONG
            , THUCHIENBENNGOAI
            , BENHVIEN_ID
            ) values (
            #ID#
            , #CLSKETQUA_ID#
            , #DICHVU_ID#
            , #DVYEUCAU_ID#
            , #NHOMDICHVU_ID#
            , #DONVITINH#
            , #KETQUA#
            , #KETQUA2#
            , #MUCBINHTHUONG#
            , #MUCBINHTHUONGMIN#
            , #MUCBINHTHUONGMAX#
            , #BATTHUONG#
            , #THUCHIENBENNGOAI#
            , #BENHVIEN_ID#
            )
        </insert>
        <!--Revision:0-->
        <update id="DAO00081_Update" parameterClass="System.Collections.IDictionary">
            update TT_CLSKETQUACHITIET set
            CLSKETQUA_ID = #CLSKETQUA_ID#
            <isPropertyAvailable prepend="," property="DICHVU_ID">
                DICHVU_ID = #DICHVU_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="DVYEUCAU_ID">
                DVYEUCAU_ID = #DVYEUCAU_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="NHOMDICHVU_ID">
                NHOMDICHVU_ID = #NHOMDICHVU_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="DONVITINH">
                DONVITINH = #DONVITINH#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="KETQUA">
                KETQUA = #KETQUA#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="KETQUA2">
                KETQUA2 = #KETQUA2#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="MUCBINHTHUONG">
                MUCBINHTHUONG = #MUCBINHTHUONG#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="MUCBINHTHUONGMIN">
                MUCBINHTHUONGMIN = #MUCBINHTHUONGMIN#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="MUCBINHTHUONGMAX">
                MUCBINHTHUONGMAX = #MUCBINHTHUONGMAX#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="BATTHUONG">
                BATTHUONG = #BATTHUONG#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="THUCHIENBENNGOAI">
                THUCHIENBENNGOAI = #THUCHIENBENNGOAI#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="BENHVIEN_ID">
                BENHVIEN_ID = #BENHVIEN_ID#
            </isPropertyAvailable>
            where
            CLSKETQUACHITIET_ID = '$CLSKETQUACHITIET_ID$'
        </update>
        <!--Revision:0-->
        <statement id="DAO00081_YeuCauXetNghiemStoreExcute" parameterType="System.Collections.IDictionary" resultClass="DataObject">
            exec $NAME_PROC$
            <iterate property="Parameters" open="" close="" conjunction=",">
                #Parameters[]#
            </iterate>
        </statement>
        <!--Revision:0-->
        <statement id="DAO00081_GetAllDichVuFromHIS" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
            SELECT
            TO_CHAR(a.Dichvu_ID) as IDX, a.MADICHVU MA, a.TENDICHVU TEN, a.TenDichVu_En as ServiceNameEN, a.TenDichVu_Ru as ServiceNameRU
            ,    a.CAP, CASE WHEN NVL(a.CAPTREN_ID, 0) = 0 THEN 0 ELSE a.CAPTREN_ID END AS CAPTREN_ID, MADICHVU_SEG01, MADICHVU_SEG02
            ,MADICHVU_SEG03, MADICHVU_SEG04, MAQUIDINH, INPUTCODE, SHORTNAME, DONVITINH, TO_CHAR(IDX) STT, a.TEST,TO_CHAR(a.TAMNGUNG) TAMNGUNG, TO_CHAR(CHONHETCAPDUOI) CHONHETCAPDUOI
            , TO_CHAR(ApplyFor)ApplyFor,  TO_CHAR(THUCHIENBENNGOAI)THUCHIENBENNGOAI,  TO_CHAR(COGIATRICHUAN) COGIATRICHUAN,  TO_CHAR(COGIADICHVU)COGIADICHVU,  TO_CHAR(GIACODINH)GIACODINH,  TO_CHAR(NORESULT)NORESULT,  TO_CHAR(PrintWhenNull) as PrintWhenNVL, '0' TraLoiKetQuaRieng
            ,TO_NUMBER(0) LoaiDichVu_Id, a.NHOMDICHVU_ID AS NHOMDICHVU_IDX, CASE WHEN NVL(a.CAPTREN_ID, 0) = 0 THEN TO_CHAR(a.NHOMDICHVU_ID) || '100000'   ELSE TO_CHAR(a.CAPTREN_ID) END   PARENTIDX
            , 'D' AS KIND, b.Nam_Min AS NAM_MIN, b.Nam_Max AS NAM_MAX, b.Nu_Min AS NU_MIN, b.Nu_Max AS NU_MAX, b.TreEm_Min AS TREEM_MIN
            ,  b.TreEm_Max AS TREEM_MAX, b.KieuDuLieu AS KIEUDULIEU
            FROM TM_DICHVU a
            JOIN TM_NHOMDICHVU n ON a.NhomDichVu_Id = n.NhomDichVu_Id
            LEFT join TM_DICHVU_GIATRICHUAN b on a.DichVu_Id = b.DichVu_Id
            WHERE
            a.BENHVIEN_ID = '$BENHVIEN_ID$'
            UNION
            SELECT
            TO_CHAR(a.NHOMDICHVU_ID) || '100000' AS IDX, MANHOMDICHVU MA, TENNHOMDICHVU TEN, '' as ServiceNameEN, '' as ServiceNameRU
            , CAP, CAPTREN_ID ,   '' MADICHVU_SEG01, '' MADICHVU_SEG02
            , '' MADICHVU_SEG03, '' MADICHVU_SEG04, '' MAQUYDINH, '' INPUTCODE, '' SHORTNAME, NULL DONVITINH,  NULL STT, '0' TEST, '0' TAMNGUNG, '0' AS CHONHETCAPDUOI
            , '0' AS ApplyFor, '0' AS THUCHIENBENNGOAI, '0' AS COGIATRICHUAN, '0' AS COGIADICHVU,  '0' AS GIACODINH, '0' AS NORESULT, '0' as PrintWhenNVL, TO_CHAR(a.TraLoiKetQuaRieng) TraLoiKetQuaRieng
            , a.LoaiDichVu_Id, a.NHOMDICHVU_ID AS NHOMDICHVU_IDX  ,    TO_CHAR(a.LOAIDICHVU_ID )|| '200000' AS  PARENTIDX
            , 'N' AS KIND, '' as NAM_MIN, '' as NAM_MAX, '' as NU_MIN, '' as NU_MAX, '' as TREEM_MIN
            ,    '' as TREEM_MAX, 'S' as  KIEUDULIEU
            FROM TM_NHOMDICHVU a
            where
            a.BENHVIEN_ID = '$BENHVIEN_ID$'
            UNION
            SELECT
            TO_CHAR(a.LOAIDICHVU_ID) || '200000' AS IDX, MALOAIDICHVU MA, TENLOAIDICHVU TEN, '' as ServiceNameEN, '' as ServiceNameRU
            , 0 AS CAP, 0 AS CAPTREN_ID , '' MADICHVU_SEG01, '' MADICHVU_SEG02
            , '' MADICHVU_SEG03, '' MADICHVU_SEG04, '' MAQUIDINH, '' INPUTCODE, '' SHORTNAME, NULL DONVITINH , NULL STT, '0' TEST, '0' TAMNGUNG, '0' AS CHONHETCAPDUOI
            , '0' AS ApplyFor, '0' AS THUCHIENBENNGOAI, '0' AS COGIATRICHUAN, '0' AS COGIADICHVU, '0' AS GIACODINH, '0' AS NORESULT, '0' as PrintWhenNVL, '0' as TraLoiKetQuaRieng
            , a.LoaiDichVu_Id, TO_NUMBER(0) AS NHOMDICHVU_IDX, '0' AS PARENTIDX
            , 'L' as KIND, '' as NAM_MIN, '' as NAM_MAX, '' as NU_MIN, '' as NU_MAX, '' as TREEM_MIN
            , '' as TREEM_MAX, 'S' as KIEUDULIEU
            FROM TM_LOAIDICHVU a
            where a.MaLoaiDichVu = 'CanLamSang' AND BENHVIEN_ID = '$BENHVIEN_ID$'
        </statement>
        <!--Revision:0-->
        <statement id="DAO00081_GetAllDepartmentFromHIS" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
            SELECT
            TO_CHAR(a.phongban_ID) as IDX, a.MaPhongBan as MA, a.TenPhongBan as TEN, TO_NUMBER(a.CAP) CAP
            , CASE WHEN NVL(a.CAPTREN_ID,0)=0 THEN 0 ELSE a.CAPTREN_ID END AS CAPTREN_ID
            ,TO_CHAR(COTHUCHIENDICHVU) COTHUCHIENDICHVU, a.LoaiPhongBan_Id as NHOMPHONGBAN_IDX, TO_CHAR(TAMNGUNG) TAMNGUNG
            ,CASE WHEN NVL(a.CAPTREN_ID,0)=0 THEN TO_CHAR(a.LoaiPhongBan_Id) || '1000000' ELSE TO_CHAR(a.CAPTREN_ID) END AS  PARENTIDX
            ,   'D' AS KIND, '' LocationName, '' LocationName2, '' LocationName3
            FROM TM_PHONGBAN a
            where a.TamNgung = 0 AND BENHVIEN_ID = '$BENHVIEN_ID$'
            UNION
            SELECT
            TO_CHAR(a.dictionary_id) || '1000000' AS IDX, a.dictionary_code MA, a.dictionary_name TEN, 0 AS CAP
            , 0 AS CAPTREN_ID
            ,'0' COTHUCHIENDICHVU, a.dictionary_id AS NHOMPHONGBAN_IDX, '0' TAMNGUNG
            , TO_CHAR(a.dictionary_id) || '2000000' AS  PARENTIDX
            , 'L' AS KIND, '' LocationName, '' LocationName2, '' LocationName3
            FROM  LST_DICTIONARY a
            WHERE a.DICTIONARY_TYPE_CODE = 'LoaiPhongBan' AND BENHVIEN_ID = '$BENHVIEN_ID$';
        </statement>
        <!--Revision:0-->
        <statement id="DAO00081_GetAllEmployeeFromHIS" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
            SELECT a.NHANVIEN_ID,b.PHONGBAN_ID,b.TENPHONGBAN , a.MANHANVIEN , a.TENNHANVIEN
            ,TO_CHAR(A.NGAYSINH,'DD/MM/YYYY') , a.DIACHI , g.DESCRIPTION GIOITINH
            ,e.dictionary_name as QUOCTICH , d.dictionary_name as CHUCVU , c.dictionary_name as CHUCDANH
            ,f.tendonvicongtac as DONVICONGTAC, a.TAMNGUNG
            FROM TM_NHANVIEN a
            join TM_PHONGBAN b on b.PhongBan_Id = a.PhongBan_Id
            left join LST_DICTIONARY c on c.Dictionary_id = a.ChucDanh_id
            left join LST_DICTIONARY d on d.Dictionary_id = a.ChucVu_Id
            left join LST_DICTIONARY e on e.Dictionary_id = a.QuocTich_Id
            left join TM_DONVICONGTAC f on f.donvicongtac_id = a.DonViCongtac_Id
            left join TM_GENDER g ON a.GioiTinh = g.ID
            where a.tamNgung = 0 AND a.BENHVIEN_ID = '$BENHVIEN_ID$'
        </statement>
        <!--Revision:0-->
        <statement id="DAO00081_GetAllPatientTypeFromHIS" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
            SELECT TO_CHAR(a.DOiTUONG_ID) AS IDX, MADOITUONG AS MA, TENDOITUONG TEN, TO_CHAR(ACTIVE) TAMNGUNG, a.NHOMDICHVU AS  NHOMDICHVU_IDX,
            TO_CHAR(a.NHOMDICHVU) || '1000000' AS  PARENTIDX, 'D' AS KIND
            FROM TM_DOITUONG a
            WHERE a.ACTIVE = 1 AND BENHVIEN_ID = '$BENHVIEN_ID$'
            UNION
            SELECT TO_CHAR(a.DICTIONARY_ID) || '1000000' AS IDX, DICTIONARY_CODE MA, DICTIONARY_NAME TEN, '0' TAMNGUNG, a.DICTIONARY_ID AS NHOMDICHVU_IDX  ,
            TO_CHAR(a.DICTIONARY_ID) || '2000000' AS  PARENTIDX, 'L' AS KIND
            FROM LST_DICTIONARY a
            WHERE a.dictionary_type_code = 'NhomDoiTuong' AND BENHVIEN_ID = '$BENHVIEN_ID$'
        </statement>
        <!--Revision:0-->
        <statement id="DAO00081_GetAllPatientChuaCapSIDByBN" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
            SELECT DISTINCT 0 as TESTAGAIN, b.BENHNHAN_ID, UPPER(b.TENBENHNHAN) TENBENHNHAN
            ,TO_CHAR(A.NGAYGIOYEUCAU,'DD/MM/YYYY') NGAYCHIDINH, b.MAYTE MAYTE,   null SoPhieu,  -1 DVYeuCau_Id, a.Khan, SYSDATE NgayTao
            FROM TT_DVYEUCAU  a
            JOIN TT_TiepNhan tn ON a.TiepNhan_ID = tn.TiepNhan_ID
            JOIN TM_DICHVU  c ON a.DichVu_Id = c.DichVu_Id
            JOIN TM_NHOMDICHVU e ON c.NhomDichVu_Id = e.NhomDichVu_Id
            JOIN TT_BENHNHAN  b ON a.BenhNhan_Id = b.BenhNhan_ID
            LEFT JOIN TT_LAB_SIDSTATUS  d ON a.DVYEUCAU_ID = d.CLSYeuCau_Id
            left join TT_VIENPHI VP on VP.TIEPNHAN_ID = tn.TIEPNHAN_ID and VP.DICHVU_ID = a.DICHVU_ID and VP.REF_ID = a.DVYEUCAU_ID
            WHERE   TRUNC(A.NGAYYEUCAU) BETWEEN TRUNC(#TUNGAY#)  and  TRUNC(#DENNGAY#)
            and  a.HUYYEUCAU = 0 AND a.NGAYHENCLS is NULL
            AND ((a.TrangThai = 'ChuaKetQua' AND vp.DaThanhToan = '1') OR tn.TrangThai = 'CAPCUU' OR tn.TrangThai = 'NOITRU' or tn.SUDUNG_BHTN='1' or tn.BAOLANH_VIENPHI='1')
            AND NVL(d.STATUS, 4) = 4
            and d.CLSYeuCau_Id is null
            group by b.MAYTE, b.BenhNhan_Id, b.TenBenhNhan, TO_CHAR(A.NGAYGIOYEUCAU,'DD/MM/YYYY'), a.NgayTao, a.Khan
        </statement>
        <!--Revision:0-->
        <statement id="DAO00081_GetPatientInfo" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
            select cls.SoPhieuYeuCau, p.BenhNhan_Id, P.BenhVien_ID AS HospitalCode, MAYTE PatientCode, TenBenhNhan PatientName,
            CASE WHEN g.Description = 'NAM' THEN 'T' ELSE 'G' END Sex,
            NamSinh YOB, p.NgaySinh DOB, p.DiaChi Address, null Address2, D.NhanVien_Id, D.TenNhanVien, P.SoDienThoai Tel,
            Dep.TenPhongBan, cls.NoiThucHien_Id, cls.NoiYeuCau_Id, cls.BarCodeId, tn.DoiTuong_Id PatientTypeID, cls.ChanDoan,
            ba.SoBenhAn, p.NgayTao as IssueDate_His, p.QuocTich_Id as NationalityID, p.TinhThanh_Id as ProvinceID,
            p.QuanHuyen_Id as DistrictID, p.XaPhuong_Id as WardID, p.NgheNghiep_Id as OccupationID,
            p.CMND as IDNumber, p.NgayTao as IDIssueDate, p.XaPhuong_Id IDIssuePlace, cls.Khan, tn.UuTien
            from TT_BENHNHAN P
            JOIN TT_DVYEUCAU cls ON cls.BenhNhan_Id = P.BenhNhan_Id
            JOIN TM_DichVu dv ON cls.DichVu_Id = dv.DichVu_id
            JOIN TM_NhomDichVu ndv ON dv.NhomDichVu_Id = ndv.NhomDichVu_Id
            JOIN TM_GENDER g ON p.GioiTinh = g.ID
            left join TT_TIEPNHAN tn on tn.BenhNhan_Id = p.BenhNhan_Id
            left join TT_NOITRU_BENHAN	ba on ba.BenhAn_Id = cls.BenhAn_Id
            left join TM_NHANVIEN D on cls.BacSiChiDinh_Id = D.NhanVien_Id
            left join TM_PHONGBAN Dep on cls.NoiYeuCau_Id = Dep.PhongBan_Id
            where P.BenhNhan_Id = '$BenhNhan_ID$' AND ROWNUM = 1
            AND ndv.MaNhomDichVu IN (SELECT s FROM SplitString('$LoadDichVuCode$', ','))
            <!--and (cls.SoPhieuYeuCau like '%0101%' or cls.SoPhieuYeuCau like '%0102%' or cls.SoPhieuYeuCau like '%0105%'
			or cls.SoPhieuYeuCau like '%0108%' or cls.SoPhieuYeuCau like '%0109%' or cls.SoPhieuYeuCau like '%0112%'
			or cls.SoPhieuYeuCau like '%0113%' or cls.SoPhieuYeuCau like '%0110%' or cls.SoPhieuYeuCau like '%0104%'
			or cls.SoPhieuYeuCau like '%0106%' or cls.SoPhieuYeuCau like '%0103%' or cls.SoPhieuYeuCau like '%0114%'
			or cls.SoPhieuYeuCau like '%HTSS%' or cls.SoPhieuYeuCau like '%0707%') -->
            order by cls.NgayYeuCau desc
        </statement>
        <!--Revision:0-->
        <statement id="DAO00081_GetDichVuAllByBenhNhanId" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
            SELECT null RESULTID , a.DICHVU_ID, c.TENDICHVU, c.MADICHVU,
            d.LABBARCODEID BARCODEID , d.SIDISSUEDATE,   NVL(d.STATUS, '4') STATUSCODE,
            a.DVYeuCau_ID CLSYeuCau_Id, a.DVYeuCau_ID as REQUESTID, A.SOPHIEUYEUCAU, a.DVYeuCau_ID YeuCauChiTiet_Id,
            a.DVYeuCau_ID as RequestDetailID, a.NgayYeuCau, a.NgayGioYeuCau ThoiGianYeuCau, a.BACSICHIDINH_ID,c.NhomDichVu_Id,
            a.NOIYEUCAU_ID, a.CHANDOAN, 1 as TESTAGAIN, a.Khan, n.TenNhomDichVu
            FROM TT_DVYEUCAU a
            JOIN TT_TiepNhan tn ON a.TiepNhan_ID = tn.TiepNhan_Id
            JOIN TM_DICHVU  c ON c.DichVu_Id = a.DichVu_Id
            JOIN TM_NHOMDICHVU n ON n.NhomDichVu_Id = c.NhomDichVu_Id
            LEFT JOIN TT_LAB_SIDSTATUS  d on d.CLSYeuCau_Id = a.DVYeuCau_ID
            left join TT_VIENPHI VP on VP.TIEPNHAN_ID = tn.TIEPNHAN_ID and VP.DICHVU_ID = a.DICHVU_ID and VP.REF_ID = a.DVYEUCAU_ID
            join TT_BENHNHAN e on e.BenhNhan_Id = a.BenhNhan_Id
            WHERE
            TRUNC(a.NgayYeuCau) BETWEEN TRUNC(#TUNGAY#)  and  TRUNC(#DENNGAY#)
            and a.HUYYEUCAU = 0 AND a.NGAYHENCLS is NULL
            AND ((a.TrangThai = 'ChuaKetQua' AND vp.DaThanhToan = '1') OR tn.TrangThai = 'CAPCUU' OR tn.TrangThai = 'NOITRU' or tn.SUDUNG_BHTN='1' or tn.BAOLANH_VIENPHI='1')
            and c.TamNgung = 0
            and e.BenhNhan_Id = '$BenhNhan_ID$'
            AND NVL(d.STATUS, 4) = 4
            AND d.CLSYeuCau_Id is null
            order by n.NhomDichVu_Id, c.IDX
        </statement>
        <!--Revision:0-->
        <insert id="DAO00081_InsertLabSIDStatus" parameterClass="System.Collections.IDictionary" resultClass="System.Int64">
            BEGIN
            <selectKey property="ID" type="pre" resultClass="System.Int64">
              select TT_Lab_SIDStatus_S.nextval as value from dual
            </selectKey>
            INSERT INTO TT_Lab_SIDStatus
            (
            ID
            ,LabBarCodeID
            ,CLSYeuCau_Id
            ,CLSYeuCauChiTiet_Id
            ,ServiceID
            ,SIDIssueDate
            ,SamplePlaceID
            ,SamplePlace
            ,Status
            )
            VALUES
            (
            #ID#
            ,#LabBarCodeID#
            ,#CLSYeuCau_Id#
            ,#CLSYeuCauChiTiet_Id#
            ,#ServiceID#
            ,NVL(#SIDIssueDate#, SYSDATE)
            ,#SamplePlaceID#
            ,#SamplePlace#
            ,#Status#
            );
            UPDATE TT_DVYeuCau SET TRANGTHAI = 'DALAYMAU', DALAYMAU = '1' WHERE DVYeuCau_Id = #CLSYeuCau_Id#;
            END;
        </insert>
        <!--Revision:0-->
        <statement id="DAO00081_GetPatientInfoByMaYTe" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
            SELECT TENBENHNHAN, HO, TEN, null TENKHONGDAU, TO_CHAR(NGAYSINH,'DD/MM/YYYY') As NGAYSINH,
            NAMSINH, DIACHICOQUAN, SODIENTHOAI, EMAIL,
            TO_CHAR(NGAYTAO,'DD/MM/YYYY') As NGAYTAO, QUOCTICH_ID, TINHTHANH_ID,
            QUANHUYEN_ID, XAPHUONG_ID, NGHENGHIEP_ID, GHICHU,
            HOCHIEU, CMND, null NgayCapCMND, null NoiCapCMND from TT_BENHNHAN
            WHERE MAYTE = '$SoVaoVien$' AND BENHVIEN_ID = '$BENHVIEN_ID$'
        </statement>
        <!--Revision:0-->
        <update id="DAO00081_DeleteLabSIDStatus" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
            DECLARE RowCountTempp INT;
            CLSYeuCau_ID_ INT;
            CLSYeuCauChiTiet_ID_ INT;
            DichVu_ID INT;
            FLAGEXISTS INT;
            BEGIN
            SELECT  CLSYeuCau_Id,CLSYeuCauChiTiet_Id,ServiceID into CLSYeuCau_ID_, CLSYeuCauChiTiet_ID_ ,DichVu_ID
            FROM TT_LAB_SIDSTATUS
            WHERE  LabBarCodeID = '$BarCodeID$' and ClsYeuCauChiTiet_Id = '$RequestDetailID$';
            DELETE FROM TT_CLSKETQUACHITIET
            WHERE (DichVu_Id = DichVu_ID OR DichVu_Id IN (SELECT DichVu_Id FROM TM_DICHVU WHERE CapTren_Id = DichVu_ID))
            AND CLSKetQua_Id = (SELECT CLSKetQua_Id FROM TT_CLSKETQUA WHERE DVYEUCAU_ID = CLSYeuCau_ID_);
            UPDATE TT_DVYeuCau SET TrangThai = 'CHUAKETQUA' WHERE DVYEUCAU_ID = '$RequestDetailID$';
            SELECT COUNT(*) INTO  FLAGEXISTS FROM TT_CLSKETQUACHITIET WHERE CLSKetQua_Id = (SELECT CLSKetQua_Id FROM TT_CLSKETQUA WHERE DVYEUCAU_ID = CLSYeuCau_ID_);
            IF(FLAGEXISTS =0) THEN
            DELETE FROM TT_CLSKETQUA WHERE CLSKETQUA_ID IN (SELECT CLSKetQua_Id FROM TT_CLSKETQUA WHERE DVYEUCAU_ID = CLSYeuCau_ID_);
            UPDATE TT_DVYeuCau SET TrangThai = 'CHUAKETQUA' WHERE DVYEUCAU_ID = CLSYeuCau_ID_;
            END IF;
            DELETE FROM  TT_LAB_SIDSTATUS
            WHERE  LabBarCodeID = '$BarCodeID$' and ClsYeuCauChiTiet_Id = '$RequestDetailID$';
            END;
        </update>
        <!--Revision:0-->
        <udpate id="DAO00081_Update_ClsKetQua" parameterClass="System.Collections.IDictionary">
            UPDATE TT_CLSKETQUA
            SET
            SOPHIEUXETNGHIEM = #SOPHIEUYEUCAU#,
            DVYEUCAU_ID = #CLSYeuCau_Id#,
            NgayThucHien = #NgayThucHien#,
            ThoiGianThucHien = #ThoiGianThucHien#,
            NgayGioThucHien = #NgayGioThucHien#,
            NoiThucHien_Id = #NoiThucHien_Id#,
            BacSiKetLuan_Id = #BacSiKetLuan_Id#,
            NgayCapNhat = #NgayTao#,
            NguoiCapNhat_Id = #NguoiTao_Id#,
            GioThucHien = #GioThucHien#,
            NamThucHien = #NamThucHien#,
            ThangThucHien = #ThangThucHien#,
            MaNhanVienTraKetQua = #UserValidResult#,
            ThoiGianTra = #DateTimeValidResult#,
            BenhVien_ID = #Hospital_ID#,
            WHERE CLSKetQua_Id = #CLSKetQua_Id#
        </udpate>
        <!--Revision:0-->
        <insert id="DAO00081_Insert_ClsKetQua" parameterClass="System.Collections.IDictionary" resultClass="System.Int64">
            <selectKey property="ID" type="pre" resultClass="System.Int64">
              select TT_CLSKETQUA_S.nextval as value from dual
            </selectKey>
            INSERT INTO TT_CLSKETQUA
            (
            ID
            ,SOPHIEUXETNGHIEM
            ,DVYEUCAU_ID
            ,NgayThucHien
            ,ThoiGianThucHien
            ,NoiThucHien_Id
            ,BacSiKetLuan_Id
            ,NguoiTao_Id
            ,NgayTao
            ,TrangThai
            ,NgayGioThucHien
            ,GioThucHien
            ,NamThucHien
            ,ThangThucHien
            ,MaNhanVienTraKetQua
            ,ThoiGianTra
            ,BenhVien_ID
            )
            VALUES
            (
            #ID#
            ,#SOPHIEUYEUCAU#
            ,#CLSYeuCau_Id$#
            ,#NgayThucHien#
            ,#ThoiGianThucHien#
            ,#NoiThucHien_Id#
            ,#BacSiKetLuan_Id#
            ,#NguoiTao_Id#
            ,#NgayTao#
            ,#TrangThai#
            ,#NgayGioThucHien#
            ,#GioThucHien#
            ,#NamThucHien#
            ,#ThangThucHien#
            ,#UserValidResult#
            ,#DateTimeValidResult#
            ,#Hospital_ID#
            )
        </insert>
        <!--Revision:0-->
        <statement id="DAO00081_GetCLSKetQuaId_byDichVuYeuCauId" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
            SELECT CLSKetQua_Id  from TT_CLSKETQUA where DVYEUCAU_ID = '$CLSYeuCau_Id$'
        </statement>
        <!--Revision:0-->
        <statement id="DAO00081_GetCLSKetQuaChiTietId_ByKetQuaId" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
            SELECT CLSKetQuaChiTiet_Id
            FROM TT_CLSKETQUACHITIET
            WHERE CLSKetQua_Id = '$CLSKetQua_Id$' and DichVu_Id = '$DichVu_Id$'
        </statement>
        <!--Revision:0-->
        <insert id="DAO00081_Insert_ClsKetQuaChiTiet" parameterClass="System.Collections.IDictionary" resultClass="System.Int64">
            <selectKey property="ID" type="pre" resultClass="System.Int64">
              select TT_CLSKETQUACHITIET_S.nextval as value from dual
            </selectKey>
            INSERT INTO TT_CLSKETQUACHITIET
            (
            ID
            ,CLSKetQua_Id
            ,DVYeuCau_ID
            ,DichVu_Id
            ,DonViTinh
            ,KetQua
            ,KetQua2
            ,MucBinhThuong
            ,MucBinhThuongMin
            ,MucBinhThuongMax
            ,BatThuong
            ,ThucHienBenNgoai
            ,BENHVIEN_ID
            )
            VALUES
            (
            #ID#
            ,#CLSKetQua_Id#
            ,#CLSYeuCau_Id#
            ,#DichVu_Id#
            ,#DonViTinh#
            ,#KetQua#
            ,#KetQua2#
            ,#MucBinhThuong#
            ,#MucBinhThuongMin#
            ,#MucBinhThuongMax#
            ,#BatThuong#
            ,#ThucHienBenNgoai#
            ,#BENHVIEN_ID#
            )
        </insert>
        <!--Revision:0-->
        <udpate id="DAO00081_Update_ClsKetQuaChiTiet" parameterClass="System.Collections.IDictionary">
            UPDATE TT_CLSKETQUACHITIET
            SET
            DonViTinh = '$DonViTinh$',
            DVYeuCau_ID = '$CLSYeuCau_Id$',
            KetQua = '$KetQua$',
            KetQua2 = '$KetQua2$',
            MucBinhThuong = '$MucBinhThuong$',
            MucBinhThuongMin = '$MucBinhThuongMin$',
            MucBinhThuongMax = '$MucBinhThuongMax$',
            BatThuong = '$BatThuong$',
            ThucHienBenNgoai = '$ThucHienBenNgoai$'
            WHERE CLSKetQuaChiTiet_Id = #CLSKetQuaChiTiet_Id#
        </udpate>
        <!--Revision:0-->
        <udpate id="DAO00081_Update_DVYeuCau_TrangThai" parameterClass="System.Collections.IDictionary">
            UPDATE  TT_DVYeuCau
            SET    TrangThai = '$TrangThai$'
            WHERE  DVYEUCAU_ID = '$CLSYeuCau_Id$'
        </udpate>
    </statements>
</sqlMap>
