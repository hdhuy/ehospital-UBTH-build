<?xml version="1.0" encoding="utf-8" ?>
<!--============================================================================
//	CAUTION: This file is generated by IBatisNetGen.3.SQLMap.cst at 12/21/2015 2:22:43 PM
//				Any manual editing will be lost in re-generation.
//===========================================================================-->
<sqlMap namespace="eHospital" xmlns="http://ibatis.apache.org/mapping" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

  <statements>
    <statement id="DAO00080_GetTrangThaiBenhAnThanhToan" resultClass="DataObject">
      select * from
      TT_NOITRU_BENHAN 
      where 
      BENHAN_ID ='$BENHAN_ID$' and 
      TRANGTHAI in ('DATHANHTOAN', 'DAKHOA') and 
      BENHVIEN_ID = '%BENHVIEN_ID%'
      
    </statement>
    <statement id="DAO00080_GetTTSinhHIeuHSBANT" resultClass="DataObject">
      select * from (select MACH, NHIPTHO, NHIETDO, CANNANG, HUYETAPTHAP, HUYETAPCAO, CHIEUCAO
      from TT_NGOAITRU_KHAMBENH_SINHHIEU where
      TIEPNHAN_ID = '$TIEPNHAN_ID$'
      and BENHVIEN_ID = '$BENHVIEN_ID$'
      Order By NGAYCAPNHAT DESC)
      where ROWNUM = 1
    </statement>
    <statement id="DAO00080_GetNoiTruLuuTruBenhAn" resultClass="DataObject">
      select *
      from TT_NOITRU_LUUTRU where 
      BENHAN_ID = '$BENHAN_ID$' 
      and BENHVIEN_ID = '$BENHVIEN_ID$'
      Order By LUUTRU_ID ASC
    </statement>
    <statement id="DAO00080_GetCapCuuDaCapHoSoNoiTru" resultClass="DataObject">
      select *
      from TT_NOITRU_XACNHAN where
      BENHAN_ID = '$BENHAN_ID$'
      and BENHVIEN_ID = '$BENHVIEN_ID$'
    </statement>
    <statement id="DAO00080_GetNoiTruLuuTruChiTietBenhAn" resultClass="DataObject">
      select *
      from TT_NOITRU_LUUTRUCHITIET where
      LUUTRU_ID = '$LUUTRU_ID$' and LUUTRUCHITIET_CURRENT = 1
      and BENHVIEN_ID = '$BENHVIEN_ID$'
      Order By LUUTRUCHITIET_ID DESC
    </statement>
    <statement id="DAO00080_GetNoiTruBenhAnChiTiet" resultClass="DataObject">
      select *
      from TT_NOITRU_BENHAN_CHITIET where
      BENHAN_ID = '$BENHAN_ID$'
      and BENHVIEN_ID = '$BENHVIEN_ID$'
      Order By BENHANCHITIET_ID DESC
    </statement>
    <statement id="DAO00080_GetThongTinCapCuu" resultClass="DataObject">
      select *
      from TT_KHAMBENH_VAOVIEN where
      TIEPNHAN_ID = '$TIEPNHAN_ID$'
      and BENHVIEN_ID = '$BENHVIEN_ID$'
      Order By KHAMBENHVAOVIEN_ID DESC
    </statement>
    <statement id="DAO00080_GetThongTinNgoaiTruKhamBenh" resultClass="DataObject">
      select * from TT_NGOAITRU_KHAMBENH where
      TIEPNHAN_ID = '$TIEPNHAN_ID$'
      and BENHVIEN_ID = '$BENHVIEN_ID$'
      <!--select *
      from TT_NGOAITRU_KHAMBENH_BENHAN where
      TIEPNHAN_ID = '$TIEPNHAN_ID$'
      and BENHVIEN_ID = '$BENHVIEN_ID$'-->
    </statement>
     <statement id="DAO00080_GetThongTinNgoaiTruKhamBenh_TheoBenhAn" resultClass="DataObject">      
      select *
      from TT_KHAMBENH_VAOVIEN where
      TIEPNHAN_ID = '$TIEPNHAN_ID$'
      and BENHVIEN_ID = '$BENHVIEN_ID$'
    </statement>
    <statement id="DAO00080_GetThongTinNgoaiTruKhambenhBenhan" resultClass="DataObject">
      select *
      from TT_NGOAITRU_KHAMBENH_BENHAN where
      TIEPNHAN_ID = '$TIEPNHAN_ID$'
      and DVYEUCAU_ID = '$DVYEUCAU_ID$'
      and BENHVIEN_ID = '$BENHVIEN_ID$'
    </statement>
    <statement id="DAO00080_KiemtraBenhAnDaThanhToan" resultClass="DataObject">
      select DAXACNHANDOANHTHU
      from TT_NOITRU_BENHAN where
      BENHAN_ID = '$BENHAN_ID$'
      and BENHVIEN_ID = '$BENHVIEN_ID$'
      Order By BENHAN_ID Desc
    </statement>
    <statement id="DAO00080_KiemtraBenhAnRaVien" resultClass="DataObject">
      select *
      from TT_NOITRU_BENHAN where
      BENHAN_ID = '$BENHAN_ID$'
      and (TRANGTHAI='DATHANHTOAN' OR TRANGTHAI='DAXUATVIEN')
      and BENHVIEN_ID = '$BENHVIEN_ID$'
      Order By BENHAN_ID Desc
    </statement>
    <insert id="DAO00080_Add_KhamBenh_CapCuu" parameterClass="System.Collections.IDictionary" resultClass="System.Int64">
    <selectKey property="ID" type="pre" resultClass="System.Int64">
      select TT_KHAMBENH_VAOVIEN_S.nextval as value from dual
    </selectKey>
      insert into TT_KHAMBENH_VAOVIEN (
      KHAMBENHVAOVIEN_ID
      , SOPHIEU
      , TIEPNHAN_ID
      , KHAMBENH_ID
      , BENHNHAN_ID
      , NGUOILIENHE
      , DIENTHOAILIENHE
      , NOILAMVIEC
      , CHANDOANNOIGIOITHIEU
      , NGAYKHAM
      , THOIGIANKHAM
      , LYDOVAOVIEN
      , QUATRINHBENHLY
      , TIENSUBANTHAN
      , TIENSUGIADINH
      , KHAMXETTOANTHAN
      , KHAMXETCACBOPHAN
      , KHAMXETKQLS
      , CHANDOANVAO
      , ICDKHAMXET_ID
      , DAXULY
      , NGAYRA
      , THOIGIANRA
      , NHAPKHOA_ID
      , CHUYENVIEN_ID
      , CHUY
      , MACH
      , NHIETDO
      , HUYETAPCAO
      , HUYETAPTHAP
      , NHIPTHO
      , CANNANG
      , CHIEUCAO
      , BACSI_ID
      , XUTRUKHAMBENH_ID
      , CAPCUU
      , NGAYTAINAN
      , THOIGIANTAINAN
      , NOITAINAN_TINHTHANH_ID
      , NOITAINAN_QUANHUYEN_ID
      , NOITAINAN_PHUONGXA_ID
      , NOITAINAN_DIACHI
      , DIADIEMTAINAN_ID
      , BOPHANBITHUONG_ID
      , MUCDO_ID
      , DIENBIENSAUTN_ID
      , XUTRISAUTN_ID
      , NGUYENNHAN_ID
      , NGUYENNHANCHITIET_ID
      , ICD_NGUYENNHAN
      , NGAYTAO
      , NGUOITAO_ID
      , NGAYCAPNHAT
      , NGUOICAPNHAT_ID
      , BENHANCHUYENKHOA
      , CHANDOANVAOVIEN
      , CHANDOANRAVIEN
      , DIEUTRITUNGAY
      , DIEUTRIDENNGAY
      , DIENBIENLS
      , KQXETNGHIEM
      , PHAUTHUAT
      , THUTHUAT
      , TINHTRANGNGUOIBENH
      , HUONGDIEUTRI
      , NGUOIGIAO_ID
      , NGUOINHAN_ID
      , XQUANG
      , CTSCANNER
      , SIEUAM
      , XETNGHIEM
      , KHAC
      , TOANBOHS
      , LOAICHUYENKHOA
      , CONGANCANTHIEP
      , CDRR_BENHCHINH
      , CDRR_BENHKEM
      , ICD_BENHCHINH
      , ICD_BENHKEMTHEO
      , PHUONGPHAPDIEUTRI
      , FIELD_1
      , FIELD_2
      , FIELD_3
      , FIELD_4
      , FIELD_5
      , FIELD_6
      , FIELD_7
      , FIELD_8
      , FIELD_9
      , FIELD_10
      , FIELD_11
      , FIELD_12
      , FIELD_13
      , FIELD_14
      , FIELD_15
      , FIELD_27
      , FIELD_28
      , FIELD_29
      , FIELD_30
      , FIELD_31
      , FIELD_32
      , FIELD_33
      , FIELD_34
      , FIELD_35
      , FIELD_36
      , FIELD_37
      , FIELD_38
      , FIELD_39
      , FIELD_40
      , FIELD_41
      , FIELD_42
      , FIELD_43
      , FIELD_44
      , FIELD_45
      , FIELD_46
      , FIELD_47
      , FIELD_48
      , FIELD_49
      , FIELD_50
      , FIELD_51
      , FIELD_52
      , FIELD_53
      , FIELD_54
      , FIELD_55
      , FIELD_56
      , BENHVIEN_ID
      ) values (
      #ID#
      , #SOPHIEU#
      , #TIEPNHAN_ID#
      , #KHAMBENH_ID#
      , #BENHNHAN_ID#
      , #NGUOILIENHE#
      , #DIENTHOAILIENHE#
      , #NOILAMVIEC#
      , #CHANDOANNOIGIOITHIEU#
      , #NGAYKHAM#
      , #THOIGIANKHAM#
      , #LYDOVAOVIEN#
      , #QUATRINHBENHLY#
      , #TIENSUBANTHAN#
      , #TIENSUGIADINH#
      , #KHAMXETTOANTHAN#
      , #KHAMXETCACBOPHAN#
      , #KHAMXETKQLS#
      , #CHANDOANVAO#
      , #ICDKHAMXET_ID#
      , #DAXULY#
      , #NGAYRA#
      , #THOIGIANRA#
      , #NHAPKHOA_ID#
      , #CHUYENVIEN_ID#
      , #CHUY#
      , #MACH#
      , #NHIETDO#
      , #HUYETAPCAO#
      , #HUYETAPTHAP#
      , #NHIPTHO#
      , #CANNANG#
      , #CHIEUCAO#
      , #BACSI_ID#
      , #XUTRUKHAMBENH_ID#
      , #CAPCUU#
      , #NGAYTAINAN#
      , #THOIGIANTAINAN#
      , #NOITAINAN_TINHTHANH_ID#
      , #NOITAINAN_QUANHUYEN_ID#
      , #NOITAINAN_PHUONGXA_ID#
      , #NOITAINAN_DIACHI#
      , #DIADIEMTAINAN_ID#
      , #BOPHANBITHUONG_ID#
      , #MUCDO_ID#
      , #DIENBIENSAUTN_ID#
      , #XUTRISAUTN_ID#
      , #NGUYENNHAN_ID#
      , #NGUYENNHANCHITIET_ID#
      , #ICD_NGUYENNHAN#
      , #NGAYTAO#
      , #NGUOITAO_ID#
      , #NGAYCAPNHAT#
      , #NGUOICAPNHAT_ID#
      , #BENHANCHUYENKHOA#
      , #CHANDOANVAOVIEN#
      , #CHANDOANRAVIEN#
      , #DIEUTRITUNGAY#
      , #DIEUTRIDENNGAY#
      , #DIENBIENLS#
      , #KQXETNGHIEM#
      , #PHAUTHUAT#
      , #THUTHUAT#
      , #TINHTRANGNGUOIBENH#
      , #HUONGDIEUTRI#
      , #NGUOIGIAO_ID#
      , #NGUOINHAN_ID#
      , #XQUANG#
      , #CTSCANNER#
      , #SIEUAM#
      , #XETNGHIEM#
      , #KHAC#
      , #TOANBOHS#
      , #LOAICHUYENKHOA#
      , #CONGANCANTHIEP#
      , #CDRR_BENHCHINH#
      , #CDRR_BENHKEM#
      , #ICD_BENHCHINH#
      , #ICD_BENHKEMTHEO#
      , #PHUONGPHAPDIEUTRI#
      , #FIELD_1#
      , #FIELD_2#
      , #FIELD_3#
      , #FIELD_4#
      , #FIELD_5#
      , #FIELD_6#
      , #FIELD_7#
      , #FIELD_8#
      , #FIELD_9#
      , #FIELD_10#
      , #FIELD_11#
      , #FIELD_12#
      , #FIELD_13#
      , #FIELD_14#
      , #FIELD_15#
      , #FIELD_27#
      , #FIELD_28#
      , #FIELD_29#
      , #FIELD_30#
      , #FIELD_31#
      , #FIELD_32#
      , #FIELD_33#
      , #FIELD_34#
      , #FIELD_35#
      , #FIELD_36#
      , #FIELD_37#
      , #FIELD_38#
      , #FIELD_39#
      , #FIELD_40#
      , #FIELD_41#
      , #FIELD_42#
      , #FIELD_43#
      , #FIELD_44#
      , #FIELD_45#
      , #FIELD_46#
      , #FIELD_47#
      , #FIELD_48#
      , #FIELD_49#
      , #FIELD_50#
      , #FIELD_51#
      , #FIELD_52#
      , #FIELD_53#
      , #FIELD_54#
      , #FIELD_55#
      , #FIELD_56#
      , #BENHVIEN_ID#
      )
    </insert>    
    <update id="DAO00080_Update_KhamBenh_CapCuu" parameterClass="System.Collections.IDictionary">
      update TT_KHAMBENH_VAOVIEN set
        TIEPNHAN_ID = #TIEPNHAN_ID#            
      <isPropertyAvailable prepend="," property="NGUOILIENHE">
        NGUOILIENHE = #NGUOILIENHE#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="DIENTHOAILIENHE">
        DIENTHOAILIENHE = #DIENTHOAILIENHE#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NOILAMVIEC">
        NOILAMVIEC = #NOILAMVIEC#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CHANDOANNOIGIOITHIEU">
        CHANDOANNOIGIOITHIEU = #CHANDOANNOIGIOITHIEU#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGAYKHAM">
        NGAYKHAM = #NGAYKHAM#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="THOIGIANKHAM">
        THOIGIANKHAM = #THOIGIANKHAM#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="LYDOVAOVIEN">
        LYDOVAOVIEN = #LYDOVAOVIEN#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="QUATRINHBENHLY">
        QUATRINHBENHLY = #QUATRINHBENHLY#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="TIENSUBANTHAN">
        TIENSUBANTHAN = #TIENSUBANTHAN#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="TIENSUGIADINH">
        TIENSUGIADINH = #TIENSUGIADINH#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KHAMXETTOANTHAN">
        KHAMXETTOANTHAN = #KHAMXETTOANTHAN#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KHAMXETCACBOPHAN">
        KHAMXETCACBOPHAN = #KHAMXETCACBOPHAN#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KHAMXETKQLS">
        KHAMXETKQLS = #KHAMXETKQLS#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CHANDOANVAO">
        CHANDOANVAO = #CHANDOANVAO#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="ICDKHAMXET_ID">
        ICDKHAMXET_ID = #ICDKHAMXET_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="DAXULY">
        DAXULY = #DAXULY#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGAYRA">
        NGAYRA = #NGAYRA#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="THOIGIANRA">
        THOIGIANRA = #THOIGIANRA#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NHAPKHOA_ID">
        NHAPKHOA_ID = #NHAPKHOA_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CHUYENVIEN_ID">
        CHUYENVIEN_ID = #CHUYENVIEN_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CHUY">
        CHUY = #CHUY#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="MACH">
        MACH = #MACH#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NHIETDO">
        NHIETDO = #NHIETDO#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="HUYETAPCAO">
        HUYETAPCAO = #HUYETAPCAO#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="HUYETAPTHAP">
        HUYETAPTHAP = #HUYETAPTHAP#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NHIPTHO">
        NHIPTHO = #NHIPTHO#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CANNANG">
        CANNANG = #CANNANG#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CHIEUCAO">
        CHIEUCAO = #CHIEUCAO#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="BACSI_ID">
        BACSI_ID = #BACSI_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="XUTRUKHAMBENH_ID">
        XUTRUKHAMBENH_ID = #XUTRUKHAMBENH_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CAPCUU">
        CAPCUU = #CAPCUU#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGAYTAINAN">
        NGAYTAINAN = #NGAYTAINAN#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="THOIGIANTAINAN">
        THOIGIANTAINAN = #THOIGIANTAINAN#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NOITAINAN_TINHTHANH_ID">
        NOITAINAN_TINHTHANH_ID = #NOITAINAN_TINHTHANH_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NOITAINAN_QUANHUYEN_ID">
        NOITAINAN_QUANHUYEN_ID = #NOITAINAN_QUANHUYEN_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NOITAINAN_PHUONGXA_ID">
        NOITAINAN_PHUONGXA_ID = #NOITAINAN_PHUONGXA_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NOITAINAN_DIACHI">
        NOITAINAN_DIACHI = #NOITAINAN_DIACHI#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="DIADIEMTAINAN_ID">
        DIADIEMTAINAN_ID = #DIADIEMTAINAN_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="BOPHANBITHUONG_ID">
        BOPHANBITHUONG_ID = #BOPHANBITHUONG_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="MUCDO_ID">
        MUCDO_ID = #MUCDO_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="DIENBIENSAUTN_ID">
        DIENBIENSAUTN_ID = #DIENBIENSAUTN_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="XUTRISAUTN_ID">
        XUTRISAUTN_ID = #XUTRISAUTN_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGUYENNHAN_ID">
        NGUYENNHAN_ID = #NGUYENNHAN_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGUYENNHANCHITIET_ID">
        NGUYENNHANCHITIET_ID = #NGUYENNHANCHITIET_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="ICD_NGUYENNHAN">
        ICD_NGUYENNHAN = #ICD_NGUYENNHAN#
      </isPropertyAvailable>  
      <isPropertyAvailable prepend="," property="NGAYCAPNHAT">
        NGAYCAPNHAT = #NGAYCAPNHAT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGUOICAPNHAT_ID">
        NGUOICAPNHAT_ID = #NGUOICAPNHAT_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="BENHANCHUYENKHOA">
        BENHANCHUYENKHOA = #BENHANCHUYENKHOA#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CHANDOANVAOVIEN">
        CHANDOANVAOVIEN = #CHANDOANVAOVIEN#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CHANDOANRAVIEN">
        CHANDOANRAVIEN = #CHANDOANRAVIEN#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="DIEUTRITUNGAY">
        DIEUTRITUNGAY = #DIEUTRITUNGAY#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="DIEUTRIDENNGAY">
        DIEUTRIDENNGAY = #DIEUTRIDENNGAY#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="DIENBIENLS">
        DIENBIENLS = #DIENBIENLS#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KQXETNGHIEM">
        KQXETNGHIEM = #KQXETNGHIEM#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="PHAUTHUAT">
        PHAUTHUAT = #PHAUTHUAT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="THUTHUAT">
        THUTHUAT = #THUTHUAT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="TINHTRANGNGUOIBENH">
        TINHTRANGNGUOIBENH = #TINHTRANGNGUOIBENH#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="HUONGDIEUTRI">
        HUONGDIEUTRI = #HUONGDIEUTRI#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGUOIGIAO_ID">
        NGUOIGIAO_ID = #NGUOIGIAO_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGUOINHAN_ID">
        NGUOINHAN_ID = #NGUOINHAN_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="XQUANG">
        XQUANG = #XQUANG#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CTSCANNER">
        CTSCANNER = #CTSCANNER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="SIEUAM">
        SIEUAM = #SIEUAM#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="XETNGHIEM">
        XETNGHIEM = #XETNGHIEM#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KHAC">
        KHAC = #KHAC#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="TOANBOHS">
        TOANBOHS = #TOANBOHS#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="LOAICHUYENKHOA">
        LOAICHUYENKHOA = #LOAICHUYENKHOA#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CONGANCANTHIEP">
        CONGANCANTHIEP = #CONGANCANTHIEP#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CDRR_BENHCHINH">
        CDRR_BENHCHINH = #CDRR_BENHCHINH#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CDRR_BENHKEM">
        CDRR_BENHKEM = #CDRR_BENHKEM#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="ICD_BENHCHINH">
        ICD_BENHCHINH = #ICD_BENHCHINH#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="ICD_BENHKEMTHEO">
        ICD_BENHKEMTHEO = #ICD_BENHKEMTHEO#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="PHUONGPHAPDIEUTRI">
        PHUONGPHAPDIEUTRI = #PHUONGPHAPDIEUTRI#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CHUYENKHOA_ID">
        CHUYENKHOA_ID = #CHUYENKHOA_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_1">
        FIELD_1 = #FIELD_1#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_2">
        FIELD_2 = #FIELD_2#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_3">
        FIELD_3 = #FIELD_3#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_4">
        FIELD_4 = #FIELD_4#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_5">
        FIELD_5 = #FIELD_5#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_6">
        FIELD_6 = #FIELD_6#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_7">
        FIELD_7 = #FIELD_7#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_8">
        FIELD_8 = #FIELD_8#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_9">
        FIELD_9 = #FIELD_9#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_10">
        FIELD_10 = #FIELD_10#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_11">
        FIELD_11 = #FIELD_11#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_12">
        FIELD_12 = #FIELD_12#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_13">
        FIELD_13 = #FIELD_13#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_14">
        FIELD_14 = #FIELD_14#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_15">
        FIELD_15 = #FIELD_15#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_27">
        FIELD_27 = #FIELD_27#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_28">
        FIELD_28 = #FIELD_28#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_29">
        FIELD_29 = #FIELD_29#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_30">
        FIELD_30 = #FIELD_30#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_31">
        FIELD_31 = #FIELD_31#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_32">
        FIELD_32 = #FIELD_32#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_33">
        FIELD_33 = #FIELD_33#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_34">
        FIELD_34 = #FIELD_34#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_35">
        FIELD_35 = #FIELD_35#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_36">
        FIELD_36 = #FIELD_36#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_37">
        FIELD_37 = #FIELD_37#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_38">
        FIELD_38 = #FIELD_38#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_39">
        FIELD_39 = #FIELD_39#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_40">
        FIELD_40 = #FIELD_40#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_41">
        FIELD_41 = #FIELD_41#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_42">
        FIELD_42 = #FIELD_42#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_43">
        FIELD_43 = #FIELD_43#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_44">
        FIELD_44 = #FIELD_44#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_45">
        FIELD_45 = #FIELD_45#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_46">
        FIELD_46 = #FIELD_46#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_47">
        FIELD_47 = #FIELD_47#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_48">
        FIELD_48 = #FIELD_48#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_49">
        FIELD_49 = #FIELD_49#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_50">
        FIELD_50 = #FIELD_50#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_51">
        FIELD_51 = #FIELD_51#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_52">
        FIELD_52 = #FIELD_52#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_53">
        FIELD_53 = #FIELD_53#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_54">
        FIELD_54 = #FIELD_54#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_55">
        FIELD_55 = #FIELD_55#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="FIELD_56">
        FIELD_56 = #FIELD_56#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="BENHVIEN_ID">
        BENHVIEN_ID = #BENHVIEN_ID#
      </isPropertyAvailable>
      where
      TIEPNHAN_ID = '$TIEPNHAN_ID$'
    </update>
    <insert id="DAO00080_UpdateNgoaiTruKhambenhBenhan" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
    	<selectKey property="ID" type="pre" resultClass="System.Int64">
        select TT_NGOAITRU_KHAMBENH_BENHAN_S.nextval as value from dual
      </selectKey>
      DECLARE
      vrROW int := 0;
      BEGIN
      BEGIN
      SELECT COUNT(*) into vrROW FROM TT_NGOAITRU_KHAMBENH_BENHAN WHERE DVYEUCAU_ID='$DVYEUCAU_ID$' and TIEPNHAN_ID = '$TIEPNHAN_ID$';
      EXCEPTION WHEN NO_DATA_FOUND THEN
      vrROW := 0;
      END;
      IF (vrROW > 0) THEN
            update TT_NGOAITRU_KHAMBENH_BENHAN set
            TIEPNHAN_ID = #TIEPNHAN_ID#
            <isPropertyAvailable prepend="," property="NGUOILIENHE">
              NGUOILIENHE = #NGUOILIENHE#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="DIENTHOAILIENHE">
              DIENTHOAILIENHE = #DIENTHOAILIENHE#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="NOILAMVIEC">
              NOILAMVIEC = #NOILAMVIEC#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="CHANDOANNOIGIOITHIEU">
              CHANDOANNOIGIOITHIEU = #CHANDOANNOIGIOITHIEU#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="NGAYKHAM">
              NGAYKHAM = #NGAYKHAM#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="THOIGIANKHAM">
              THOIGIANKHAM = #THOIGIANKHAM#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="LYDOVAOVIEN">
              LYDOVAOVIEN = #LYDOVAOVIEN#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="QUATRINHBENHLY">
              QUATRINHBENHLY = #QUATRINHBENHLY#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="TIENSUBANTHAN">
              TIENSUBANTHAN = #TIENSUBANTHAN#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="TIENSUGIADINH">
              TIENSUGIADINH = #TIENSUGIADINH#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="KHAMXETTOANTHAN">
              KHAMXETTOANTHAN = #KHAMXETTOANTHAN#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="KHAMXETCACBOPHAN">
              KHAMXETCACBOPHAN = #KHAMXETCACBOPHAN#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="KHAMXETKQLS">
              KHAMXETKQLS = #KHAMXETKQLS#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="CHANDOANVAO">
              CHANDOANVAO = #CHANDOANVAO#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="ICDKHAMXET_ID">
              ICDKHAMXET_ID = #ICDKHAMXET_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="DAXULY">
              DAXULY = #DAXULY#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="NGAYRA">
              NGAYRA = #NGAYRA#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="THOIGIANRA">
              THOIGIANRA = #THOIGIANRA#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="NHAPKHOA_ID">
              NHAPKHOA_ID = #NHAPKHOA_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="CHUYENVIEN_ID">
              CHUYENVIEN_ID = #CHUYENVIEN_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="CHUY">
              CHUY = #CHUY#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="MACH">
              MACH = #MACH#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="NHIETDO">
              NHIETDO = #NHIETDO#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="HUYETAPCAO">
              HUYETAPCAO = #HUYETAPCAO#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="HUYETAPTHAP">
              HUYETAPTHAP = #HUYETAPTHAP#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="NHIPTHO">
              NHIPTHO = #NHIPTHO#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="CANNANG">
              CANNANG = #CANNANG#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="CHIEUCAO">
              CHIEUCAO = #CHIEUCAO#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="BACSI_ID">
              BACSI_ID = #BACSI_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="XUTRUKHAMBENH_ID">
              XUTRUKHAMBENH_ID = #XUTRUKHAMBENH_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="CAPCUU">
              CAPCUU = #CAPCUU#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="NGAYTAINAN">
              NGAYTAINAN = #NGAYTAINAN#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="THOIGIANTAINAN">
              THOIGIANTAINAN = #THOIGIANTAINAN#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="NOITAINAN_TINHTHANH_ID">
              NOITAINAN_TINHTHANH_ID = #NOITAINAN_TINHTHANH_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="NOITAINAN_QUANHUYEN_ID">
              NOITAINAN_QUANHUYEN_ID = #NOITAINAN_QUANHUYEN_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="NOITAINAN_PHUONGXA_ID">
              NOITAINAN_PHUONGXA_ID = #NOITAINAN_PHUONGXA_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="NOITAINAN_DIACHI">
              NOITAINAN_DIACHI = #NOITAINAN_DIACHI#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="DIADIEMTAINAN_ID">
              DIADIEMTAINAN_ID = #DIADIEMTAINAN_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="BOPHANBITHUONG_ID">
              BOPHANBITHUONG_ID = #BOPHANBITHUONG_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="MUCDO_ID">
              MUCDO_ID = #MUCDO_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="DIENBIENSAUTN_ID">
              DIENBIENSAUTN_ID = #DIENBIENSAUTN_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="XUTRISAUTN_ID">
              XUTRISAUTN_ID = #XUTRISAUTN_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="NGUYENNHAN_ID">
              NGUYENNHAN_ID = #NGUYENNHAN_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="NGUYENNHANCHITIET_ID">
              NGUYENNHANCHITIET_ID = #NGUYENNHANCHITIET_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="ICD_NGUYENNHAN">
              ICD_NGUYENNHAN = #ICD_NGUYENNHAN#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="NGAYCAPNHAT">
              NGAYCAPNHAT = #NGAYCAPNHAT#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="NGUOICAPNHAT_ID">
              NGUOICAPNHAT_ID = #NGUOICAPNHAT_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="BENHANCHUYENKHOA">
              BENHANCHUYENKHOA = #BENHANCHUYENKHOA#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="CHANDOANVAOVIEN">
              CHANDOANVAOVIEN = #CHANDOANVAOVIEN#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="CHANDOANRAVIEN">
              CHANDOANRAVIEN = #CHANDOANRAVIEN#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="DIEUTRITUNGAY">
              DIEUTRITUNGAY = #DIEUTRITUNGAY#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="DIEUTRIDENNGAY">
              DIEUTRIDENNGAY = #DIEUTRIDENNGAY#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="DIENBIENLS">
              DIENBIENLS = #DIENBIENLS#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="KQXETNGHIEM">
              KQXETNGHIEM = #KQXETNGHIEM#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="PHAUTHUAT">
              PHAUTHUAT = #PHAUTHUAT#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="THUTHUAT">
              THUTHUAT = #THUTHUAT#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="TINHTRANGNGUOIBENH">
              TINHTRANGNGUOIBENH = #TINHTRANGNGUOIBENH#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="HUONGDIEUTRI">
              HUONGDIEUTRI = #HUONGDIEUTRI#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="NGUOIGIAO_ID">
              NGUOIGIAO_ID = #NGUOIGIAO_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="NGUOINHAN_ID">
              NGUOINHAN_ID = #NGUOINHAN_ID#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="XQUANG">
              XQUANG = #XQUANG#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="CTSCANNER">
              CTSCANNER = #CTSCANNER#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="SIEUAM">
              SIEUAM = #SIEUAM#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="XETNGHIEM">
              XETNGHIEM = #XETNGHIEM#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="KHAC">
              KHAC = #KHAC#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="TOANBOHS">
              TOANBOHS = #TOANBOHS#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="LOAICHUYENKHOA">
              LOAICHUYENKHOA = #LOAICHUYENKHOA#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="CONGANCANTHIEP">
              CONGANCANTHIEP = #CONGANCANTHIEP#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="CDRR_BENHCHINH">
              CDRR_BENHCHINH = #CDRR_BENHCHINH#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="CDRR_BENHKEM">
              CDRR_BENHKEM = #CDRR_BENHKEM#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="ICD_BENHCHINH">
              ICD_BENHCHINH = #ICD_BENHCHINH#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="ICD_BENHKEMTHEO">
              ICD_BENHKEMTHEO = #ICD_BENHKEMTHEO#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="PHUONGPHAPDIEUTRI">
              PHUONGPHAPDIEUTRI = #PHUONGPHAPDIEUTRI#
            </isPropertyAvailable>
            <isPropertyAvailable prepend="," property="CHUYENKHOA_ID">
              CHUYENKHOA_ID = #CHUYENKHOA_ID#
            </isPropertyAvailable>
        where
        DVYEUCAU_ID='$DVYEUCAU_ID$' and TIEPNHAN_ID = '$TIEPNHAN_ID$';
      ELSE
            insert into TT_NGOAITRU_KHAMBENH_BENHAN (
	    NTKHAMBENH_BENHAN_ID
            , TIEPNHAN_ID
            , DVYEUCAU_ID
            , DICHVU_ID
            , KHAMBENH_ID
            , BENHNHAN_ID
            , NGUOILIENHE
            , DIENTHOAILIENHE
            , NOILAMVIEC
            , CHANDOANNOIGIOITHIEU
            , NGAYKHAM
            , THOIGIANKHAM
            , LYDOVAOVIEN
            , QUATRINHBENHLY
            , TIENSUBANTHAN
            , TIENSUGIADINH
            , KHAMXETTOANTHAN
            , KHAMXETCACBOPHAN
            , KHAMXETKQLS
            , CHANDOANVAO
            , ICDKHAMXET_ID
            , DAXULY
            , NGAYRA
            , THOIGIANRA
            , NHAPKHOA_ID
            , CHUYENVIEN_ID
            , CHUY
            , MACH
            , NHIETDO
            , HUYETAPCAO
            , HUYETAPTHAP
            , NHIPTHO
            , CANNANG
            , CHIEUCAO
            , BACSI_ID
            , XUTRUKHAMBENH_ID
            , CAPCUU
            , NGAYTAINAN
            , THOIGIANTAINAN
            , NOITAINAN_TINHTHANH_ID
            , NOITAINAN_QUANHUYEN_ID
            , NOITAINAN_PHUONGXA_ID
            , NOITAINAN_DIACHI
            , DIADIEMTAINAN_ID
            , BOPHANBITHUONG_ID
            , MUCDO_ID
            , DIENBIENSAUTN_ID
            , XUTRISAUTN_ID
            , NGUYENNHAN_ID
            , NGUYENNHANCHITIET_ID
            , ICD_NGUYENNHAN
            , NGAYTAO
            , NGUOITAO_ID
            , NGAYCAPNHAT
            , NGUOICAPNHAT_ID
            , BENHANCHUYENKHOA
            , CHANDOANVAOVIEN
            , CHANDOANRAVIEN
            , DIEUTRITUNGAY
            , DIEUTRIDENNGAY
            , DIENBIENLS
            , KQXETNGHIEM
            , PHAUTHUAT
            , THUTHUAT
            , TINHTRANGNGUOIBENH
            , HUONGDIEUTRI
            , NGUOIGIAO_ID
            , NGUOINHAN_ID
            , XQUANG
            , CTSCANNER
            , SIEUAM
            , XETNGHIEM
            , KHAC
            , TOANBOHS
            , LOAICHUYENKHOA
            , CONGANCANTHIEP
            , CDRR_BENHCHINH
            , CDRR_BENHKEM
            , ICD_BENHCHINH
            , ICD_BENHKEMTHEO
            , PHUONGPHAPDIEUTRI
            , BENHVIEN_ID
            ) values (
	    #ID#
            , #TIEPNHAN_ID#
            , #DVYEUCAU_ID#
            , #DICHVU_ID#
            , #KHAMBENH_ID#
            , #BENHNHAN_ID#
            , #NGUOILIENHE#
            , #DIENTHOAILIENHE#
            , #NOILAMVIEC#
            , #CHANDOANNOIGIOITHIEU#
            , #NGAYKHAM#
            , #THOIGIANKHAM#
            , #LYDOVAOVIEN#
            , #QUATRINHBENHLY#
            , #TIENSUBANTHAN#
            , #TIENSUGIADINH#
            , #KHAMXETTOANTHAN#
            , #KHAMXETCACBOPHAN#
            , #KHAMXETKQLS#
            , #CHANDOANVAO#
            , #ICDKHAMXET_ID#
            , #DAXULY#
            , #NGAYRA#
            , #THOIGIANRA#
            , #NHAPKHOA_ID#
            , #CHUYENVIEN_ID#
            , #CHUY#
            , #MACH#
            , #NHIETDO#
            , #HUYETAPCAO#
            , #HUYETAPTHAP#
            , #NHIPTHO#
            , #CANNANG#
            , #CHIEUCAO#
            , #BACSI_ID#
            , #XUTRUKHAMBENH_ID#
            , #CAPCUU#
            , #NGAYTAINAN#
            , #THOIGIANTAINAN#
            , #NOITAINAN_TINHTHANH_ID#
            , #NOITAINAN_QUANHUYEN_ID#
            , #NOITAINAN_PHUONGXA_ID#
            , #NOITAINAN_DIACHI#
            , #DIADIEMTAINAN_ID#
            , #BOPHANBITHUONG_ID#
            , #MUCDO_ID#
            , #DIENBIENSAUTN_ID#
            , #XUTRISAUTN_ID#
            , #NGUYENNHAN_ID#
            , #NGUYENNHANCHITIET_ID#
            , #ICD_NGUYENNHAN#
            , #NGAYTAO#
            , #NGUOITAO_ID#
            , #NGAYCAPNHAT#
            , #NGUOICAPNHAT_ID#
            , #BENHANCHUYENKHOA#
            , #CHANDOANVAOVIEN#
            , #CHANDOANRAVIEN#
            , #DIEUTRITUNGAY#
            , #DIEUTRIDENNGAY#
            , #DIENBIENLS#
            , #KQXETNGHIEM#
            , #PHAUTHUAT#
            , #THUTHUAT#
            , #TINHTRANGNGUOIBENH#
            , #HUONGDIEUTRI#
            , #NGUOIGIAO_ID#
            , #NGUOINHAN_ID#
            , #XQUANG#
            , #CTSCANNER#
            , #SIEUAM#
            , #XETNGHIEM#
            , #KHAC#
            , #TOANBOHS#
            , #LOAICHUYENKHOA#
            , #CONGANCANTHIEP#
            , #CDRR_BENHCHINH#
            , #CDRR_BENHKEM#
            , #ICD_BENHCHINH#
            , #ICD_BENHKEMTHEO#
            , #PHUONGPHAPDIEUTRI#
            , #BENHVIEN_ID#
            );
            END IF;
      END;
    </insert>

    <insert id="DAO00080_Add_TT_NGOAITRU_KHAMBENH_BENHAN" parameterClass="System.Collections.IDictionary" resultClass="System.Int64">
      <selectKey property="ID" type="pre" resultClass="System.Int64">
        select TT_NGOAITRU_KHAMBENH_BENHAN_S.nextval as value from dual
      </selectKey>
      insert into TT_NGOAITRU_KHAMBENH_BENHAN (
      NTKHAMBENH_BENHAN_ID
      , TIEPNHAN_ID
      , DVYEUCAU_ID
      , DICHVU_ID
      , KHAMBENH_ID
      , BENHNHAN_ID
      , NGUOILIENHE
      , DIENTHOAILIENHE
      , NOILAMVIEC
      , CHANDOANNOIGIOITHIEU
      , NGAYKHAM
      , THOIGIANKHAM
      , LYDOVAOVIEN
      , QUATRINHBENHLY
      , TIENSUBANTHAN
      , TIENSUGIADINH
      , KHAMXETTOANTHAN
      , KHAMXETCACBOPHAN
      , KHAMXETKQLS
      , CHANDOANVAO
      , ICDKHAMXET_ID
      , DAXULY
      , NGAYRA
      , THOIGIANRA
      , NHAPKHOA_ID
      , CHUYENVIEN_ID
      , CHUY
      , MACH
      , NHIETDO
      , HUYETAPCAO
      , HUYETAPTHAP
      , NHIPTHO
      , CANNANG
      , CHIEUCAO
      , BACSI_ID
      , XUTRUKHAMBENH_ID
      , CAPCUU
      , NGAYTAINAN
      , THOIGIANTAINAN
      , NOITAINAN_TINHTHANH_ID
      , NOITAINAN_QUANHUYEN_ID
      , NOITAINAN_PHUONGXA_ID
      , NOITAINAN_DIACHI
      , DIADIEMTAINAN_ID
      , BOPHANBITHUONG_ID
      , MUCDO_ID
      , DIENBIENSAUTN_ID
      , XUTRISAUTN_ID
      , NGUYENNHAN_ID
      , NGUYENNHANCHITIET_ID
      , ICD_NGUYENNHAN
      , NGAYTAO
      , NGUOITAO_ID
      , NGAYCAPNHAT
      , NGUOICAPNHAT_ID
      , BENHANCHUYENKHOA
      , CHANDOANVAOVIEN
      , CHANDOANRAVIEN
      , DIEUTRITUNGAY
      , DIEUTRIDENNGAY
      , DIENBIENLS
      , KQXETNGHIEM
      , PHAUTHUAT
      , THUTHUAT
      , TINHTRANGNGUOIBENH
      , HUONGDIEUTRI
      , NGUOIGIAO_ID
      , NGUOINHAN_ID
      , XQUANG
      , CTSCANNER
      , SIEUAM
      , XETNGHIEM
      , KHAC
      , TOANBOHS
      , LOAICHUYENKHOA
      , CONGANCANTHIEP
      , CDRR_BENHCHINH
      , CDRR_BENHKEM
      , ICD_BENHCHINH
      , ICD_BENHKEMTHEO
      , PHUONGPHAPDIEUTRI
      , BENHVIEN_ID
      ) values (
      #ID#
      , #TIEPNHAN_ID#
      , #DVYEUCAU_ID#
      , #DICHVU_ID#
      , #KHAMBENH_ID#
      , #BENHNHAN_ID#
      , #NGUOILIENHE#
      , #DIENTHOAILIENHE#
      , #NOILAMVIEC#
      , #CHANDOANNOIGIOITHIEU#
      , #NGAYKHAM#
      , #THOIGIANKHAM#
      , #LYDOVAOVIEN#
      , #QUATRINHBENHLY#
      , #TIENSUBANTHAN#
      , #TIENSUGIADINH#
      , #KHAMXETTOANTHAN#
      , #KHAMXETCACBOPHAN#
      , #KHAMXETKQLS#
      , #CHANDOANVAO#
      , #ICDKHAMXET_ID#
      , #DAXULY#
      , #NGAYRA#
      , #THOIGIANRA#
      , #NHAPKHOA_ID#
      , #CHUYENVIEN_ID#
      , #CHUY#
      , #MACH#
      , #NHIETDO#
      , #HUYETAPCAO#
      , #HUYETAPTHAP#
      , #NHIPTHO#
      , #CANNANG#
      , #CHIEUCAO#
      , #BACSI_ID#
      , #XUTRUKHAMBENH_ID#
      , #CAPCUU#
      , #NGAYTAINAN#
      , #THOIGIANTAINAN#
      , #NOITAINAN_TINHTHANH_ID#
      , #NOITAINAN_QUANHUYEN_ID#
      , #NOITAINAN_PHUONGXA_ID#
      , #NOITAINAN_DIACHI#
      , #DIADIEMTAINAN_ID#
      , #BOPHANBITHUONG_ID#
      , #MUCDO_ID#
      , #DIENBIENSAUTN_ID#
      , #XUTRISAUTN_ID#
      , #NGUYENNHAN_ID#
      , #NGUYENNHANCHITIET_ID#
      , #ICD_NGUYENNHAN#
      , #NGAYTAO#
      , #NGUOITAO_ID#
      , #NGAYCAPNHAT#
      , #NGUOICAPNHAT_ID#
      , #BENHANCHUYENKHOA#
      , #CHANDOANVAOVIEN#
      , #CHANDOANRAVIEN#
      , #DIEUTRITUNGAY#
      , #DIEUTRIDENNGAY#
      , #DIENBIENLS#
      , #KQXETNGHIEM#
      , #PHAUTHUAT#
      , #THUTHUAT#
      , #TINHTRANGNGUOIBENH#
      , #HUONGDIEUTRI#
      , #NGUOIGIAO_ID#
      , #NGUOINHAN_ID#
      , #XQUANG#
      , #CTSCANNER#
      , #SIEUAM#
      , #XETNGHIEM#
      , #KHAC#
      , #TOANBOHS#
      , #LOAICHUYENKHOA#
      , #CONGANCANTHIEP#
      , #CDRR_BENHCHINH#
      , #CDRR_BENHKEM#
      , #ICD_BENHCHINH#
      , #ICD_BENHKEMTHEO#
      , #PHUONGPHAPDIEUTRI#
      , #BENHVIEN_ID#
      )
    </insert>
    <update id="DAO00080_Update_TT_NGOAITRU_KHAMBENH_BENHAN" parameterClass="System.Collections.IDictionary">
      update TT_NGOAITRU_KHAMBENH_BENHAN set
      TIEPNHAN_ID = #TIEPNHAN_ID#
      <isPropertyAvailable prepend="," property="NGUOILIENHE">
        NGUOILIENHE = #NGUOILIENHE#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="DIENTHOAILIENHE">
        DIENTHOAILIENHE = #DIENTHOAILIENHE#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NOILAMVIEC">
        NOILAMVIEC = #NOILAMVIEC#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CHANDOANNOIGIOITHIEU">
        CHANDOANNOIGIOITHIEU = #CHANDOANNOIGIOITHIEU#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGAYKHAM">
        NGAYKHAM = #NGAYKHAM#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="THOIGIANKHAM">
        THOIGIANKHAM = #THOIGIANKHAM#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="LYDOVAOVIEN">
        LYDOVAOVIEN = #LYDOVAOVIEN#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="QUATRINHBENHLY">
        QUATRINHBENHLY = #QUATRINHBENHLY#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="TIENSUBANTHAN">
        TIENSUBANTHAN = #TIENSUBANTHAN#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="TIENSUGIADINH">
        TIENSUGIADINH = #TIENSUGIADINH#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KHAMXETTOANTHAN">
        KHAMXETTOANTHAN = #KHAMXETTOANTHAN#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KHAMXETCACBOPHAN">
        KHAMXETCACBOPHAN = #KHAMXETCACBOPHAN#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KHAMXETKQLS">
        KHAMXETKQLS = #KHAMXETKQLS#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CHANDOANVAO">
        CHANDOANVAO = #CHANDOANVAO#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="ICDKHAMXET_ID">
        ICDKHAMXET_ID = #ICDKHAMXET_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="DAXULY">
        DAXULY = #DAXULY#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGAYRA">
        NGAYRA = #NGAYRA#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="THOIGIANRA">
        THOIGIANRA = #THOIGIANRA#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NHAPKHOA_ID">
        NHAPKHOA_ID = #NHAPKHOA_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CHUYENVIEN_ID">
        CHUYENVIEN_ID = #CHUYENVIEN_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CHUY">
        CHUY = #CHUY#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="MACH">
        MACH = #MACH#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NHIETDO">
        NHIETDO = #NHIETDO#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="HUYETAPCAO">
        HUYETAPCAO = #HUYETAPCAO#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="HUYETAPTHAP">
        HUYETAPTHAP = #HUYETAPTHAP#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NHIPTHO">
        NHIPTHO = #NHIPTHO#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CANNANG">
        CANNANG = #CANNANG#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CHIEUCAO">
        CHIEUCAO = #CHIEUCAO#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="BACSI_ID">
        BACSI_ID = #BACSI_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="XUTRUKHAMBENH_ID">
        XUTRUKHAMBENH_ID = #XUTRUKHAMBENH_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CAPCUU">
        CAPCUU = #CAPCUU#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGAYTAINAN">
        NGAYTAINAN = #NGAYTAINAN#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="THOIGIANTAINAN">
        THOIGIANTAINAN = #THOIGIANTAINAN#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NOITAINAN_TINHTHANH_ID">
        NOITAINAN_TINHTHANH_ID = #NOITAINAN_TINHTHANH_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NOITAINAN_QUANHUYEN_ID">
        NOITAINAN_QUANHUYEN_ID = #NOITAINAN_QUANHUYEN_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NOITAINAN_PHUONGXA_ID">
        NOITAINAN_PHUONGXA_ID = #NOITAINAN_PHUONGXA_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NOITAINAN_DIACHI">
        NOITAINAN_DIACHI = #NOITAINAN_DIACHI#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="DIADIEMTAINAN_ID">
        DIADIEMTAINAN_ID = #DIADIEMTAINAN_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="BOPHANBITHUONG_ID">
        BOPHANBITHUONG_ID = #BOPHANBITHUONG_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="MUCDO_ID">
        MUCDO_ID = #MUCDO_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="DIENBIENSAUTN_ID">
        DIENBIENSAUTN_ID = #DIENBIENSAUTN_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="XUTRISAUTN_ID">
        XUTRISAUTN_ID = #XUTRISAUTN_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGUYENNHAN_ID">
        NGUYENNHAN_ID = #NGUYENNHAN_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGUYENNHANCHITIET_ID">
        NGUYENNHANCHITIET_ID = #NGUYENNHANCHITIET_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="ICD_NGUYENNHAN">
        ICD_NGUYENNHAN = #ICD_NGUYENNHAN#
      </isPropertyAvailable>      
      <isPropertyAvailable prepend="," property="NGAYCAPNHAT">
        NGAYCAPNHAT = #NGAYCAPNHAT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGUOICAPNHAT_ID">
        NGUOICAPNHAT_ID = #NGUOICAPNHAT_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="BENHANCHUYENKHOA">
        BENHANCHUYENKHOA = #BENHANCHUYENKHOA#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CHANDOANVAOVIEN">
        CHANDOANVAOVIEN = #CHANDOANVAOVIEN#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CHANDOANRAVIEN">
        CHANDOANRAVIEN = #CHANDOANRAVIEN#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="DIEUTRITUNGAY">
        DIEUTRITUNGAY = #DIEUTRITUNGAY#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="DIEUTRIDENNGAY">
        DIEUTRIDENNGAY = #DIEUTRIDENNGAY#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="DIENBIENLS">
        DIENBIENLS = #DIENBIENLS#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KQXETNGHIEM">
        KQXETNGHIEM = #KQXETNGHIEM#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="PHAUTHUAT">
        PHAUTHUAT = #PHAUTHUAT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="THUTHUAT">
        THUTHUAT = #THUTHUAT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="TINHTRANGNGUOIBENH">
        TINHTRANGNGUOIBENH = #TINHTRANGNGUOIBENH#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="HUONGDIEUTRI">
        HUONGDIEUTRI = #HUONGDIEUTRI#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGUOIGIAO_ID">
        NGUOIGIAO_ID = #NGUOIGIAO_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGUOINHAN_ID">
        NGUOINHAN_ID = #NGUOINHAN_ID#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="XQUANG">
        XQUANG = #XQUANG#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CTSCANNER">
        CTSCANNER = #CTSCANNER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="SIEUAM">
        SIEUAM = #SIEUAM#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="XETNGHIEM">
        XETNGHIEM = #XETNGHIEM#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KHAC">
        KHAC = #KHAC#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="TOANBOHS">
        TOANBOHS = #TOANBOHS#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="LOAICHUYENKHOA">
        LOAICHUYENKHOA = #LOAICHUYENKHOA#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CONGANCANTHIEP">
        CONGANCANTHIEP = #CONGANCANTHIEP#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CDRR_BENHCHINH">
        CDRR_BENHCHINH = #CDRR_BENHCHINH#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CDRR_BENHKEM">
        CDRR_BENHKEM = #CDRR_BENHKEM#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="ICD_BENHCHINH">
        ICD_BENHCHINH = #ICD_BENHCHINH#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="ICD_BENHKEMTHEO">
        ICD_BENHKEMTHEO = #ICD_BENHKEMTHEO#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="PHUONGPHAPDIEUTRI">
        PHUONGPHAPDIEUTRI = #PHUONGPHAPDIEUTRI#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="CHUYENKHOA_ID">
        CHUYENKHOA_ID = #CHUYENKHOA_ID#
      </isPropertyAvailable>
      where
      NTKHAMBENH_BENHAN_ID = '$NTKHAMBENH_BENHAN_ID$'
    </update>
    <statement id="DAO00080_Add_BenhAn_NgoaiKhoa" parameterClass="System.Collections.IDictionary" resultClass="System.Int64">
      <selectKey property="ID" type="pre" resultClass="System.Int64">
        select TT_NOITRU_BENHAN_NGOAIKHOA_S.nextval as value from dual
      </selectKey>
      DECLARE
      vrROW int := 0;
      BEGIN
      BEGIN
      SELECT COUNT(*) into vrROW FROM TT_NOITRU_BENHAN_NGOAIKHOA WHERE BENHAN_ID = '$BENHAN_ID$';
      EXCEPTION WHEN NO_DATA_FOUND THEN
      vrROW := 0;
      END;
      IF (vrROW > 0) THEN
      update TT_NOITRU_BENHAN_NGOAIKHOA set
      BENHAN_ID = #BENHAN_ID#
      <isPropertyAvailable prepend="," property="BENHNGOAIKHOA">
        BENHNGOAIKHOA = #BENHNGOAIKHOA#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KHIVAOKHOA_BENHCHINH">
        KHIVAOKHOA_BENHCHINH = #KHIVAOKHOA_BENHCHINH#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KHIVAOKHOA_BENHPHU">
        KHIVAOKHOA_BENHPHU = #KHIVAOKHOA_BENHPHU#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KHIVAOKHOA_PHANBIET">
        KHIVAOKHOA_PHANBIET = #KHIVAOKHOA_PHANBIET#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="BENHVIEN_ID">
        BENHVIEN_ID = '$BENHVIEN_ID$'
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGAYCAPNHAT">
        NGAYCAPNHAT = #NGAYCAPNHAT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGUOICAPNHAT_ID">
        NGUOICAPNHAT_ID = '$NGUOICAPNHAT_ID$'
      </isPropertyAvailable>
      where
      BENHAN_ID = '$BENHAN_ID$';
      ELSE
      insert into TT_NOITRU_BENHAN_NGOAIKHOA (
      BENHAN_NGOAIKHOA
      , BENHAN_ID
      , BENHNGOAIKHOA
      , KHIVAOKHOA_BENHCHINH
      , KHIVAOKHOA_BENHPHU
      , KHIVAOKHOA_PHANBIET
      , BENHVIEN_ID
      , NGAYTAO
      , NGUOITAO_ID
      , NGAYCAPNHAT
      , NGUOICAPNHAT_ID
      ) values (
      #ID#
      , #BENHAN_ID#
      , #BENHNGOAIKHOA#
      , #KHIVAOKHOA_BENHCHINH#
      , #KHIVAOKHOA_BENHPHU#
      , #KHIVAOKHOA_PHANBIET#
      , #BENHVIEN_ID#
      , #NGAYTAO#
      , #NGUOITAO_ID#
      , #NGAYCAPNHAT#
      , #NGUOICAPNHAT_ID#
      );
    END IF;
      END;
    </statement>
    <update id="DAO00080_Update_BenhAn_NgoaiKhoa" parameterClass="System.Collections.IDictionary">
      update TT_NOITRU_BENHAN_NGOAIKHOA set
      BENHAN_ID = #BENHAN_ID#
      <isPropertyAvailable prepend="," property="BENHNGOAIKHOA">
        BENHNGOAIKHOA = #BENHNGOAIKHOA#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KHIVAOKHOA_BENHCHINH">
        KHIVAOKHOA_BENHCHINH = #KHIVAOKHOA_BENHCHINH#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KHIVAOKHOA_BENHPHU">
        KHIVAOKHOA_BENHPHU = #KHIVAOKHOA_BENHPHU#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KHIVAOKHOA_PHANBIET">
        KHIVAOKHOA_PHANBIET = #KHIVAOKHOA_PHANBIET#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="BENHVIEN_ID">
        BENHVIEN_ID = '$BENHVIEN_ID$'
      </isPropertyAvailable>      
      <isPropertyAvailable prepend="," property="NGAYCAPNHAT">
        NGAYCAPNHAT = #NGAYCAPNHAT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGUOICAPNHAT_ID">
        NGUOICAPNHAT_ID = '$NGUOICAPNHAT_ID$'
      </isPropertyAvailable>
      where
      BENHAN_ID = '$BENHAN_ID$'
    </update>
    <statement id="DAO00080_Add_BenhAn_NoiKhoa" parameterClass="System.Collections.IDictionary" resultClass="System.Int64">
      IF EXISTS
      (
      SELECT BENHAN_ID
      FROM TT_NOITRU_BENHAN_NOIKHOA
      WHERE
      BENHAN_ID = '$BENHAN_ID$'
      )
      BEGIN
      update TT_NOITRU_BENHAN_NOIKHOA set
      BENHAN_ID = #BENHAN_ID#
      <isPropertyAvailable prepend="," property="BENHNOIKHOA">
        BENHNOIKHOA = #BENHNOIKHOA#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KHIVAOKHOA_BENHCHINH">
        KHIVAOKHOA_BENHCHINH = #KHIVAOKHOA_BENHCHINH#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KHIVAOKHOA_BENHPHU">
        KHIVAOKHOA_BENHPHU = #KHIVAOKHOA_BENHPHU#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KHIVAOKHOA_PHANBIET">
        KHIVAOKHOA_PHANBIET = #KHIVAOKHOA_PHANBIET#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="BENHVIEN_ID">
        BENHVIEN_ID = '$BENHVIEN_ID$'
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGAYCAPNHAT">
        NGAYCAPNHAT = #NGAYCAPNHAT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGUOICAPNHAT_ID">
        NGUOICAPNHAT_ID = '$NGUOICAPNHAT_ID$'
      </isPropertyAvailable>
      where
      BENHAN_ID = '$BENHAN_ID$'
      END
      ELSE
      BEGIN
      insert into TT_NOITRU_BENHAN_NOIKHOA (
      BENHAN_ID
      , BENHNOIKHOA
      , KHIVAOKHOA_BENHCHINH
      , KHIVAOKHOA_BENHPHU
      , KHIVAOKHOA_PHANBIET
      , BENHVIEN_ID
      , NGAYTAO
      , NGUOITAO_ID
      , NGAYCAPNHAT
      , NGUOICAPNHAT_ID
      ) values (
      #BENHAN_ID#
      , #BENHNOIKHOA#
      , #KHIVAOKHOA_BENHCHINH#
      , #KHIVAOKHOA_BENHPHU#
      , #KHIVAOKHOA_PHANBIET#
      , #BENHVIEN_ID#
      , #NGAYTAO#
      , #NGUOITAO_ID#
      , #NGAYCAPNHAT#
      , #NGUOICAPNHAT_ID#
      )

      END
    </statement>
    <update id="DAO00080_Update_BenhAn_NoiKhoa" parameterClass="System.Collections.IDictionary">
      update TT_NOITRU_BENHAN_NOIKHOA set
      BENHAN_ID = #BENHAN_ID#
      <isPropertyAvailable prepend="," property="BENHNOIKHOA">
        BENHNOIKHOA = #BENHNOIKHOA#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KHIVAOKHOA_BENHCHINH">
        KHIVAOKHOA_BENHCHINH = #KHIVAOKHOA_BENHCHINH#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KHIVAOKHOA_BENHPHU">
        KHIVAOKHOA_BENHPHU = #KHIVAOKHOA_BENHPHU#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="KHIVAOKHOA_PHANBIET">
        KHIVAOKHOA_PHANBIET = #KHIVAOKHOA_PHANBIET#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="BENHVIEN_ID">
        BENHVIEN_ID = '$BENHVIEN_ID$'
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGAYCAPNHAT">
        NGAYCAPNHAT = #NGAYCAPNHAT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="," property="NGUOICAPNHAT_ID">
        NGUOICAPNHAT_ID = '$NGUOICAPNHAT_ID$'
      </isPropertyAvailable>
      where
      BENHAN_ID = '$BENHAN_ID$'
    </update>
    <statement id="DAO00080_GetDetail_BenhAn_NgoaiKhoa" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
      select *, NGUOICAPNHAT_ID as NGUOITAOBA_ID
      from TT_NOITRU_BENHAN_NGOAIKHOA
      where BENHAN_ID = '$BENHAN_ID$'
    </statement>
    <statement id="DAO00080_GetDetail_BenhAn_NoiKhoa" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
      select *, NGUOICAPNHAT_ID as NGUOITAOBA_ID
      from TT_NOITRU_BENHAN_NOIKHOA
      where BENHAN_ID = '$BENHAN_ID$'
    </statement>

    <statement id="DAO00080_GetFirstPhauThuatID" parameterClass="System.Collections.IDictionary" resultClass="System.Int32">
      select PHAUTHUAT_ID
      from TT_PHAUTHUAT
      where TIEPNHAN_ID = '$TIEPNHAN_ID$'
    </statement>

    <statement id="DAO00080_TT_NOITRU_BENHAN_Update_TrangThai" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
      update TT_NOITRU_BENHAN set TRANGTHAI = '$TRANGTHAI$'
      where BENHAN_ID = '$BENHAN_ID$'
    </statement>
    <statement id="DAO00080_PhatSinhDataNoiTru" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
      select count(*) as BIENBAN, 0 as CHAMSOC, 0 as HOADON, 0 as GIUONGBENH from TT_BIENBANHOICHAN where BENHAN_ID = '$BENHAN_ID$'
      union
      select 0 as BIENBAN, count(*) as CHAMSOC, 0 as HOADON, 0 as GIUONGBENH from TT_NOITRU_CHAMSOC where BENHAN_ID = '$BENHAN_ID$'
      union
      select 0 as BIENBAN, 0 as CHAMSOC, count(*) as HOADON, 0 as GIUONGBENH  from TT_HOADON where BENHAN_ID = '$BENHAN_ID$'
      union
      select 0 as BIENBAN, 0 as CHAMSOC, 0 as HOADON, count(*) as GIUONGBENH  from TT_NOITRU_GIUONGBENH where BENHAN_ID = '$BENHAN_ID$'
    </statement>
  </statements>
</sqlMap>
