<?xml version="1.0" encoding="utf-8" ?>
<!--============================================================================
//	CAUTION: This file is generated by IBatisNetGen.3.SQLMap.cst at 5/24/2016 11:05:56 AM
//				Any manual editing will be lost in re-generation.
//===========================================================================-->
<sqlMap namespace="eHospital" xmlns="http://ibatis.apache.org/mapping" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

  <statements>
    <statement id="DAO00072_GetAll" resultClass="DataObject">
      select *
      from TT_NOITRU_LUUTRU
      order by LUUTRU_ID
    </statement>
    <statement id="DAO00072_GetList" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
      select *
      from TT_NOITRU_LUUTRU
      <dynamic prepend="where">
        <isParameterPresent>
          <isNotEmpty prepend="and" property="LUUTRU_ID">
            TT_NOITRU_LUUTRU.LUUTRU_ID = '$LUUTRU_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="BENHAN_ID">
            TT_NOITRU_LUUTRU.BENHAN_ID = '$BENHAN_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="PHONGBAN_ID">
            TT_NOITRU_LUUTRU.PHONGBAN_ID = '$PHONGBAN_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="CHUYENKHOA_ID">
            TT_NOITRU_LUUTRU.CHUYENKHOA_ID = '$CHUYENKHOA_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="NGAYVAO">
            TT_NOITRU_LUUTRU.NGAYVAO = '$NGAYVAO$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="THOIGIANVAO">
            TT_NOITRU_LUUTRU.THOIGIANVAO = '$THOIGIANVAO$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="LYDOVAO_ID">
            TT_NOITRU_LUUTRU.LYDOVAO_ID = '$LYDOVAO_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="LYDOVAO_CODE">
            TT_NOITRU_LUUTRU.LYDOVAO_CODE = '$LYDOVAO_CODE$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="ICD_VAOKHOA">
            TT_NOITRU_LUUTRU.ICD_VAOKHOA = '$ICD_VAOKHOA$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="NGAYRA">
            TT_NOITRU_LUUTRU.NGAYRA = '$NGAYRA$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="THOIGIANRA">
            TT_NOITRU_LUUTRU.THOIGIANRA = '$THOIGIANRA$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="LYDORA_ID">
            TT_NOITRU_LUUTRU.LYDORA_ID = '$LYDORA_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="LYDORA_CODE">
            TT_NOITRU_LUUTRU.LYDORA_CODE = '$LYDORA_CODE$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="ICD_RAKHOA">
            TT_NOITRU_LUUTRU.ICD_RAKHOA = '$ICD_RAKHOA$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="CHANDOANRAKHOA">
            TT_NOITRU_LUUTRU.CHANDOANRAKHOA = '$CHANDOANRAKHOA$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="PHONGBANCHUYENDEN_ID">
            TT_NOITRU_LUUTRU.PHONGBANCHUYENDEN_ID = '$PHONGBANCHUYENDEN_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="PHONGBANCHUYENDI_ID">
            TT_NOITRU_LUUTRU.PHONGBANCHUYENDI_ID = '$PHONGBANCHUYENDI_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="BACSIDIEUTRICHINH_ID">
            TT_NOITRU_LUUTRU.BACSIDIEUTRICHINH_ID = '$BACSIDIEUTRICHINH_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="BACSIDIEUTRI_ID">
            TT_NOITRU_LUUTRU.BACSIDIEUTRI_ID = '$BACSIDIEUTRI_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="LUUTRU_PREV">
            TT_NOITRU_LUUTRU.LUUTRU_PREV = '$LUUTRU_PREV$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="LUUTRU_CURRENT">
            TT_NOITRU_LUUTRU.LUUTRU_CURRENT = '$LUUTRU_CURRENT$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="DOITUONG_ID">
            TT_NOITRU_LUUTRU.DOITUONG_ID = '$DOITUONG_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="LYDOCHUYENKHOA_ID">
            TT_NOITRU_LUUTRU.LYDOCHUYENKHOA_ID = '$LYDOCHUYENKHOA_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="BENHVIEN_ID">
            TT_NOITRU_LUUTRU.BENHVIEN_ID = '$BENHVIEN_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="NGUOINHAP_ID">
            TT_NOITRU_LUUTRU.NGUOINHAP_ID = '$NGUOINHAP_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="NGAYTAO">
            TT_NOITRU_LUUTRU.NGAYTAO = '$NGAYTAO$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="NGUOITAO_ID">
            TT_NOITRU_LUUTRU.NGUOITAO_ID = '$NGUOITAO_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="NGAYCAPNHAT">
            TT_NOITRU_LUUTRU.NGAYCAPNHAT = '$NGAYCAPNHAT$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="NGUOICAPNHAT_ID">
            TT_NOITRU_LUUTRU.NGUOICAPNHAT_ID = '$NGUOICAPNHAT_ID$'
          </isNotEmpty>
        </isParameterPresent>
      </dynamic>
      order by LUUTRU_ID
    </statement>
    <statement id="DAO00072_GetDetail" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
      select *
      from TT_NOITRU_LUUTRU
      where TT_NOITRU_LUUTRU.LUUTRU_ID  = '$value$'
      order by LUUTRU_ID
    </statement>
    <statement id="DAO00072_GetTTLuuTruByID" parameterClass="System.Collections.IDictionary" resultClass="DataObject">
      select *
      from TT_NOITRU_LUUTRU
      where TT_NOITRU_LUUTRU.LUUTRU_ID  = '$LUUTRU_ID$'
      order by LUUTRU_ID
    </statement>
    <insert id="DAO00072_Add" parameterClass="System.Collections.IDictionary" resultClass="System.Int64">
    <selectKey property="ID" type="pre" resultClass="System.Int64">
      select TT_NOITRU_LUUTRU_S.nextval as value from dual
    </selectKey>
      insert into TT_NOITRU_LUUTRU (
      LUUTRU_ID
      , BENHAN_ID
      , PHONGBAN_ID
      , CHUYENKHOA_ID
      , NGAYVAO
      , THOIGIANVAO
      , LYDOVAO_ID
      , LYDOVAO_CODE
      , ICD_VAOKHOA
      , NGAYRA
      , THOIGIANRA
      , LYDORA_ID
      , LYDORA_CODE
      , ICD_RAKHOA
      , CHANDOANRAKHOA
      , PHONGBANCHUYENDEN_ID
      , PHONGBANCHUYENDI_ID
      , GIUONGDATTRUOC_ID
      , BACSIDIEUTRICHINH_ID
      , BACSIDIEUTRI_ID
      , LUUTRU_PREV
      , LUUTRU_CURRENT
      , DOITUONG_ID
      , LYDOCHUYENKHOA_ID
      , BENHVIEN_ID
      , NGUOINHAP_ID
      , NGAYTAO
      , NGUOITAO_ID
      , NGAYCAPNHAT
      , NGUOICAPNHAT_ID
      ) values (
      #ID#
      , #BENHAN_ID#
      , #PHONGBAN_ID#
      , #CHUYENKHOA_ID#
      , #NGAYVAO#
      , #THOIGIANVAO#
      , #LYDOVAO_ID#
      , #LYDOVAO_CODE#
      , #ICD_VAOKHOA#
      , #NGAYRA#
      , #THOIGIANRA#
      , #LYDORA_ID#
      , #LYDORA_CODE#
      , #ICD_RAKHOA#
      , #CHANDOANRAKHOA#
      , #PHONGBANCHUYENDEN_ID#
      , #PHONGBANCHUYENDI_ID#
      , #GIUONGDATTRUOC_ID#
      , #BACSIDIEUTRICHINH_ID#
      , #BACSIDIEUTRI_ID#
      , #LUUTRU_PREV#
      , #LUUTRU_CURRENT#
      , #DOITUONG_ID#
      , #LYDOCHUYENKHOA_ID#
      , #BENHVIEN_ID#
      , #NGUOINHAP_ID#
      , #NGAYTAO#
      , #NGUOITAO_ID#
      , #NGAYCAPNHAT#
      , #NGUOICAPNHAT_ID#
      )
    </insert>

    <update id="DAO00072_Update" parameterClass="System.Collections.IDictionary">
      update TT_NOITRU_LUUTRU set
      BENHAN_ID = #BENHAN_ID#
      , PHONGBAN_ID = #PHONGBAN_ID#
      , CHUYENKHOA_ID = #CHUYENKHOA_ID#
      , NGAYVAO = #NGAYVAO#
      , THOIGIANVAO = #THOIGIANVAO#
      , LYDOVAO_ID = #LYDOVAO_ID#
      , LYDOVAO_CODE = #LYDOVAO_CODE#
      , ICD_VAOKHOA = #ICD_VAOKHOA#
      , NGAYRA = #NGAYRA#
      , THOIGIANRA = #THOIGIANRA#
      , LYDORA_ID = #LYDORA_ID#
      , LYDORA_CODE = #LYDORA_CODE#
      , ICD_RAKHOA = #ICD_RAKHOA#
      , CHANDOANRAKHOA = #CHANDOANRAKHOA#
      , PHONGBANCHUYENDEN_ID = #PHONGBANCHUYENDEN_ID#
      , PHONGBANCHUYENDI_ID = #PHONGBANCHUYENDI_ID#
      , GIUONGDATTRUOC_ID = #GIUONGDATTRUOC_ID#
      , BACSIDIEUTRICHINH_ID = #BACSIDIEUTRICHINH_ID#
      , BACSIDIEUTRI_ID = #BACSIDIEUTRI_ID#
      , LUUTRU_PREV = #LUUTRU_PREV#
      , LUUTRU_CURRENT = #LUUTRU_CURRENT#
      , DOITUONG_ID = #DOITUONG_ID#
      , LYDOCHUYENKHOA_ID = #LYDOCHUYENKHOA_ID#
      <!--, BENHVIEN_ID = #BENHVIEN_ID#-->
      , NGUOINHAP_ID = #NGUOINHAP_ID#
      <!--, NGAYTAO = #NGAYTAO#
      , NGUOITAO_ID = #NGUOITAO_ID#-->
      , NGAYCAPNHAT = #NGAYCAPNHAT#
      , NGUOICAPNHAT_ID = #NGUOICAPNHAT_ID#
      where
      LUUTRU_ID = '$LUUTRU_ID$'
    </update>

    <statement id="DAO00072_Delete" parameterClass="System.Collections.IDictionary" resultClass="System.Int32">
      delete from TT_NOITRU_LUUTRU
      where
      LUUTRU_ID = '$LUUTRU_ID$'
    </statement>

    <statement id="DAO00072_DeleteP" parameterClass="System.Collections.IDictionary" resultClass="System.Int32">
      delete from TT_NOITRU_LUUTRU
      <dynamic prepend="where">
        <isParameterPresent>
          <isNotEmpty prepend="and" property="LUUTRU_ID">
            TT_NOITRU_LUUTRU.LUUTRU_ID = '$LUUTRU_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="BENHAN_ID">
            TT_NOITRU_LUUTRU.BENHAN_ID = '$BENHAN_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="PHONGBAN_ID">
            TT_NOITRU_LUUTRU.PHONGBAN_ID = '$PHONGBAN_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="CHUYENKHOA_ID">
            TT_NOITRU_LUUTRU.CHUYENKHOA_ID = '$CHUYENKHOA_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="NGAYVAO">
            TT_NOITRU_LUUTRU.NGAYVAO = '$NGAYVAO$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="THOIGIANVAO">
            TT_NOITRU_LUUTRU.THOIGIANVAO = '$THOIGIANVAO$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="LYDOVAO_ID">
            TT_NOITRU_LUUTRU.LYDOVAO_ID = '$LYDOVAO_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="LYDOVAO_CODE">
            TT_NOITRU_LUUTRU.LYDOVAO_CODE = '$LYDOVAO_CODE$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="ICD_VAOKHOA">
            TT_NOITRU_LUUTRU.ICD_VAOKHOA = '$ICD_VAOKHOA$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="NGAYRA">
            TT_NOITRU_LUUTRU.NGAYRA = '$NGAYRA$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="THOIGIANRA">
            TT_NOITRU_LUUTRU.THOIGIANRA = '$THOIGIANRA$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="LYDORA_ID">
            TT_NOITRU_LUUTRU.LYDORA_ID = '$LYDORA_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="LYDORA_CODE">
            TT_NOITRU_LUUTRU.LYDORA_CODE = '$LYDORA_CODE$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="ICD_RAKHOA">
            TT_NOITRU_LUUTRU.ICD_RAKHOA = '$ICD_RAKHOA$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="CHANDOANRAKHOA">
            TT_NOITRU_LUUTRU.CHANDOANRAKHOA = '$CHANDOANRAKHOA$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="PHONGBANCHUYENDEN_ID">
            TT_NOITRU_LUUTRU.PHONGBANCHUYENDEN_ID = '$PHONGBANCHUYENDEN_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="PHONGBANCHUYENDI_ID">
            TT_NOITRU_LUUTRU.PHONGBANCHUYENDI_ID = '$PHONGBANCHUYENDI_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="BACSIDIEUTRICHINH_ID">
            TT_NOITRU_LUUTRU.BACSIDIEUTRICHINH_ID = '$BACSIDIEUTRICHINH_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="BACSIDIEUTRI_ID">
            TT_NOITRU_LUUTRU.BACSIDIEUTRI_ID = '$BACSIDIEUTRI_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="LUUTRU_PREV">
            TT_NOITRU_LUUTRU.LUUTRU_PREV = '$LUUTRU_PREV$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="LUUTRU_CURRENT">
            TT_NOITRU_LUUTRU.LUUTRU_CURRENT = '$LUUTRU_CURRENT$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="DOITUONG_ID">
            TT_NOITRU_LUUTRU.DOITUONG_ID = '$DOITUONG_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="LYDOCHUYENKHOA_ID">
            TT_NOITRU_LUUTRU.LYDOCHUYENKHOA_ID = '$LYDOCHUYENKHOA_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="BENHVIEN_ID">
            TT_NOITRU_LUUTRU.BENHVIEN_ID = '$BENHVIEN_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="NGUOINHAP_ID">
            TT_NOITRU_LUUTRU.NGUOINHAP_ID = '$NGUOINHAP_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="NGAYTAO">
            TT_NOITRU_LUUTRU.NGAYTAO = '$NGAYTAO$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="NGUOITAO_ID">
            TT_NOITRU_LUUTRU.NGUOITAO_ID = '$NGUOITAO_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="NGAYCAPNHAT">
            TT_NOITRU_LUUTRU.NGAYCAPNHAT = '$NGAYCAPNHAT$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="NGUOICAPNHAT_ID">
            TT_NOITRU_LUUTRU.NGUOICAPNHAT_ID = '$NGUOICAPNHAT_ID$'
          </isNotEmpty>
        </isParameterPresent>
      </dynamic>
    </statement>

    <statement id="DAO00072_GetDSICD_ID" resultClass="DataObject">
      select ICD_ID
      from TT_NOITRU_ICD
      where REF_ID = '$LUUTRU_ID$'
      and REF_TABLE = '$REF_TABLE$'
    </statement>

    <insert id="DAO00072_ThemNoiTruICD" parameterClass="System.Collections.IDictionary" resultClass="System.Int64">
    <selectKey property="ID" type="pre" resultClass="System.Int64">
      select TT_NOITRU_ICD_S.nextval as value from dual
    </selectKey>
      insert into TT_NOITRU_ICD (
      NOITRU_ICD
      , REF_ID
      , REF_TABLE
      , ICD_ID
      ) values (
      #ID#
      , #REF_ID#
      , #REF_TABLE#
      , #ICD_ID#
      )
    </insert>

    <statement id="DAO00072_XoaNoiTruICD" parameterClass="System.Collections.IDictionary" resultClass="System.Int32">
      delete from TT_NOITRU_ICD
      <dynamic prepend="where">
        <isParameterPresent>
          <isNotEmpty prepend="and" property="REF_ID">
            TT_NOITRU_ICD.REF_ID = '$REF_ID$'
          </isNotEmpty>
          <isNotEmpty prepend="and" property="REF_TABLE">
            TT_NOITRU_ICD.REF_TABLE = '$REF_TABLE$'
          </isNotEmpty>
          <dynamic prepend=" and ICD_ID in ">
            <iterate open="(" close=")" conjunction=",  " property="DEL_DSICD_ID">#DEL_DSICD_ID[]#</iterate>
          </dynamic>
        </isParameterPresent>
      </dynamic>
    </statement>
    
  
</statements>

</sqlMap>
